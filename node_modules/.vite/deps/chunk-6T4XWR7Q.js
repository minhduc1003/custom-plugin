import {
  B,
  C,
  u,
  w
} from "./chunk-WECP47J3.js";
import {
  C5,
  E7,
  Fj1,
  H0,
  H3,
  M2,
  N,
  One,
  RQe,
  Rc,
  VN2,
  VS,
  Vr,
  Yh,
  ZK1,
  _,
  b0,
  ca,
  d,
  da,
  de,
  fB1,
  ka,
  nc,
  p1,
  qC,
  t2,
  u3,
  vo
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/7c950db2.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var z = de(VN2)`
  font-size: 13px;
  margin-right: 4px;
`;
var C2 = de.div`
  display: flex;
`;
function A(e) {
  return e.uiCompInfoList().filter((t) => t.type === "form").map((t) => ({
    label: t.name,
    value: t.name
  }));
}
function f(e, t) {
  const o = e == null ? void 0 : e.getUICompByName(t);
  if (o && o.children.compType.getView() === "form")
    return o.children.comp;
}
function W(e, t) {
  const o = f(e, t);
  if (o)
    return d(Yh.Provider, {
      value: t,
      children: o.onEventPropertyView(N(p1, {
        children: [d(z, {
          onClick: () => e.setSelectedCompNames(/* @__PURE__ */ new Set([t]), "rightPanel"),
          children: t
        }), _("button.formButtonEvent")]
      }))
    });
}
var G = class extends Rc {
  getPropertyView() {
    const t = _("button.formToSubmit");
    return u3({
      filterText: t
    }, d(Vr.Consumer, {
      children: (o) => N(p1, {
        children: [d(da, {
          label: t,
          value: this.value,
          options: A(o),
          onChange: (s) => this.dispatchChangeValueAction(s),
          allowClear: true
        }), W(o, this.value)]
      })
    }));
  }
};
var J = [{
  label: _("button.default"),
  value: ""
}, {
  label: _("button.submit"),
  value: "submit"
}];
function d2(e) {
  return !e;
}
function K(e, t) {
  const o = f(e, t);
  o && o.submit();
}
var X = function() {
  const e = {
    text: t2(M2, _("button.button")),
    type: ca(J, ""),
    onEvent: One,
    disabled: H3,
    loading: H3,
    form: G,
    prefixIcon: C5,
    suffixIcon: C5,
    style: C,
    animationStyle: nc(Fj1, "animationStyle"),
    viewRef: ZK1
  };
  return new VS(e, (t) => d(w, {
    disabled: t.disabled,
    children: d(Vr.Consumer, {
      children: (o) => {
        var s;
        return N(u, {
          ref: t.viewRef,
          $buttonStyle: t.style,
          loading: t.loading,
          disabled: t.disabled || !d2(t.type) && ((s = f(o, t.form)) == null ? void 0 : s.disableSubmit()),
          onClick: () => d2(t.type) ? t.onEvent("click") : K(o, t.form),
          children: [
            t.prefixIcon && d(C2, {
              children: t.prefixIcon
            }),
            t.text || (t.prefixIcon || t.suffixIcon ? void 0 : " "),
            t.suffixIcon && d(C2, {
              children: t.suffixIcon
            })
          ]
        });
      }
    })
  })).setPropertyViewFn((t) => N(p1, {
    children: [d(ka, {
      name: b0.basic,
      children: t.text.propertyView({
        label: _("text")
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "logic" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && d(p1, {
      children: N(ka, {
        name: b0.interaction,
        children: [t.type.propertyView({
          label: _("prop.type"),
          radioButton: true
        }), d2(t.type.getView()) ? [t.onEvent.getPropertyView(), qC(t), E7(t), fB1(t)] : t.form.getPropertyView()]
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "layout" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && N(p1, {
      children: [N(ka, {
        name: b0.layout,
        children: [t.prefixIcon.propertyView({
          label: _("button.prefixIcon")
        }), t.suffixIcon.propertyView({
          label: _("button.suffixIcon")
        })]
      }), d(ka, {
        name: b0.style,
        children: t.style.getPropertyView()
      })]
    })]
  })).setExposeMethodConfigs(B).build();
}();
var Q = H0(X, [new vo("text", _("button.textDesc")), new vo("loading", _("button.loadingDesc")), ...RQe]);

export {
  Q
};
//# sourceMappingURL=chunk-6T4XWR7Q.js.map
