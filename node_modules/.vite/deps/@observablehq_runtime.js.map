{
  "version": 3,
  "sources": ["../../@observablehq/inspector/src/dispatch.js", "../../@observablehq/inspector/src/array.js", "../../@observablehq/inspector/src/inspectName.js", "../../@observablehq/inspector/src/formatSymbol.js", "../../@observablehq/inspector/src/object.js", "../../@observablehq/inspector/src/immutable.js", "../../@observablehq/inspector/src/expanded.js", "../../@observablehq/inspector/src/collapsed.js", "../../isoformat/src/format.js", "../../@observablehq/inspector/src/formatDate.js", "../../@observablehq/inspector/src/formatError.js", "../../@observablehq/inspector/src/formatRegExp.js", "../../@observablehq/inspector/src/formatString.js", "../../@observablehq/inspector/src/inspectFunction.js", "../../@observablehq/inspector/src/inspect.js", "../../@observablehq/inspector/src/index.js", "../../d3-dsv/src/dsv.js", "../../d3-dsv/src/csv.js", "../../d3-dsv/src/tsv.js", "../../d3-dsv/src/autoType.js", "../../@observablehq/stdlib/src/dependency.js", "../../@observablehq/stdlib/src/dependencies.js", "../../d3-require/src/index.mjs", "../../@observablehq/stdlib/src/require.js", "../../@observablehq/stdlib/src/sqlite.js", "../../d3-array/src/ascending.js", "../../d3-array/src/descending.js", "../../d3-array/src/bisector.js", "../../d3-array/src/number.js", "../../d3-array/src/bisect.js", "../../d3-array/src/blur.js", "../../d3-array/src/array.js", "../../d3-array/src/ticks.js", "../../d3-array/src/greatest.js", "../../d3-array/src/shuffle.js", "../../d3-array/src/reverse.js", "../../@observablehq/stdlib/src/arquero.js", "../../@observablehq/stdlib/src/arrow.js", "../../@observablehq/stdlib/src/duckdb.js", "../../@observablehq/stdlib/src/table.js", "../../@observablehq/stdlib/src/xlsx.js", "../../@observablehq/stdlib/src/fileAttachment.js", "../../@observablehq/stdlib/src/dom/index.js", "../../@observablehq/stdlib/src/dom/canvas.js", "../../@observablehq/stdlib/src/dom/context2d.js", "../../@observablehq/stdlib/src/dom/download.js", "../../@observablehq/stdlib/src/dom/element.js", "../../@observablehq/stdlib/src/dom/input.js", "../../@observablehq/stdlib/src/dom/range.js", "../../@observablehq/stdlib/src/dom/select.js", "../../@observablehq/stdlib/src/dom/svg.js", "../../@observablehq/stdlib/src/dom/text.js", "../../@observablehq/stdlib/src/dom/uid.js", "../../@observablehq/stdlib/src/files/index.js", "../../@observablehq/stdlib/src/files/buffer.js", "../../@observablehq/stdlib/src/files/text.js", "../../@observablehq/stdlib/src/files/url.js", "../../@observablehq/stdlib/src/generators/index.js", "../../@observablehq/stdlib/src/that.js", "../../@observablehq/stdlib/src/generators/disposable.js", "../../@observablehq/stdlib/src/generators/filter.js", "../../@observablehq/stdlib/src/generators/observe.js", "../../@observablehq/stdlib/src/generators/input.js", "../../@observablehq/stdlib/src/generators/map.js", "../../@observablehq/stdlib/src/generators/queue.js", "../../@observablehq/stdlib/src/generators/range.js", "../../@observablehq/stdlib/src/generators/valueAt.js", "../../@observablehq/stdlib/src/generators/worker.js", "../../@observablehq/stdlib/src/template.js", "../../@observablehq/stdlib/src/html.js", "../../@observablehq/stdlib/src/leaflet.js", "../../@observablehq/stdlib/src/md.js", "../../@observablehq/stdlib/src/mermaid.js", "../../@observablehq/stdlib/src/mutable.js", "../../@observablehq/stdlib/src/now.js", "../../@observablehq/stdlib/src/promises/index.js", "../../@observablehq/stdlib/src/promises/delay.js", "../../@observablehq/stdlib/src/promises/when.js", "../../@observablehq/stdlib/src/promises/tick.js", "../../@observablehq/stdlib/src/resolve.js", "../../@observablehq/stdlib/src/svg.js", "../../@observablehq/stdlib/src/tex.js", "../../@observablehq/stdlib/src/vegalite.js", "../../@observablehq/stdlib/src/width.js", "../../@observablehq/stdlib/src/library.js", "../../@observablehq/runtime/src/errors.js", "../../@observablehq/runtime/src/generatorish.js", "../../@observablehq/runtime/src/constant.js", "../../@observablehq/runtime/src/identity.js", "../../@observablehq/runtime/src/rethrow.js", "../../@observablehq/runtime/src/array.js", "../../@observablehq/runtime/src/noop.js", "../../@observablehq/runtime/src/variable.js", "../../@observablehq/runtime/src/module.js", "../../@observablehq/runtime/src/runtime.js"],
  "sourcesContent": ["export default function dispatch(node, type, detail) {\n  detail = detail || {};\n  var document = node.ownerDocument, event = document.defaultView.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, {detail: detail});\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(type, false, false);\n    event.detail = detail;\n  }\n  node.dispatchEvent(event);\n}\n", "// TODO https://twitter.com/mbostock/status/702737065121742848\nexport function isarray(value) {\n  return Array.isArray(value)\n      || value instanceof Int8Array\n      || value instanceof Int16Array\n      || value instanceof Int32Array\n      || value instanceof Uint8Array\n      || value instanceof Uint8ClampedArray\n      || value instanceof Uint16Array\n      || value instanceof Uint32Array\n      || value instanceof Float32Array\n      || value instanceof Float64Array;\n}\n\n// Non-integer keys in arrays, e.g. [1, 2, 0.5: \"value\"].\nexport function isindex(key) {\n  return key === (key | 0) + \"\";\n}\n", "export default function inspectName(name) {\n  const n = document.createElement(\"span\");\n  n.className = \"observablehq--cellname\";\n  n.textContent = `${name} = `;\n  return n;\n}\n", "const symbolToString = Symbol.prototype.toString;\n\n// Symbols do not coerce to strings; they must be explicitly converted.\nexport default function formatSymbol(symbol) {\n  return symbolToString.call(symbol);\n}\n", "const {getOwnPropertySymbols, prototype: {hasOwnProperty}} = Object;\nconst {toStringTag} = Symbol;\n\nexport const FORBIDDEN = {};\n\nexport const symbolsof = getOwnPropertySymbols;\n\nexport function isown(object, key) {\n  return hasOwnProperty.call(object, key);\n}\n\nexport function tagof(object) {\n  return object[toStringTag]\n      || (object.constructor && object.constructor.name)\n      || \"Object\";\n}\n\nexport function valueof(object, key) {\n  try {\n    const value = object[key];\n    if (value) value.constructor; // Test for SecurityError.\n    return value;\n  } catch (ignore) {\n    return FORBIDDEN;\n  }\n}\n", "const SYMBOLS = [\n  { symbol: \"@@__IMMUTABLE_INDEXED__@@\", name: \"Indexed\", modifier: true },\n  { symbol: \"@@__IMMUTABLE_KEYED__@@\", name: \"Keyed\", modifier: true },\n  { symbol: \"@@__IMMUTABLE_LIST__@@\", name: \"List\", arrayish: true },\n  { symbol: \"@@__IMMUTABLE_MAP__@@\", name: \"Map\" },\n  {\n    symbol: \"@@__IMMUTABLE_ORDERED__@@\",\n    name: \"Ordered\",\n    modifier: true,\n    prefix: true\n  },\n  { symbol: \"@@__IMMUTABLE_RECORD__@@\", name: \"Record\" },\n  {\n    symbol: \"@@__IMMUTABLE_SET__@@\",\n    name: \"Set\",\n    arrayish: true,\n    setish: true\n  },\n  { symbol: \"@@__IMMUTABLE_STACK__@@\", name: \"Stack\", arrayish: true }\n];\n\nexport function immutableName(obj) {\n  try {\n    let symbols = SYMBOLS.filter(({ symbol }) => obj[symbol] === true);\n    if (!symbols.length) return;\n\n    const name = symbols.find(s => !s.modifier);\n    const prefix =\n      name.name === \"Map\" && symbols.find(s => s.modifier && s.prefix);\n\n    const arrayish = symbols.some(s => s.arrayish);\n    const setish = symbols.some(s => s.setish);\n\n    return {\n      name: `${prefix ? prefix.name : \"\"}${name.name}`,\n      symbols,\n      arrayish: arrayish && !setish,\n      setish\n    };\n  } catch (e) {\n    return null;\n  }\n}\n", "import dispatch from \"./dispatch.js\";\nimport inspectName from \"./inspectName.js\";\nimport {isarray, isindex} from \"./array.js\";\nimport inspectCollapsed from \"./collapsed.js\";\nimport formatSymbol from \"./formatSymbol.js\";\nimport {inspect, replace} from \"./inspect.js\";\nimport {isown, symbolsof, tagof, valueof} from \"./object.js\";\nimport {immutableName} from \"./immutable.js\";\n\nconst {getPrototypeOf, getOwnPropertyDescriptors} = Object;\nconst objectPrototype = getPrototypeOf({});\n\nexport default function inspectExpanded(object, _, name, proto) {\n  let arrayish = isarray(object);\n  let tag, fields, next, n;\n\n  if (object instanceof Map) {\n    if (object instanceof object.constructor) {\n      tag = `Map(${object.size})`;\n      fields = iterateMap;\n    } else { // avoid incompatible receiver error for prototype\n      tag = \"Map()\";\n      fields = iterateObject;\n    }\n  } else if (object instanceof Set) {\n    if (object instanceof object.constructor) {\n      tag = `Set(${object.size})`;\n      fields = iterateSet;\n    } else { // avoid incompatible receiver error for prototype\n      tag = \"Set()\";\n      fields = iterateObject;\n    }\n  } else if (arrayish) {\n    tag = `${object.constructor.name}(${object.length})`;\n    fields = iterateArray;\n  } else if ((n = immutableName(object))) {\n    tag = `Immutable.${n.name}${n.name === \"Record\" ? \"\" : `(${object.size})`}`;\n    arrayish = n.arrayish;\n    fields = n.arrayish\n      ? iterateImArray\n      : n.setish\n      ? iterateImSet\n      : iterateImObject;\n  } else if (proto) {\n    tag = tagof(object);\n    fields = iterateProto;\n  } else {\n    tag = tagof(object);\n    fields = iterateObject;\n  }\n\n  const span = document.createElement(\"span\");\n  span.className = \"observablehq--expanded\";\n  if (name) {\n    span.appendChild(inspectName(name));\n  }\n  const a = span.appendChild(document.createElement(\"a\"));\n  a.innerHTML = `<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>`;\n  a.appendChild(document.createTextNode(`${tag}${arrayish ? \" [\" : \" {\"}`));\n  a.addEventListener(\"mouseup\", function(event) {\n    event.stopPropagation();\n    replace(span, inspectCollapsed(object, null, name, proto));\n  });\n\n  fields = fields(object);\n  for (let i = 0; !(next = fields.next()).done && i < 20; ++i) {\n    span.appendChild(next.value);\n  }\n\n  if (!next.done) {\n    const a = span.appendChild(document.createElement(\"a\"));\n    a.className = \"observablehq--field\";\n    a.style.display = \"block\";\n    a.appendChild(document.createTextNode(`  … more`));\n    a.addEventListener(\"mouseup\", function(event) {\n      event.stopPropagation();\n      span.insertBefore(next.value, span.lastChild.previousSibling);\n      for (let i = 0; !(next = fields.next()).done && i < 19; ++i) {\n        span.insertBefore(next.value, span.lastChild.previousSibling);\n      }\n      if (next.done) span.removeChild(span.lastChild.previousSibling);\n      dispatch(span, \"load\");\n    });\n  }\n\n  span.appendChild(document.createTextNode(arrayish ? \"]\" : \"}\"));\n\n  return span;\n}\n\nfunction* iterateMap(map) {\n  for (const [key, value] of map) {\n    yield formatMapField(key, value);\n  }\n  yield* iterateObject(map);\n}\n\nfunction* iterateSet(set) {\n  for (const value of set) {\n    yield formatSetField(value);\n  }\n  yield* iterateObject(set);\n}\n\nfunction* iterateImSet(set) {\n  for (const value of set) {\n    yield formatSetField(value);\n  }\n}\n\nfunction* iterateArray(array) {\n  for (let i = 0, n = array.length; i < n; ++i) {\n    if (i in array) {\n      yield formatField(i, valueof(array, i), \"observablehq--index\");\n    }\n  }\n  for (const key in array) {\n    if (!isindex(key) && isown(array, key)) {\n      yield formatField(key, valueof(array, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(array)) {\n    yield formatField(\n      formatSymbol(symbol),\n      valueof(array, symbol),\n      \"observablehq--symbol\"\n    );\n  }\n}\n\nfunction* iterateImArray(array) {\n  let i1 = 0;\n  for (const n = array.size; i1 < n; ++i1) {\n    yield formatField(i1, array.get(i1), true);\n  }\n}\n\nfunction* iterateProto(object) {\n  for (const key in getOwnPropertyDescriptors(object)) {\n    yield formatField(key, valueof(object, key), \"observablehq--key\");\n  }\n  for (const symbol of symbolsof(object)) {\n    yield formatField(\n      formatSymbol(symbol),\n      valueof(object, symbol),\n      \"observablehq--symbol\"\n    );\n  }\n\n  const proto = getPrototypeOf(object);\n  if (proto && proto !== objectPrototype) {\n    yield formatPrototype(proto);\n  }\n}\n\nfunction* iterateObject(object) {\n  for (const key in object) {\n    if (isown(object, key)) {\n      yield formatField(key, valueof(object, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(object)) {\n    yield formatField(\n      formatSymbol(symbol),\n      valueof(object, symbol),\n      \"observablehq--symbol\"\n    );\n  }\n\n  const proto = getPrototypeOf(object);\n  if (proto && proto !== objectPrototype) {\n    yield formatPrototype(proto);\n  }\n}\n\nfunction* iterateImObject(object) {\n  for (const [key, value] of object) {\n    yield formatField(key, value, \"observablehq--key\");\n  }\n}\n\nfunction formatPrototype(value) {\n  const item = document.createElement(\"div\");\n  const span = item.appendChild(document.createElement(\"span\"));\n  item.className = \"observablehq--field\";\n  span.className = \"observablehq--prototype-key\";\n  span.textContent = `  <prototype>`;\n  item.appendChild(document.createTextNode(\": \"));\n  item.appendChild(inspect(value, undefined, undefined, undefined, true));\n  return item;\n}\n\nfunction formatField(key, value, className) {\n  const item = document.createElement(\"div\");\n  const span = item.appendChild(document.createElement(\"span\"));\n  item.className = \"observablehq--field\";\n  span.className = className;\n  span.textContent = `  ${key}`;\n  item.appendChild(document.createTextNode(\": \"));\n  item.appendChild(inspect(value));\n  return item;\n}\n\nfunction formatMapField(key, value) {\n  const item = document.createElement(\"div\");\n  item.className = \"observablehq--field\";\n  item.appendChild(document.createTextNode(\"  \"));\n  item.appendChild(inspect(key));\n  item.appendChild(document.createTextNode(\" => \"));\n  item.appendChild(inspect(value));\n  return item;\n}\n\nfunction formatSetField(value) {\n  const item = document.createElement(\"div\");\n  item.className = \"observablehq--field\";\n  item.appendChild(document.createTextNode(\"  \"));\n  item.appendChild(inspect(value));\n  return item;\n}\n", "import {isarray, isindex} from \"./array.js\";\nimport inspectExpanded from \"./expanded.js\";\nimport formatSymbol from \"./formatSymbol.js\";\nimport inspectName from \"./inspectName.js\";\nimport {inspect, replace} from \"./inspect.js\";\nimport {isown, symbolsof, tagof, valueof} from \"./object.js\";\nimport {immutableName} from \"./immutable.js\";\n\nfunction hasSelection(elem) {\n  const sel = window.getSelection();\n  return (\n    sel.type === \"Range\" &&\n    (sel.containsNode(elem, true) ||\n      elem.contains(sel.anchorNode) ||\n      elem.contains(sel.focusNode))\n  );\n}\n\nexport default function inspectCollapsed(object, shallow, name, proto) {\n  let arrayish = isarray(object);\n  let tag, fields, next, n;\n\n  if (object instanceof Map) {\n    if (object instanceof object.constructor) {\n      tag = `Map(${object.size})`;\n      fields = iterateMap;\n    } else { // avoid incompatible receiver error for prototype\n      tag = \"Map()\";\n      fields = iterateObject;\n    }\n  } else if (object instanceof Set) {\n    if (object instanceof object.constructor) {\n      tag = `Set(${object.size})`;\n      fields = iterateSet;\n    } else { // avoid incompatible receiver error for prototype\n      tag = \"Set()\";\n      fields = iterateObject;\n    }\n  } else if (arrayish) {\n    tag = `${object.constructor.name}(${object.length})`;\n    fields = iterateArray;\n  } else if ((n = immutableName(object))) {\n    tag = `Immutable.${n.name}${n.name === 'Record' ? '' : `(${object.size})`}`;\n    arrayish = n.arrayish;\n    fields = n.arrayish ? iterateImArray : n.setish ? iterateImSet : iterateImObject;\n  } else {\n    tag = tagof(object);\n    fields = iterateObject;\n  }\n\n  if (shallow) {\n    const span = document.createElement(\"span\");\n    span.className = \"observablehq--shallow\";\n    if (name) {\n      span.appendChild(inspectName(name));\n    }\n    span.appendChild(document.createTextNode(tag));\n    span.addEventListener(\"mouseup\", function(event) {\n      if (hasSelection(span)) return;\n      event.stopPropagation();\n      replace(span, inspectCollapsed(object));\n    });\n    return span;\n  }\n\n  const span = document.createElement(\"span\");\n  span.className = \"observablehq--collapsed\";\n  if (name) {\n    span.appendChild(inspectName(name));\n  }\n  const a = span.appendChild(document.createElement(\"a\"));\n  a.innerHTML = `<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>`;\n  a.appendChild(document.createTextNode(`${tag}${arrayish ? \" [\" : \" {\"}`));\n  span.addEventListener(\"mouseup\", function(event) {\n    if (hasSelection(span)) return;\n    event.stopPropagation();\n    replace(span, inspectExpanded(object, null, name, proto));\n  }, true);\n\n  fields = fields(object);\n  for (let i = 0; !(next = fields.next()).done && i < 20; ++i) {\n    if (i > 0) span.appendChild(document.createTextNode(\", \"));\n    span.appendChild(next.value);\n  }\n\n  if (!next.done) span.appendChild(document.createTextNode(\", …\"));\n  span.appendChild(document.createTextNode(arrayish ? \"]\" : \"}\"));\n\n  return span;\n}\n\nfunction* iterateMap(map) {\n  for (const [key, value] of map) {\n    yield formatMapField(key, value);\n  }\n  yield* iterateObject(map);\n}\n\nfunction* iterateSet(set) {\n  for (const value of set) {\n    yield inspect(value, true);\n  }\n  yield* iterateObject(set);\n}\n\nfunction* iterateImSet(set) {\n  for (const value of set) {\n    yield inspect(value, true);\n  }\n}\n\nfunction* iterateImArray(array) {\n  let i0 = -1, i1 = 0;\n  for (const n = array.size; i1 < n; ++i1) {\n    if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n    yield inspect(array.get(i1), true);\n    i0 = i1;\n  }\n  if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n}\n\nfunction* iterateArray(array) {\n  let i0 = -1, i1 = 0;\n  for (const n = array.length; i1 < n; ++i1) {\n    if (i1 in array) {\n      if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n      yield inspect(valueof(array, i1), true);\n      i0 = i1;\n    }\n  }\n  if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n  for (const key in array) {\n    if (!isindex(key) && isown(array, key)) {\n      yield formatField(key, valueof(array, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(array)) {\n    yield formatField(formatSymbol(symbol), valueof(array, symbol), \"observablehq--symbol\");\n  }\n}\n\nfunction* iterateObject(object) {\n  for (const key in object) {\n    if (isown(object, key)) {\n      yield formatField(key, valueof(object, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(object)) {\n    yield formatField(formatSymbol(symbol), valueof(object, symbol), \"observablehq--symbol\");\n  }\n}\n\nfunction* iterateImObject(object) {\n  for (const [key, value] of object) {\n    yield formatField(key, value, \"observablehq--key\");\n  }\n}\n\nfunction formatEmpty(e) {\n  const span = document.createElement(\"span\");\n  span.className = \"observablehq--empty\";\n  span.textContent = e === 1 ? \"empty\" : `empty × ${e}`;\n  return span;\n}\n\nfunction formatField(key, value, className) {\n  const fragment = document.createDocumentFragment();\n  const span = fragment.appendChild(document.createElement(\"span\"));\n  span.className = className;\n  span.textContent = key;\n  fragment.appendChild(document.createTextNode(\": \"));\n  fragment.appendChild(inspect(value, true));\n  return fragment;\n}\n\nfunction formatMapField(key, value) {\n  const fragment = document.createDocumentFragment();\n  fragment.appendChild(inspect(key, true));\n  fragment.appendChild(document.createTextNode(\" => \"));\n  fragment.appendChild(inspect(value, true));\n  return fragment;\n}\n", "export default function format(date, fallback) {\n  if (!(date instanceof Date)) date = new Date(+date);\n  if (isNaN(date)) return typeof fallback === \"function\" ? fallback(date) : fallback;\n  const hours = date.getUTCHours();\n  const minutes = date.getUTCMinutes();\n  const seconds = date.getUTCSeconds();\n  const milliseconds = date.getUTCMilliseconds();\n  return `${formatYear(date.getUTCFullYear(), 4)}-${pad(date.getUTCMonth() + 1, 2)}-${pad(date.getUTCDate(), 2)}${\n    hours || minutes || seconds || milliseconds ? `T${pad(hours, 2)}:${pad(minutes, 2)}${\n      seconds || milliseconds ? `:${pad(seconds, 2)}${\n        milliseconds ? `.${pad(milliseconds, 3)}` : ``\n      }` : ``\n    }Z` : ``\n  }`;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? `-${pad(-year, 6)}`\n    : year > 9999 ? `+${pad(year, 6)}`\n    : pad(year, 4);\n}\n\nfunction pad(value, width) {\n  return `${value}`.padStart(width, \"0\");\n}\n", "import {format} from \"isoformat\";\n\nexport default function formatDate(date) {\n  return format(date, \"Invalid Date\");\n}\n", "var errorToString = Error.prototype.toString;\n\nexport default function formatError(value) {\n  return value.stack || errorToString.call(value);\n}\n", "var regExpToString = RegExp.prototype.toString;\n\nexport default function formatRegExp(value) {\n  return regExpToString.call(value);\n}\n", "import inspectName from \"./inspectName.js\";\nimport {inspect, replace} from \"./inspect.js\";\n\n/* eslint-disable no-control-regex */\nconst NEWLINE_LIMIT = 20;\n\nexport default function formatString(string, shallow, expanded, name) {\n  if (shallow === false) {\n    // String has fewer escapes displayed with double quotes\n    if (count(string, /[\"\\n]/g) <= count(string, /`|\\${/g)) {\n      const span = document.createElement(\"span\");\n      if (name) span.appendChild(inspectName(name));\n      const textValue = span.appendChild(document.createElement(\"span\"));\n      textValue.className = \"observablehq--string\";\n      textValue.textContent = JSON.stringify(string);\n      return span;\n    }\n    const lines = string.split(\"\\n\");\n    if (lines.length > NEWLINE_LIMIT && !expanded) {\n      const div = document.createElement(\"div\");\n      if (name) div.appendChild(inspectName(name));\n      const textValue = div.appendChild(document.createElement(\"span\"));\n      textValue.className = \"observablehq--string\";\n      textValue.textContent = \"`\" + templatify(lines.slice(0, NEWLINE_LIMIT).join(\"\\n\"));\n      const splitter = div.appendChild(document.createElement(\"span\"));\n      const truncatedCount = lines.length - NEWLINE_LIMIT;\n      splitter.textContent = `Show ${truncatedCount} truncated line${truncatedCount > 1 ? \"s\": \"\"}`; splitter.className = \"observablehq--string-expand\";\n      splitter.addEventListener(\"mouseup\", function (event) {\n        event.stopPropagation();\n        replace(div, inspect(string, shallow, true, name));\n      });\n      return div;\n    }\n    const span = document.createElement(\"span\");\n    if (name) span.appendChild(inspectName(name));\n    const textValue = span.appendChild(document.createElement(\"span\"));\n    textValue.className = `observablehq--string${expanded ? \" observablehq--expanded\" : \"\"}`;\n    textValue.textContent = \"`\" + templatify(string) + \"`\";\n    return span;\n  }\n\n  const span = document.createElement(\"span\");\n  if (name) span.appendChild(inspectName(name));\n  const textValue = span.appendChild(document.createElement(\"span\"));\n  textValue.className = \"observablehq--string\";\n  textValue.textContent = JSON.stringify(string.length > 100 ?\n    `${string.slice(0, 50)}…${string.slice(-49)}` : string);\n  return span;\n}\n\nfunction templatify(string) {\n  return string.replace(/[\\\\`\\x00-\\x09\\x0b-\\x19]|\\${/g, templatifyChar);\n}\n\nfunction templatifyChar(char) {\n  var code = char.charCodeAt(0);\n  switch (code) {\n    case 0x8: return \"\\\\b\";\n    case 0x9: return \"\\\\t\";\n    case 0xb: return \"\\\\v\";\n    case 0xc: return \"\\\\f\";\n    case 0xd: return \"\\\\r\";\n  }\n  return code < 0x10 ? \"\\\\x0\" + code.toString(16)\n      : code < 0x20 ? \"\\\\x\" + code.toString(16)\n      : \"\\\\\" + char;\n}\n\nfunction count(string, re) {\n  var n = 0;\n  while (re.exec(string)) ++n;\n  return n;\n}\n", "import inspectName from \"./inspectName.js\";\nvar toString = Function.prototype.toString,\n    TYPE_ASYNC = {prefix: \"async ƒ\"},\n    TYPE_ASYNC_GENERATOR = {prefix: \"async ƒ*\"},\n    TYPE_CLASS = {prefix: \"class\"},\n    TYPE_FUNCTION = {prefix: \"ƒ\"},\n    TYPE_GENERATOR = {prefix: \"ƒ*\"};\n\nexport default function inspectFunction(f, name) {\n  var type, m, t = toString.call(f);\n\n  switch (f.constructor && f.constructor.name) {\n    case \"AsyncFunction\": type = TYPE_ASYNC; break;\n    case \"AsyncGeneratorFunction\": type = TYPE_ASYNC_GENERATOR; break;\n    case \"GeneratorFunction\": type = TYPE_GENERATOR; break;\n    default: type = /^class\\b/.test(t) ? TYPE_CLASS : TYPE_FUNCTION; break;\n  }\n\n  // A class, possibly named.\n  // class Name\n  if (type === TYPE_CLASS) {\n    return formatFunction(type, \"\", name);\n  }\n\n  // An arrow function with a single argument.\n  // foo =>\n  // async foo =>\n  if ((m = /^(?:async\\s*)?(\\w+)\\s*=>/.exec(t))) {\n    return formatFunction(type, \"(\" + m[1] + \")\", name);\n  }\n\n  // An arrow function with parenthesized arguments.\n  // (…)\n  // async (…)\n  if ((m = /^(?:async\\s*)?\\(\\s*(\\w+(?:\\s*,\\s*\\w+)*)?\\s*\\)/.exec(t))) {\n    return formatFunction(type, m[1] ? \"(\" + m[1].replace(/\\s*,\\s*/g, \", \") + \")\" : \"()\", name);\n  }\n\n  // A function, possibly: async, generator, anonymous, simply arguments.\n  // function name(…)\n  // function* name(…)\n  // async function name(…)\n  // async function* name(…)\n  if ((m = /^(?:async\\s*)?function(?:\\s*\\*)?(?:\\s*\\w+)?\\s*\\(\\s*(\\w+(?:\\s*,\\s*\\w+)*)?\\s*\\)/.exec(t))) {\n    return formatFunction(type, m[1] ? \"(\" + m[1].replace(/\\s*,\\s*/g, \", \") + \")\" : \"()\", name);\n  }\n\n  // Something else, like destructuring, comments or default values.\n  return formatFunction(type, \"(…)\", name);\n}\n\nfunction formatFunction(type, args, cellname) {\n  var span = document.createElement(\"span\");\n  span.className = \"observablehq--function\";\n  if (cellname) {\n    span.appendChild(inspectName(cellname));\n  }\n  var spanType = span.appendChild(document.createElement(\"span\"));\n  spanType.className = \"observablehq--keyword\";\n  spanType.textContent = type.prefix;\n  span.appendChild(document.createTextNode(args));\n  return span;\n}\n", "import dispatch from \"./dispatch.js\";\nimport inspectCollapsed from \"./collapsed.js\";\nimport inspectExpanded from \"./expanded.js\";\nimport inspectName from \"./inspectName.js\";\nimport formatDate from \"./formatDate.js\";\nimport formatError from \"./formatError.js\";\nimport formatRegExp from \"./formatRegExp.js\";\nimport formatString from \"./formatString.js\";\nimport formatSymbol from \"./formatSymbol.js\";\nimport inspectFunction from \"./inspectFunction.js\";\nimport {FORBIDDEN} from \"./object.js\";\n\nconst {prototype: {toString}} = Object;\n\nexport function inspect(value, shallow, expand, name, proto) {\n  let type = typeof value;\n  switch (type) {\n    case \"boolean\":\n    case \"undefined\": { value += \"\"; break; }\n    case \"number\": { value = value === 0 && 1 / value < 0 ? \"-0\" : value + \"\"; break; }\n    case \"bigint\": { value = value + \"n\"; break; }\n    case \"symbol\": { value = formatSymbol(value, name); break; }\n    case \"function\": { return inspectFunction(value, name); }\n    case \"string\": { return formatString(value, shallow, expand, name); }\n    default: {\n      if (value === null) { type = null, value = \"null\"; break; }\n      if (value instanceof Date) { type = \"date\", value = formatDate(value, name); break; }\n      if (value === FORBIDDEN) { type = \"forbidden\", value = \"[forbidden]\"; break; }\n      switch (toString.call(value)) {\n        case \"[object RegExp]\": { type = \"regexp\", value = formatRegExp(value, name); break; }\n        case \"[object Error]\": // https://github.com/lodash/lodash/blob/master/isError.js#L26\n        case \"[object DOMException]\": { type = \"error\", value = formatError(value, name); break; }\n        default: return (expand ? inspectExpanded : inspectCollapsed)(value, shallow, name, proto);\n      }\n      break;\n    }\n  }\n  const span = document.createElement(\"span\");\n  if (name) span.appendChild(inspectName(name));\n  const n = span.appendChild(document.createElement(\"span\"));\n  n.className = `observablehq--${type}`;\n  n.textContent = value;\n  return span;\n}\n\nexport function replace(spanOld, spanNew) {\n  if (spanOld.classList.contains(\"observablehq--inspect\")) spanNew.classList.add(\"observablehq--inspect\");\n  spanOld.parentNode.replaceChild(spanNew, spanOld);\n  dispatch(spanNew, \"load\");\n}\n", "import dispatch from \"./dispatch.js\";\nimport {inspect} from \"./inspect.js\";\nimport inspectName from \"./inspectName.js\";\n\nconst LOCATION_MATCH = /\\s+\\(\\d+:\\d+\\)$/m;\n\nexport class Inspector {\n  constructor(node) {\n    if (!node) throw new Error(\"invalid node\");\n    this._node = node;\n    node.classList.add(\"observablehq\");\n  }\n  pending() {\n    const {_node} = this;\n    _node.classList.remove(\"observablehq--error\");\n    _node.classList.add(\"observablehq--running\");\n  }\n  fulfilled(value, name) {\n    const {_node} = this;\n    if (!isnode(value) || (value.parentNode && value.parentNode !== _node)) {\n      value = inspect(value, false, _node.firstChild // TODO Do this better.\n          && _node.firstChild.classList\n          && _node.firstChild.classList.contains(\"observablehq--expanded\"), name);\n      value.classList.add(\"observablehq--inspect\");\n    }\n    _node.classList.remove(\"observablehq--running\", \"observablehq--error\");\n    if (_node.firstChild !== value) {\n      if (_node.firstChild) {\n        while (_node.lastChild !== _node.firstChild) _node.removeChild(_node.lastChild);\n        _node.replaceChild(value, _node.firstChild);\n      } else {\n        _node.appendChild(value);\n      }\n    }\n    dispatch(_node, \"update\");\n  }\n  rejected(error, name) {\n    const {_node} = this;\n    _node.classList.remove(\"observablehq--running\");\n    _node.classList.add(\"observablehq--error\");\n    while (_node.lastChild) _node.removeChild(_node.lastChild);\n    var div = document.createElement(\"div\");\n    div.className = \"observablehq--inspect\";\n    if (name) div.appendChild(inspectName(name));\n    div.appendChild(document.createTextNode((error + \"\").replace(LOCATION_MATCH, \"\")));\n    _node.appendChild(div);\n    dispatch(_node, \"error\", {error: error});\n  }\n}\n\nInspector.into = function(container) {\n  if (typeof container === \"string\") {\n    container = document.querySelector(container);\n    if (container == null) throw new Error(\"container not found\");\n  }\n  return function() {\n    return new Inspector(container.appendChild(document.createElement(\"div\")));\n  };\n};\n\n// Returns true if the given value is something that should be added to the DOM\n// by the inspector, rather than being inspected. This deliberately excludes\n// DocumentFragment since appending a fragment “dissolves” (mutates) the\n// fragment, and we wish for the inspector to not have side-effects. Also,\n// HTMLElement.prototype is an instanceof Element, but not an element!\nfunction isnode(value) {\n  return (value instanceof Element || value instanceof Text)\n      && (value instanceof value.constructor);\n}\n", "var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n", "import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n", "import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n", "export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();", "export function dependency(name, version, main) {\n  return {\n    resolve(path = main) {\n      return `${name}@${version}/${path}`;\n    }\n  };\n}\n", "import {dependency} from \"./dependency.js\";\nexport const d3 = dependency(\"d3\", \"7.9.0\", \"dist/d3.min.js\");\nexport const inputs = dependency(\"@observablehq/inputs\", \"0.11.0\", \"dist/inputs.min.js\");\nexport const plot = dependency(\"@observablehq/plot\", \"0.6.16\", \"dist/plot.umd.min.js\");\nexport const graphviz = dependency(\"@observablehq/graphviz\", \"0.2.1\", \"dist/graphviz.min.js\");\nexport const highlight = dependency(\"@observablehq/highlight.js\", \"2.0.0\", \"highlight.min.js\");\nexport const katex = dependency(\"@observablehq/katex\", \"0.11.1\", \"dist/katex.min.js\");\nexport const lodash = dependency(\"lodash\", \"4.17.21\", \"lodash.min.js\");\nexport const htl = dependency(\"htl\", \"0.3.1\", \"dist/htl.min.js\");\nexport const jszip = dependency(\"jszip\", \"3.10.1\", \"dist/jszip.min.js\");\nexport const marked = dependency(\"marked\", \"0.3.12\", \"marked.min.js\");\nexport const sql = dependency(\"sql.js\", \"1.8.0\", \"dist/sql-wasm.js\");\nexport const vega = dependency(\"vega\", \"5.22.1\", \"build/vega.min.js\");\nexport const vegalite = dependency(\"vega-lite\", \"5.6.0\", \"build/vega-lite.min.js\");\nexport const vegaliteApi = dependency(\"vega-lite-api\", \"5.0.0\", \"build/vega-lite-api.min.js\");\nexport const arrow4 = dependency(\"apache-arrow\", \"4.0.1\", \"Arrow.es2015.min.js\");\nexport const arrow9 = dependency(\"apache-arrow\", \"9.0.0\", \"+esm\");\nexport const arrow11 = dependency(\"apache-arrow\", \"11.0.0\", \"+esm\");\nexport const arquero = dependency(\"arquero\", \"4.8.8\", \"dist/arquero.min.js\");\nexport const topojson = dependency(\"topojson-client\", \"3.1.0\", \"dist/topojson-client.min.js\");\nexport const exceljs = dependency(\"exceljs\", \"4.3.0\", \"dist/exceljs.min.js\");\nexport const mermaid = dependency(\"mermaid\", \"9.2.2\", \"dist/mermaid.min.js\");\nexport const leaflet = dependency(\"leaflet\", \"1.9.3\", \"dist/leaflet.js\");\nexport const duckdb = dependency(\"@duckdb/duckdb-wasm\", \"1.24.0\", \"+esm\");\n", "const metas = new Map;\nconst queue = [];\nconst map = queue.map;\nconst some = queue.some;\nconst hasOwnProperty = queue.hasOwnProperty;\nconst identifierRe = /^((?:@[^/@]+\\/)?[^/@]+)(?:@([^/]+))?(?:\\/(.*))?$/;\nconst versionRe = /^\\d+\\.\\d+\\.\\d+(-[\\w-.+]+)?$/;\nconst extensionRe = /(?:\\.[^/]*|\\/)$/;\n\nexport class RequireError extends Error {\n  constructor(message) {\n    super(message);\n  }\n}\n\nRequireError.prototype.name = RequireError.name;\n\nfunction parseIdentifier(identifier) {\n  const match = identifierRe.exec(identifier);\n  return match && {\n    name: match[1],\n    version: match[2],\n    path: match[3]\n  };\n}\n\nexport function resolveFrom(origin = \"https://cdn.jsdelivr.net/npm/\", mains = [\"unpkg\", \"jsdelivr\", \"browser\", \"main\"]) {\n  if (!/\\/$/.test(origin)) throw new Error(\"origin lacks trailing slash\");\n\n  function main(meta) {\n    for (const key of mains) {\n      let value = meta[key];\n      if (typeof value === \"string\") {\n        if (value.startsWith(\"./\")) value = value.slice(2);\n        return extensionRe.test(value) ? value : `${value}.js`;\n      }\n    }\n  }\n\n  function resolveMeta(target) {\n    const url = `${origin}${target.name}${target.version ? `@${target.version}` : \"\"}/package.json`;\n    let meta = metas.get(url);\n    if (!meta) metas.set(url, meta = fetch(url).then(response => {\n      if (!response.ok) throw new RequireError(\"unable to load package.json\");\n      if (response.redirected && !metas.has(response.url)) metas.set(response.url, meta);\n      return response.json();\n    }));\n    return meta;\n  }\n\n  return async function resolve(name, base) {\n    if (name.startsWith(origin)) name = name.substring(origin.length);\n    if (/^(\\w+:)|\\/\\//i.test(name)) return name;\n    if (/^[.]{0,2}\\//i.test(name)) return new URL(name, base == null ? location : base).href;\n    if (!name.length || /^[\\s._]/.test(name) || /\\s$/.test(name)) throw new RequireError(\"illegal name\");\n    const target = parseIdentifier(name);\n    if (!target) return `${origin}${name}`;\n    if (!target.version && base != null && base.startsWith(origin)) {\n      const meta = await resolveMeta(parseIdentifier(base.substring(origin.length)));\n      target.version = meta.dependencies && meta.dependencies[target.name] || meta.peerDependencies && meta.peerDependencies[target.name];\n    }\n    if (target.path && !extensionRe.test(target.path)) target.path += \".js\";\n    if (target.path && target.version && versionRe.test(target.version)) return `${origin}${target.name}@${target.version}/${target.path}`;\n    const meta = await resolveMeta(target);\n    return `${origin}${meta.name}@${meta.version}/${target.path || main(meta) || \"index.js\"}`;\n  };\n}\n\nexport var require = requireFrom(resolveFrom());\n\nexport function requireFrom(resolver) {\n  const cache = new Map;\n  const requireBase = requireRelative(null);\n\n  function requireAbsolute(url) {\n    if (typeof url !== \"string\") return url;\n    let module = cache.get(url);\n    if (!module) cache.set(url, module = new Promise((resolve, reject) => {\n      const script = document.createElement(\"script\");\n      script.onload = () => {\n        try { resolve(queue.pop()(requireRelative(url))); }\n        catch (error) { reject(new RequireError(\"invalid module\")); }\n        script.remove();\n      };\n      script.onerror = () => {\n        reject(new RequireError(\"unable to load module\"));\n        script.remove();\n      };\n      script.async = true;\n      script.src = url;\n      window.define = define;\n      document.head.appendChild(script);\n    }));\n    return module;\n  }\n\n  function requireRelative(base) {\n    return name => Promise.resolve(resolver(name, base)).then(requireAbsolute);\n  }\n\n  function requireAlias(aliases) {\n    return requireFrom((name, base) => {\n      if (name in aliases) {\n        name = aliases[name], base = null;\n        if (typeof name !== \"string\") return name;\n      }\n      return resolver(name, base);\n    });\n  }\n\n  function require(name) {\n    return arguments.length > 1\n        ? Promise.all(map.call(arguments, requireBase)).then(merge)\n        : requireBase(name);\n  }\n\n  require.alias = requireAlias;\n  require.resolve = resolver;\n\n  return require;\n}\n\nfunction merge(modules) {\n  const o = {};\n  for (const m of modules) {\n    for (const k in m) {\n      if (hasOwnProperty.call(m, k)) {\n        if (m[k] == null) Object.defineProperty(o, k, {get: getter(m, k)});\n        else o[k] = m[k];\n      }\n    }\n  }\n  return o;\n}\n\nfunction getter(object, name) {\n  return () => object[name];\n}\n\nfunction isbuiltin(name) {\n  name = name + \"\";\n  return name === \"exports\" || name === \"module\";\n}\n\nfunction define(name, dependencies, factory) {\n  const n = arguments.length;\n  if (n < 2) factory = name, dependencies = [];\n  else if (n < 3) factory = dependencies, dependencies = typeof name === \"string\" ? [] : name;\n  queue.push(some.call(dependencies, isbuiltin) ? require => {\n    const exports = {};\n    const module = {exports};\n    return Promise.all(map.call(dependencies, name => {\n      name = name + \"\";\n      return name === \"exports\" ? exports : name === \"module\" ? module : require(name);\n    })).then(dependencies => {\n      factory.apply(null, dependencies);\n      return module.exports;\n    });\n  } : require => {\n    return Promise.all(map.call(dependencies, require)).then(dependencies => {\n      return typeof factory === \"function\" ? factory.apply(null, dependencies) : factory;\n    });\n  });\n}\n\ndefine.amd = {};\n", "import {require as initialRequire, requireFrom} from \"d3-require\";\n\n// TODO Allow this to be overridden using the Library’s resolver.\nexport const cdn = \"https://cdn.observableusercontent.com/npm/\";\n\nexport let requireDefault = initialRequire;\n\nexport function setDefaultRequire(require) {\n  requireDefault = require;\n}\n\nexport function requirer(resolver) {\n  return resolver == null ? requireDefault : requireFrom(resolver);\n}\n", "import {sql} from \"./dependencies.js\";\nimport {requireDefault} from \"./require.js\";\n\nexport async function SQLite(require) {\n  const [init, dist] = await Promise.all([require(sql.resolve()), require.resolve(sql.resolve(\"dist/\"))]);\n  return init({locateFile: file => `${dist}${file}`});\n}\n\nexport class SQLiteDatabaseClient {\n  constructor(db) {\n    Object.defineProperties(this, {\n      _db: {value: db}\n    });\n  }\n  static async open(source) {\n    const [SQL, buffer] = await Promise.all([SQLite(requireDefault), Promise.resolve(source).then(load)]);\n    return new SQLiteDatabaseClient(new SQL.Database(buffer));\n  }\n  async query(query, params) {\n    return await exec(this._db, query, params);\n  }\n  async queryRow(query, params) {\n    return (await this.query(query, params))[0] || null;\n  }\n  async explain(query, params) {\n    const rows = await this.query(`EXPLAIN QUERY PLAN ${query}`, params);\n    return element(\"pre\", {className: \"observablehq--inspect\"}, [\n      text(rows.map(row => row.detail).join(\"\\n\"))\n    ]);\n  }\n  async describeTables({schema} = {}) {\n    return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${schema == null ? \"\" : ` AND schema = ?`} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`, schema == null ? [] : [schema]);\n  }\n  async describeColumns({schema, table} = {}) {\n    if (table == null) throw new Error(`missing table`);\n    const rows = await this.query(`SELECT name, type, \"notnull\" FROM pragma_table_info(?${schema == null ? \"\" : `, ?`}) ORDER BY cid`, schema == null ? [table] : [table, schema]);\n    if (!rows.length) throw new Error(`table not found: ${table}`);\n    return rows.map(({name, type, notnull}) => ({name, type: sqliteType(type), databaseType: type, nullable: !notnull}));\n  }\n  async describe(object) {\n    const rows = await (object === undefined\n      ? this.query(`SELECT name FROM sqlite_master WHERE type = 'table'`)\n      : this.query(`SELECT * FROM pragma_table_info(?)`, [object]));\n    if (!rows.length) throw new Error(\"Not found\");\n    const {columns} = rows;\n    return element(\"table\", {value: rows}, [\n      element(\"thead\", [element(\"tr\", columns.map(c => element(\"th\", [text(c)])))]),\n      element(\"tbody\", rows.map(r => element(\"tr\", columns.map(c => element(\"td\", [text(r[c])])))))\n    ]);\n  }\n  async sql() {\n    return this.query(...this.queryTag.apply(this, arguments));\n  }\n  queryTag(strings, ...params) {\n    return [strings.join(\"?\"), params];\n  }\n}\n\nObject.defineProperty(SQLiteDatabaseClient.prototype, \"dialect\", {\n  value: \"sqlite\"\n});\n\n// https://www.sqlite.org/datatype3.html\nfunction sqliteType(type) {\n  switch (type) {\n    case \"NULL\":\n      return \"null\";\n    case \"INT\":\n    case \"INTEGER\":\n    case \"TINYINT\":\n    case \"SMALLINT\":\n    case \"MEDIUMINT\":\n    case \"BIGINT\":\n    case \"UNSIGNED BIG INT\":\n    case \"INT2\":\n    case \"INT8\":\n      return \"integer\";\n    case \"TEXT\":\n    case \"CLOB\":\n      return \"string\";\n    case \"REAL\":\n    case \"DOUBLE\":\n    case \"DOUBLE PRECISION\":\n    case \"FLOAT\":\n    case \"NUMERIC\":\n      return \"number\";\n    case \"BLOB\":\n      return \"buffer\";\n    case \"DATE\":\n    case \"DATETIME\":\n      return \"string\"; // TODO convert strings to Date instances in sql.js\n    default:\n      return /^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\\(/.test(type) ? \"string\"\n        : /^(?:DECIMAL|NUMERIC)\\(/.test(type) ? \"number\"\n        : \"other\";\n  }\n}\n\nfunction load(source) {\n  return typeof source === \"string\" ? fetch(source).then(load)\n    : source instanceof Response || source instanceof Blob ? source.arrayBuffer().then(load)\n    : source instanceof ArrayBuffer ? new Uint8Array(source)\n    : source;\n}\n\nasync function exec(db, query, params) {\n  const [result] = await db.exec(query, params);\n  if (!result) return [];\n  const {columns, values} = result;\n  const rows = values.map(row => Object.fromEntries(row.map((value, i) => [columns[i], value])));\n  rows.columns = columns;\n  return rows;\n}\n\nfunction element(name, props, children) {\n  if (arguments.length === 2) children = props, props = undefined;\n  const element = document.createElement(name);\n  if (props !== undefined) for (const p in props) element[p] = props[p];\n  if (children !== undefined) for (const c of children) element.appendChild(c);\n  return element;\n}\n\nfunction text(value) {\n  return document.createTextNode(value);\n}\n", "export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n", "import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n", "export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], …, S[i], …, S[i + r]}, where r = ⌊radius⌋, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - ⌊radius⌋.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n", "export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n", "export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n", "export function isArqueroTable(value) {\n  // Arquero tables have a `toArrowBuffer` function\n  return value && typeof value.toArrowBuffer === \"function\";\n}\n", "import {arrow11 as arrow} from \"./dependencies.js\";\nimport {cdn} from \"./require.js\";\n\n// Returns true if the vaue is an Apache Arrow table. This uses a “duck” test\n// (instead of strict instanceof) because we want it to work with a range of\n// Apache Arrow versions at least 7.0.0 or above.\n// https://arrow.apache.org/docs/7.0/js/classes/Arrow_dom.Table.html\nexport function isArrowTable(value) {\n  return (\n    value &&\n    typeof value.getChild === \"function\" &&\n    typeof value.toArray === \"function\" &&\n    value.schema &&\n    Array.isArray(value.schema.fields)\n  );\n}\n\nexport function getArrowTableSchema(table) {\n  return table.schema.fields.map(getArrowFieldSchema);\n}\n\nfunction getArrowFieldSchema(field) {\n  return {\n    name: field.name,\n    type: getArrowType(field.type),\n    nullable: field.nullable,\n    databaseType: String(field.type)\n  };\n}\n\n// https://github.com/apache/arrow/blob/89f9a0948961f6e94f1ef5e4f310b707d22a3c11/js/src/enum.ts#L140-L141\nfunction getArrowType(type) {\n  switch (type.typeId) {\n    case 2: // Int\n      return \"integer\";\n    case 3: // Float\n    case 7: // Decimal\n      return \"number\";\n    case 4: // Binary\n    case 15: // FixedSizeBinary\n      return \"buffer\";\n    case 5: // Utf8\n      return \"string\";\n    case 6: // Bool\n      return \"boolean\";\n    case 8: // Date\n    case 9: // Time\n    case 10: // Timestamp\n      return \"date\";\n    case 12: // List\n    case 16: // FixedSizeList\n      return \"array\";\n    case 13: // Struct\n    case 14: // Union\n      return \"object\";\n    case 11: // Interval\n    case 17: // Map\n    default:\n      return \"other\";\n  }\n}\n\nexport async function loadArrow() {\n  return await import(`${cdn}${arrow.resolve()}`);\n}\n", "import {isArqueroTable} from \"./arquero.js\";\nimport {getArrowTableSchema, isArrowTable, loadArrow} from \"./arrow.js\";\nimport {duckdb} from \"./dependencies.js\";\nimport {FileAttachment} from \"./fileAttachment.js\";\nimport {cdn} from \"./require.js\";\n\n// Adapted from https://observablehq.com/@cmudig/duckdb-client\n// Copyright 2021 CMU Data Interaction Group\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n// 1. Redistributions of source code must retain the above copyright notice,\n//    this list of conditions and the following disclaimer.\n//\n// 2. Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n//\n// 3. Neither the name of the copyright holder nor the names of its contributors\n//    may be used to endorse or promote products derived from this software\n//    without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nlet promise;\n\nexport class DuckDBClient {\n  constructor(db) {\n    Object.defineProperties(this, {\n      _db: {value: db}\n    });\n  }\n\n  async queryStream(query, params) {\n    const connection = await this._db.connect();\n    let reader, batch;\n    try {\n      if (params?.length > 0) {\n        const statement = await connection.prepare(query);\n        reader = await statement.send(...params);\n      } else {\n        reader = await connection.send(query);\n      }\n      batch = await reader.next();\n      if (batch.done) throw new Error(\"missing first batch\");\n    } catch (error) {\n      await connection.close();\n      throw error;\n    }\n    return {\n      schema: getArrowTableSchema(batch.value),\n      async *readRows() {\n        try {\n          while (!batch.done) {\n            yield batch.value.toArray();\n            batch = await reader.next();\n          }\n        } finally {\n          await connection.close();\n        }\n      }\n    };\n  }\n\n  async query(query, params) {\n    const result = await this.queryStream(query, params);\n    const results = [];\n    for await (const rows of result.readRows()) {\n      for (const row of rows) {\n        results.push(row);\n      }\n    }\n    results.schema = result.schema;\n    return results;\n  }\n\n  async queryRow(query, params) {\n    const result = await this.queryStream(query, params);\n    const reader = result.readRows();\n    try {\n      const {done, value} = await reader.next();\n      return done || !value.length ? null : value[0];\n    } finally {\n      await reader.return();\n    }\n  }\n\n  async sql(strings, ...args) {\n    return await this.query(strings.join(\"?\"), args);\n  }\n\n  queryTag(strings, ...params) {\n    return [strings.join(\"?\"), params];\n  }\n\n  escape(name) {\n    return `\"${name}\"`;\n  }\n\n  async describeTables() {\n    const tables = await this.query(`SHOW TABLES`);\n    return tables.map(({name}) => ({name}));\n  }\n\n  async describeColumns({table} = {}) {\n    const columns = await this.query(`DESCRIBE ${this.escape(table)}`);\n    return columns.map(({column_name, column_type, null: nullable}) => ({\n      name: column_name,\n      type: getDuckDBType(column_type),\n      nullable: nullable !== \"NO\",\n      databaseType: column_type\n    }));\n  }\n\n  static async of(sources = {}, config = {}) {\n    const db = await createDuckDB();\n    if (config.query?.castTimestampToDate === undefined) {\n      config = {...config, query: {...config.query, castTimestampToDate: true}};\n    }\n    if (config.query?.castBigIntToDouble === undefined) {\n      config = {...config, query: {...config.query, castBigIntToDouble: true}};\n    }\n    await db.open(config);\n    await Promise.all(\n      Object.entries(sources).map(async ([name, source]) => {\n        if (source instanceof FileAttachment) { // bare file\n          await insertFile(db, name, source);\n        } else if (isArrowTable(source)) { // bare arrow table\n          await insertArrowTable(db, name, source);\n        } else if (Array.isArray(source)) { // bare array of objects\n          await insertArray(db, name, source);\n        } else if (isArqueroTable(source)) {\n          await insertArqueroTable(db, name, source);\n        } else if (\"data\" in source) { // data + options\n          const {data, ...options} = source;\n          if (isArrowTable(data)) {\n            await insertArrowTable(db, name, data, options);\n          } else {\n            await insertArray(db, name, data, options);\n          }\n        } else if (\"file\" in source) { // file + options\n          const {file, ...options} = source;\n          await insertFile(db, name, file, options);\n        } else {\n          throw new Error(`invalid source: ${source}`);\n        }\n      })\n    );\n    return new DuckDBClient(db);\n  }\n}\n\nObject.defineProperty(DuckDBClient.prototype, \"dialect\", {\n  value: \"duckdb\"\n});\n\nasync function insertFile(database, name, file, options) {\n  const url = await file.url();\n  if (url.startsWith(\"blob:\")) {\n    const buffer = await file.arrayBuffer();\n    await database.registerFileBuffer(file.name, new Uint8Array(buffer));\n  } else {\n    await database.registerFileURL(file.name, new URL(url, location).href, 4); // duckdb.DuckDBDataProtocol.HTTP\n  }\n  const connection = await database.connect();\n  try {\n    switch (file.mimeType) {\n      case \"text/csv\":\n      case \"text/tab-separated-values\": {\n        return await connection.insertCSVFromPath(file.name, {\n          name,\n          schema: \"main\",\n          ...options\n        }).catch(async (error) => {\n          // If initial attempt to insert CSV resulted in a conversion\n          // error, try again, this time treating all columns as strings.\n          if (error.toString().includes(\"Could not convert\")) {\n            return await insertUntypedCSV(connection, file, name);\n          }\n          throw error;\n        });\n      }\n      case \"application/json\":\n        return await connection.insertJSONFromPath(file.name, {\n          name,\n          schema: \"main\",\n          ...options\n        });\n      default:\n        if (/\\.arrow$/i.test(file.name)) {\n          const buffer = new Uint8Array(await file.arrayBuffer());\n          return await connection.insertArrowFromIPCStream(buffer, {\n            name,\n            schema: \"main\",\n            ...options\n          });\n        }\n        if (/\\.parquet$/i.test(file.name)) {\n          return await connection.query(\n            `CREATE VIEW '${name}' AS SELECT * FROM parquet_scan('${file.name}')`\n          );\n        }\n        throw new Error(`unknown file type: ${file.mimeType}`);\n    }\n  } finally {\n    await connection.close();\n  }\n}\n\nasync function insertUntypedCSV(connection, file, name) {\n  const statement = await connection.prepare(\n    `CREATE TABLE '${name}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`\n  );\n  return await statement.send(file.name);\n}\n\nasync function insertArrowTable(database, name, table, options) {\n  const connection = await database.connect();\n  try {\n    await connection.insertArrowTable(table, {\n      name,\n      schema: \"main\",\n      ...options\n    });\n  } finally {\n    await connection.close();\n  }\n}\n\nasync function insertArqueroTable(database, name, source) {\n  // TODO When we have stdlib versioning and can upgrade Arquero to version 5,\n  // we can then call source.toArrow() directly, with insertArrowTable()\n  const arrow = await loadArrow();\n  const table = arrow.tableFromIPC(source.toArrowBuffer());\n  return await insertArrowTable(database, name, table);\n}\n\nasync function insertArray(database, name, array, options) {\n  const arrow = await loadArrow();\n  const table = arrow.tableFromJSON(array);\n  return await insertArrowTable(database, name, table, options);\n}\n\nasync function loadDuckDB() {\n  const module = await import(`${cdn}${duckdb.resolve()}`);\n  const bundle = await module.selectBundle({\n    mvp: {\n      mainModule: `${cdn}${duckdb.resolve(\"dist/duckdb-mvp.wasm\")}`,\n      mainWorker: `${cdn}${duckdb.resolve(\"dist/duckdb-browser-mvp.worker.js\")}`\n    },\n    eh: {\n      mainModule: `${cdn}${duckdb.resolve(\"dist/duckdb-eh.wasm\")}`,\n      mainWorker: `${cdn}${duckdb.resolve(\"dist/duckdb-browser-eh.worker.js\")}`\n    }\n  });\n  const logger = new module.ConsoleLogger();\n  return {module, bundle, logger};\n}\n\nasync function createDuckDB() {\n  if (promise === undefined) promise = loadDuckDB();\n  const {module, bundle, logger} = await promise;\n  const worker = await module.createWorker(bundle.mainWorker);\n  const db = new module.AsyncDuckDB(logger, worker);\n  await db.instantiate(bundle.mainModule);\n  return db;\n}\n\n// https://duckdb.org/docs/sql/data_types/overview\nfunction getDuckDBType(type) {\n  switch (type) {\n    case \"BIGINT\":\n    case \"HUGEINT\":\n    case \"UBIGINT\":\n      return \"bigint\";\n    case \"DOUBLE\":\n    case \"REAL\":\n    case \"FLOAT\":\n      return \"number\";\n    case \"INTEGER\":\n    case \"SMALLINT\":\n    case \"TINYINT\":\n    case \"USMALLINT\":\n    case \"UINTEGER\":\n    case \"UTINYINT\":\n      return \"integer\";\n    case \"BOOLEAN\":\n      return \"boolean\";\n    case \"DATE\":\n    case \"TIMESTAMP\":\n    case \"TIMESTAMP WITH TIME ZONE\":\n      return \"date\";\n    case \"VARCHAR\":\n    case \"UUID\":\n      return \"string\";\n    // case \"BLOB\":\n    // case \"INTERVAL\":\n    // case \"TIME\":\n    default:\n      if (/^DECIMAL\\(/.test(type)) return \"integer\";\n      return \"other\";\n  }\n}\n", "import {greatest, reverse} from \"d3-array\";\nimport {FileAttachment} from \"./fileAttachment.js\";\nimport {isArqueroTable} from \"./arquero.js\";\nimport {isArrowTable, loadArrow} from \"./arrow.js\";\nimport {DuckDBClient} from \"./duckdb.js\";\n\nconst nChecks = 20; // number of values to check in each array\n\n// We support two levels of DatabaseClient. The simplest DatabaseClient\n// implements only the client.sql tagged template literal. More advanced\n// DatabaseClients implement client.query and client.queryStream, which support\n// streaming and abort, and the client.queryTag tagged template literal is used\n// to translate the contents of a SQL cell or Table cell into the appropriate\n// arguments for calling client.query or client.queryStream. For table cells, we\n// additionally require client.describeColumns. The client.describeTables method\n// is optional.\nexport function isDatabaseClient(value, mode) {\n  return (\n    value &&\n    (typeof value.sql === \"function\" ||\n      (typeof value.queryTag === \"function\" &&\n        (typeof value.query === \"function\" ||\n          typeof value.queryStream === \"function\"))) &&\n    (mode !== \"table\" || typeof value.describeColumns === \"function\") &&\n    value !== __query // don’t match our internal helper\n  );\n}\n\n// Returns true if the value is a typed array (for a single-column table), or if\n// it’s an array. In the latter case, the elements of the array must be\n// consistently typed: either plain objects or primitives or dates.\nexport function isDataArray(value) {\n  return (\n    (Array.isArray(value) &&\n      (isQueryResultSetSchema(value.schema) ||\n        isQueryResultSetColumns(value.columns) ||\n        arrayContainsObjects(value) ||\n        arrayContainsPrimitives(value) ||\n        arrayContainsDates(value))) ||\n    isTypedArray(value)\n  );\n}\n\n// Given an array, checks that the given value is an array that does not contain\n// any primitive values (at least for the first few values that we check), and\n// that the first object contains enumerable keys (see computeSchema for how we\n// infer the columns). We assume that the contents of the table are homogenous,\n// but we don’t currently enforce this.\n// https://observablehq.com/@observablehq/database-client-specification#§1\nfunction arrayContainsObjects(value) {\n  const n = Math.min(nChecks, value.length);\n  for (let i = 0; i < n; ++i) {\n    const v = value[i];\n    if (v === null || typeof v !== \"object\") return false;\n  }\n  return n > 0 && objectHasEnumerableKeys(value[0]);\n}\n\n// Using a for-in loop here means that we can abort after finding at least one\n// enumerable key (whereas Object.keys would require materializing the array of\n// all keys, which would be considerably slower if the value has many keys!).\n// This function assumes that value is an object; see arrayContainsObjects.\nfunction objectHasEnumerableKeys(value) {\n  for (const _ in value) return true;\n  return false;\n}\n\nfunction isQueryResultSetSchema(schemas) {\n  return (\n    Array.isArray(schemas) &&\n    schemas.every(isColumnSchema)\n  );\n}\n\nfunction isQueryResultSetColumns(columns) {\n  return (Array.isArray(columns) && columns.every((name) => typeof name === \"string\"));\n}\n\nfunction isColumnSchema(schema) {\n  return schema && typeof schema.name === \"string\" && typeof schema.type === \"string\";\n}\n\n// Returns true if the value represents an array of primitives (i.e., a\n// single-column table). This should only be passed values for which\n// isDataArray returns true.\nexport function arrayIsPrimitive(value) {\n  return (\n    isTypedArray(value) ||\n    arrayContainsPrimitives(value) ||\n    arrayContainsDates(value)\n  );\n}\n\n// Given an array, checks that the first n elements are primitives (number,\n// string, boolean, bigint) of a consistent type.\nfunction arrayContainsPrimitives(value) {\n  const n = Math.min(nChecks, value.length);\n  if (!(n > 0)) return false;\n  let type;\n  let hasPrimitive = false; // ensure we encounter 1+ primitives\n  for (let i = 0; i < n; ++i) {\n    const v = value[i];\n    if (v == null) continue; // ignore null and undefined\n    const t = typeof v;\n    if (type === undefined) {\n      switch (t) {\n        case \"number\":\n        case \"boolean\":\n        case \"string\":\n        case \"bigint\":\n          type = t;\n          break;\n        default:\n          return false;\n      }\n    } else if (t !== type) {\n      return false;\n    }\n    hasPrimitive = true;\n  }\n  return hasPrimitive;\n}\n\n// Given an array, checks that the first n elements are dates.\nfunction arrayContainsDates(value) {\n  const n = Math.min(nChecks, value.length);\n  if (!(n > 0)) return false;\n  let hasDate = false; // ensure we encounter 1+ dates\n  for (let i = 0; i < n; ++i) {\n    const v = value[i];\n    if (v == null) continue; // ignore null and undefined\n    if (!(v instanceof Date)) return false;\n    hasDate = true;\n  }\n  return hasDate;\n}\n\nfunction isTypedArray(value) {\n  return (\n    value instanceof Int8Array ||\n    value instanceof Int16Array ||\n    value instanceof Int32Array ||\n    value instanceof Uint8Array ||\n    value instanceof Uint8ClampedArray ||\n    value instanceof Uint16Array ||\n    value instanceof Uint32Array ||\n    value instanceof Float32Array ||\n    value instanceof Float64Array\n  );\n}\n\n// __query is used by table cells; __query.sql is used by SQL cells.\nexport const __query = Object.assign(\n  async (source, operations, invalidation, name) => {\n    source = await loadTableDataSource(await source, name);\n    if (isDatabaseClient(source)) return evaluateQuery(source, makeQueryTemplate(operations, source), invalidation);\n    if (isDataArray(source)) return __table(source, operations);\n    if (!source) throw new Error(\"missing data source\");\n    throw new Error(\"invalid data source\");\n  },\n  {\n    sql(source, invalidation, name) {\n      return async function () {\n        return evaluateQuery(await loadSqlDataSource(await source, name), arguments, invalidation);\n      };\n    }\n  }\n);\n\nexport async function loadDataSource(source, mode, name) {\n  switch (mode) {\n    case \"chart\": return loadChartDataSource(source);\n    case \"table\": return loadTableDataSource(source, name);\n    case \"sql\": return loadSqlDataSource(source, name);\n  }\n  return source;\n}\n\n// We use a weak map to cache loaded data sources by key so that we don’t have\n// to e.g. create separate SQLiteDatabaseClients every time we’re querying the\n// same SQLite file attachment. Since this is a weak map, unused references will\n// be garbage collected when they are no longer desired. Note: the name should\n// be consistent, as it is not part of the cache key!\nfunction sourceCache(loadSource) {\n  const cache = new WeakMap();\n  return (source, name) => {\n    if (!source || typeof source !== \"object\") throw new Error(\"invalid data source\");\n    let promise = cache.get(source);\n    if (!promise || (isDataArray(source) && source.length !== promise._numRows)) {\n      // Warning: do not await here! We need to populate the cache synchronously.\n      promise = loadSource(source, name);\n      promise._numRows = source.length; // This will be undefined for DatabaseClients\n      cache.set(source, promise);\n    }\n    return promise;\n  };\n}\n\nconst loadChartDataSource = sourceCache(async (source) => {\n  if (source instanceof FileAttachment) {\n    switch (source.mimeType) {\n      case \"text/csv\": return source.csv({typed: \"auto\"});\n      case \"text/tab-separated-values\": return source.tsv({typed: \"auto\"});\n      case \"application/json\": return source.json();\n    }\n    throw new Error(`unsupported file type: ${source.mimeType}`);\n  }\n  return source;\n});\n\nconst loadTableDataSource = sourceCache(async (source, name) => {\n  if (source instanceof FileAttachment) {\n    switch (source.mimeType) {\n      case \"text/csv\": return source.csv();\n      case \"text/tab-separated-values\": return source.tsv();\n      case \"application/json\": return source.json();\n      case \"application/x-sqlite3\": return source.sqlite();\n    }\n    if (/\\.(arrow|parquet)$/i.test(source.name)) return loadDuckDBClient(source, name);\n    throw new Error(`unsupported file type: ${source.mimeType}`);\n  }\n  if (isArrowTable(source) || isArqueroTable(source)) return loadDuckDBClient(source, name);\n  if (isDataArray(source) && arrayIsPrimitive(source))\n    return Array.from(source, (value) => ({value}));\n  return source;\n});\n\nconst loadSqlDataSource = sourceCache(async (source, name) => {\n  if (source instanceof FileAttachment) {\n    switch (source.mimeType) {\n      case \"text/csv\":\n      case \"text/tab-separated-values\":\n      case \"application/json\": return loadDuckDBClient(source, name);\n      case \"application/x-sqlite3\": return source.sqlite();\n    }\n    if (/\\.(arrow|parquet)$/i.test(source.name)) return loadDuckDBClient(source, name);\n    throw new Error(`unsupported file type: ${source.mimeType}`);\n  }\n  if (isDataArray(source)) return loadDuckDBClient(await asArrowTable(source, name), name);\n  if (isArrowTable(source) || isArqueroTable(source)) return loadDuckDBClient(source, name);\n  return source;\n});\n\nasync function asArrowTable(array, name) {\n  const arrow = await loadArrow();\n  return arrayIsPrimitive(array)\n    ? arrow.tableFromArrays({[name]: array})\n    : arrow.tableFromJSON(array);\n}\n\nfunction loadDuckDBClient(\n  source,\n  name = source instanceof FileAttachment\n    ? getFileSourceName(source)\n    : \"__table\"\n) {\n  return DuckDBClient.of({[name]: source});\n}\n\nfunction getFileSourceName(file) {\n  return file.name\n    .replace(/@\\d+(?=\\.|$)/, \"\") // strip Observable file version number\n    .replace(/\\.\\w+$/, \"\"); // strip file extension\n}\n\nasync function evaluateQuery(source, args, invalidation) {\n  if (!source) throw new Error(\"missing data source\");\n\n  // If this DatabaseClient supports abort and streaming, use that.\n  if (typeof source.queryTag === \"function\") {\n    const abortController = new AbortController();\n    const options = {signal: abortController.signal};\n    invalidation.then(() => abortController.abort(\"invalidated\"));\n    if (typeof source.queryStream === \"function\") {\n      return accumulateQuery(\n        source.queryStream(...source.queryTag.apply(source, args), options)\n      );\n    }\n    if (typeof source.query === \"function\") {\n      return source.query(...source.queryTag.apply(source, args), options);\n    }\n  }\n\n  // Otherwise, fallback to the basic sql tagged template literal.\n  if (typeof source.sql === \"function\") {\n    return source.sql.apply(source, args);\n  }\n\n  // TODO: test if source is a file attachment, and support CSV etc.\n  throw new Error(\"source does not implement query, queryStream, or sql\");\n}\n\n// Generator function that yields accumulated query results client.queryStream\nasync function* accumulateQuery(queryRequest) {\n  let then = performance.now();\n  const queryResponse = await queryRequest;\n  const values = [];\n  values.done = false;\n  values.error = null;\n  values.schema = queryResponse.schema;\n  try {\n    for await (const rows of queryResponse.readRows()) {\n      if (performance.now() - then > 150 && values.length > 0) {\n        yield values;\n        then = performance.now();\n      }\n      for (const value of rows) {\n        values.push(value);\n      }\n    }\n    values.done = true;\n    yield values;\n  } catch (error) {\n    values.error = error;\n    yield values;\n  }\n}\n\n/**\n * Returns a SQL query in the form [[parts], ...params] where parts is an array\n * of sub-strings and params are the parameter values to be inserted between each\n * sub-string.\n */\nexport function makeQueryTemplate(operations, source) {\n  const escaper =\n    typeof source.escape === \"function\" ? source.escape : (i) => i;\n  const {select, from, filter, sort, slice} = operations;\n  if (!from.table)\n    throw new Error(\"missing from table\");\n  if (select.columns && select.columns.length === 0)\n    throw new Error(\"at least one column must be selected\");\n  const names = new Map(operations.names?.map(({column, name}) => [column, name]));\n  const columns = select.columns ? select.columns.map((column) =>  {\n    const override = names.get(column);\n    return override ? `${escaper(column)} AS ${escaper(override)}` : escaper(column);\n  }).join(\", \") : \"*\";\n  const args = [\n    [`SELECT ${columns} FROM ${formatTable(from.table, escaper)}`]\n  ];\n  for (let i = 0; i < filter.length; ++i) {\n    appendSql(i ? `\\nAND ` : `\\nWHERE `, args);\n    appendWhereEntry(filter[i], args, escaper);\n  }\n  for (let i = 0; i < sort.length; ++i) {\n    appendSql(i ? `, ` : `\\nORDER BY `, args);\n    appendOrderBy(sort[i], args, escaper);\n  }\n  if (source.dialect === \"mssql\" || source.dialect === \"oracle\") {\n    if (slice.to !== null || slice.from !== null) {\n      if (!sort.length) {\n        if (!select.columns)\n          throw new Error(\n              \"at least one column must be explicitly specified. Received '*'.\"\n          );\n        appendSql(`\\nORDER BY `, args);\n        appendOrderBy(\n          {column: select.columns[0], direction: \"ASC\"},\n          args,\n          escaper\n        );\n      }\n      appendSql(`\\nOFFSET ${slice.from || 0} ROWS`, args);\n      appendSql(\n        `\\nFETCH NEXT ${\n          slice.to !== null ? slice.to - (slice.from || 0) : 1e9\n        } ROWS ONLY`,\n        args\n      );\n    }\n  } else {\n    if (slice.to !== null || slice.from !== null) {\n      appendSql(\n        `\\nLIMIT ${slice.to !== null ? slice.to - (slice.from || 0) : 1e9}`,\n        args\n      );\n    }\n    if (slice.from !== null) {\n      appendSql(` OFFSET ${slice.from}`, args);\n    }\n  }\n  return args;\n}\n\nfunction formatTable(table, escaper) {\n  if (typeof table === \"object\") { // i.e., not a bare string specifier\n    let from = \"\";\n    if (table.database != null) from += escaper(table.database) + \".\";\n    if (table.schema != null) from += escaper(table.schema) + \".\";\n    from += escaper(table.table);\n    return from;\n  } else {\n    return escaper(table);\n  }\n}\n\nfunction appendSql(sql, args) {\n  const strings = args[0];\n  strings[strings.length - 1] += sql;\n}\n\nfunction appendOrderBy({column, direction}, args, escaper) {\n  appendSql(`${escaper(column)} ${direction.toUpperCase()}`, args);\n}\n\nfunction appendWhereEntry({type, operands}, args, escaper) {\n  if (operands.length < 1) throw new Error(\"Invalid operand length\");\n\n  // Unary operations\n  // We treat `v` and `nv` as `NULL` and `NOT NULL` unary operations in SQL,\n  // since the database already validates column types.\n  if (operands.length === 1 || type === \"v\" || type === \"nv\") {\n    appendOperand(operands[0], args, escaper);\n    switch (type) {\n      case \"n\":\n      case \"nv\":\n        appendSql(` IS NULL`, args);\n        return;\n      case \"nn\":\n      case \"v\":\n        appendSql(` IS NOT NULL`, args);\n        return;\n      default:\n        throw new Error(\"Invalid filter operation\");\n    }\n  }\n\n  // Binary operations\n  if (operands.length === 2) {\n    if ([\"in\", \"nin\"].includes(type)) {\n      // Fallthrough to next parent block.\n    } else if ([\"c\", \"nc\"].includes(type)) {\n      // TODO: Case (in)sensitive?\n      appendOperand(operands[0], args, escaper);\n      switch (type) {\n        case \"c\":\n          appendSql(` LIKE `, args);\n          break;\n        case \"nc\":\n          appendSql(` NOT LIKE `, args);\n          break;\n      }\n      appendOperand(likeOperand(operands[1]), args, escaper);\n      return;\n    } else {\n      appendOperand(operands[0], args, escaper);\n      switch (type) {\n        case \"eq\":\n          appendSql(` = `, args);\n          break;\n        case \"ne\":\n          appendSql(` <> `, args);\n          break;\n        case \"gt\":\n          appendSql(` > `, args);\n          break;\n        case \"lt\":\n          appendSql(` < `, args);\n          break;\n        case \"gte\":\n          appendSql(` >= `, args);\n          break;\n        case \"lte\":\n          appendSql(` <= `, args);\n          break;\n        default:\n          throw new Error(\"Invalid filter operation\");\n      }\n      appendOperand(operands[1], args, escaper);\n      return;\n    }\n  }\n\n  // List operations\n  appendOperand(operands[0], args, escaper);\n  switch (type) {\n    case \"in\":\n      appendSql(` IN (`, args);\n      break;\n    case \"nin\":\n      appendSql(` NOT IN (`, args);\n      break;\n    default:\n      throw new Error(\"Invalid filter operation\");\n  }\n  appendListOperands(operands.slice(1), args);\n  appendSql(\")\", args);\n}\n\nfunction appendOperand(o, args, escaper) {\n  if (o.type === \"column\") {\n    appendSql(escaper(o.value), args);\n  } else {\n    args.push(o.value);\n    args[0].push(\"\");\n  }\n}\n\n// TODO: Support column operands here?\nfunction appendListOperands(ops, args) {\n  let first = true;\n  for (const op of ops) {\n    if (first) first = false;\n    else appendSql(\",\", args);\n    args.push(op.value);\n    args[0].push(\"\");\n  }\n}\n\nfunction likeOperand(operand) {\n  return {...operand, value: `%${operand.value}%`};\n}\n\n// Comparator function that moves null values (undefined, null, NaN) to the\n// end of the array.\nfunction defined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b));\n}\n\n// Comparator function that sorts values in ascending order, with null values at\n// the end.\nfunction ascendingDefined(a, b) {\n  return defined(a, b) || (a < b ? -1 : a > b ? 1 : 0);\n}\n\n// Comparator function that sorts values in descending order, with null values\n// at the end.\nfunction descendingDefined(a, b) {\n  return defined(a, b) || (a > b ? -1 : a < b ? 1 : 0);\n}\n\n// Functions for checking type validity\nconst isValidNumber = (value) => typeof value === \"number\" && !Number.isNaN(value);\nconst isValidInteger = (value) => Number.isInteger(value) && !Number.isNaN(value);\nconst isValidString = (value) => typeof value === \"string\";\nconst isValidBoolean = (value) => typeof value === \"boolean\";\nconst isValidBigint = (value) => typeof value === \"bigint\";\nconst isValidDate = (value) => value instanceof Date && !isNaN(value);\nconst isValidBuffer = (value) => value instanceof ArrayBuffer;\nconst isValidArray = (value) => Array.isArray(value);\nconst isValidObject = (value) => typeof value === \"object\" && value !== null;\nconst isValidOther = (value) => value != null;\n\n// Function to get the correct validity checking function based on type\nexport function getTypeValidator(colType) {\n  switch (colType) {\n    case \"string\":\n      return isValidString;\n    case \"bigint\":\n      return isValidBigint;\n    case \"boolean\":\n      return isValidBoolean;\n    case \"number\":\n      return isValidNumber;\n    case \"integer\":\n      return isValidInteger;\n    case \"date\":\n      return isValidDate;\n    case \"buffer\":\n      return isValidBuffer;\n    case \"array\":\n      return isValidArray;\n    case \"object\":\n      return isValidObject;\n    case \"other\":\n    default:\n      return isValidOther;\n  }\n}\n\n// Accepts dates in the form of ISOString and LocaleDateString, with or without time\nconst DATE_TEST = /^(([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2}))|(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2,4}))([T ]\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/;\n\nexport function coerceToType(value, type) {\n  switch (type) {\n    case \"string\":\n      return typeof value === \"string\" || value == null ? value : String(value);\n    case \"boolean\":\n      if (typeof value === \"string\") {\n        const trimValue = value.trim().toLowerCase();\n        return trimValue === \"true\"\n          ? true\n          : trimValue === \"false\"\n          ? false\n          : null;\n      }\n      return typeof value === \"boolean\" || value == null\n        ? value\n        : Boolean(value);\n    case \"bigint\":\n      return typeof value === \"bigint\" || value == null\n        ? value\n        : Number.isInteger(typeof value === \"string\" && !value.trim() ? NaN : +value)\n        ? BigInt(value) // eslint-disable-line no-undef\n        : undefined;\n    case \"integer\": // not a target type for coercion, but can be inferred\n    case \"number\": {\n      return typeof value === \"number\"\n        ? value\n        : value == null || (typeof value === \"string\" && !value.trim())\n        ? NaN\n        : Number(value);\n    }\n    case \"date\": {\n      if (value instanceof Date || value == null) return value;\n      if (typeof value === \"number\") return new Date(value);\n      const trimValue = String(value).trim();\n      if (typeof value === \"string\" && !trimValue) return null;\n      return new Date(DATE_TEST.test(trimValue) ? trimValue : NaN);\n    }\n    case \"array\":\n    case \"object\":\n    case \"buffer\":\n    case \"other\":\n      return value;\n    default:\n      throw new Error(`Unable to coerce to type: ${type}`);\n  }\n}\n\nexport function getSchema(source) {\n  const {columns} = source;\n  let {schema} = source;\n  if (!isQueryResultSetSchema(schema)) {\n    schema = inferSchema(source, isQueryResultSetColumns(columns) ? columns : undefined);\n    return {schema, inferred: true};\n  }\n  return {schema, inferred: false};\n}\n\n// This function infers a schema from the source data, if one doesn't already\n// exist, and merges type assertions into that schema. If the schema was\n// inferred or if there are type assertions, it then coerces the rows in the\n// source data to the types specified in the schema.\nfunction applyTypes(source, operations) {\n  const input = source;\n  let {schema, inferred} = getSchema(source);\n  const types = new Map(schema.map(({name, type}) => [name, type]));\n  if (operations.types) {\n    for (const {name, type} of operations.types) {\n      types.set(name, type);\n      // update schema with user-selected type\n      if (schema === input.schema) schema = schema.slice(); // copy on write\n      const colIndex = schema.findIndex((col) => col.name === name);\n      if (colIndex > -1) schema[colIndex] = {...schema[colIndex], type};\n    }\n    source = source.map(d => coerceRow(d, types, schema));\n  } else if (inferred) {\n    // Coerce data according to new schema, unless that happened due to\n    // operations.types, above.\n    source = source.map(d => coerceRow(d, types, schema));\n  }\n  return {source, schema};\n}\n\nfunction applyNames(source, operations) {\n  if (!operations.names) return source;\n  const overridesByName = new Map(operations.names.map((n) => [n.column, n]));\n  return source.map((d) =>\n    Object.fromEntries(Object.keys(d).map((k) => {\n      const override = overridesByName.get(k);\n      return [override?.name ?? k, d[k]];\n    }))\n  );\n}\n\n// This function applies table cell operations to an in-memory table (array of\n// objects); it should be equivalent to the corresponding SQL query. TODO Use\n// DuckDBClient for data arrays, too, and then we wouldn’t need our own __table\n// function to do table operations on in-memory data?\nexport function __table(source, operations) {\n  const errors = new Map();\n  const input = source;\n  const typed = applyTypes(source, operations);\n  source = typed.source;\n  let schema = typed.schema;\n  if (operations.derive) {\n    // Derived columns may depend on coerced values from the original data source,\n    // so we must evaluate derivations after the initial inference and coercion\n    // step.\n    const derivedSource = [];\n    operations.derive.map(({name, value}) => {\n      let columnErrors = [];\n      // Derived column formulas may reference renamed columns, so we must\n      // compute derivations on the renamed source. However, we don't modify the\n      // source itself with renamed names until after the other operations are\n      // applied, because operations like filter and sort reference original\n      // column names.\n      // TODO Allow derived columns to reference other derived columns.\n      applyNames(source, operations).map((row, index) => {\n        let resolved;\n        try {\n          // TODO Support referencing `index` and `rows` in the derive function.\n          resolved = value(row);\n        } catch (error) {\n          columnErrors.push({index, error});\n          resolved = undefined;\n        }\n        if (derivedSource[index]) {\n          derivedSource[index] = {...derivedSource[index], [name]: resolved};\n        } else {\n          derivedSource.push({[name]: resolved});\n        }\n      });\n      if (columnErrors.length) errors.set(name, columnErrors);\n    });\n    // Since derived columns are untyped by default, we do a pass of type\n    // inference and coercion after computing the derived values.\n    const typedDerived = applyTypes(derivedSource, operations);\n    // Merge derived source and schema with the source dataset.\n    source = source.map((row, i) => ({...row, ...typedDerived.source[i]}));\n    schema = [...schema, ...typedDerived.schema];\n  }\n  for (const {type, operands} of operations.filter) {\n    const [{value: column}] = operands;\n    const values = operands.slice(1).map(({value}) => value);\n    switch (type) {\n      // valid (matches the column type)\n      case \"v\": {\n        const [colType] = values;\n        const isValid = getTypeValidator(colType);\n        source = source.filter(d => isValid(d[column]));\n        break;\n      }\n      // not valid (doesn't match the column type)\n      case \"nv\": {\n        const [colType] = values;\n        const isValid = getTypeValidator(colType);\n        source = source.filter(d => !isValid(d[column]));\n        break;\n      }\n      case \"eq\": {\n        const [value] = values;\n        if (value instanceof Date) {\n          const time = +value; // compare as primitive\n          source = source.filter((d) => +d[column] === time);\n        } else {\n          source = source.filter((d) => d[column] === value);\n        }\n        break;\n      }\n      case \"ne\": {\n        const [value] = values;\n        source = source.filter((d) => d[column] !== value);\n        break;\n      }\n      case \"c\": {\n        const [value] = values;\n        source = source.filter(\n          (d) => typeof d[column] === \"string\" && d[column].includes(value)\n        );\n        break;\n      }\n      case \"nc\": {\n        const [value] = values;\n        source = source.filter(\n          (d) => typeof d[column] === \"string\" && !d[column].includes(value)\n        );\n        break;\n      }\n      case \"in\": {\n        const set = new Set(values); // TODO support dates?\n        source = source.filter((d) => set.has(d[column]));\n        break;\n      }\n      case \"nin\": {\n        const set = new Set(values); // TODO support dates?\n        source = source.filter((d) => !set.has(d[column]));\n        break;\n      }\n      case \"n\": {\n        source = source.filter((d) => d[column] == null);\n        break;\n      }\n      case \"nn\": {\n        source = source.filter((d) => d[column] != null);\n        break;\n      }\n      case \"lt\": {\n        const [value] = values;\n        source = source.filter((d) => d[column] < value);\n        break;\n      }\n      case \"lte\": {\n        const [value] = values;\n        source = source.filter((d) => d[column] <= value);\n        break;\n      }\n      case \"gt\": {\n        const [value] = values;\n        source = source.filter((d) => d[column] > value);\n        break;\n      }\n      case \"gte\": {\n        const [value] = values;\n        source = source.filter((d) => d[column] >= value);\n        break;\n      }\n      default:\n        throw new Error(`unknown filter type: ${type}`);\n    }\n  }\n  for (const {column, direction} of reverse(operations.sort)) {\n    const compare = direction === \"desc\" ? descendingDefined : ascendingDefined;\n    if (source === input) source = source.slice(); // defensive copy\n    source.sort((a, b) => compare(a[column], b[column]));\n  }\n  let {from, to} = operations.slice;\n  from = from == null ? 0 : Math.max(0, from);\n  to = to == null ? Infinity : Math.max(0, to);\n  if (from > 0 || to < Infinity) {\n    source = source.slice(Math.max(0, from), Math.max(0, to));\n  }\n  // Preserve the schema for all columns.\n  let fullSchema = schema.slice();\n  if (operations.select.columns) {\n    if (schema) {\n      const schemaByName = new Map(schema.map((s) => [s.name, s]));\n      schema = operations.select.columns.map((c) => schemaByName.get(c));\n    }\n    source = source.map((d) =>\n      Object.fromEntries(operations.select.columns.map((c) => [c, d[c]]))\n    );\n  }\n  if (operations.names) {\n    const overridesByName = new Map(operations.names.map((n) => [n.column, n]));\n    if (schema) {\n      schema = schema.map((s) => {\n        const override = overridesByName.get(s.name);\n        return ({...s, ...(override ? {name: override.name} : null)});\n      });\n    }\n    if (fullSchema) {\n      fullSchema = fullSchema.map((s) => {\n        const override = overridesByName.get(s.name);\n        return ({...s, ...(override ? {name: override.name} : null)});\n      });\n    }\n    source = applyNames(source, operations);\n  }\n  if (source !== input) {\n    if (schema) source.schema = schema;\n  }\n  source.fullSchema = fullSchema;\n  source.errors = errors;\n  return source;\n}\n\nexport function coerceRow(object, types, schema) {\n  const coerced = {};\n  for (const col of schema) {\n    const type = types.get(col.name);\n    const value = object[col.name];\n    coerced[col.name] = type === \"raw\" ? value : coerceToType(value, type);\n  }\n  return coerced;\n}\n\nfunction createTypeCount() {\n  return {\n    boolean: 0,\n    integer: 0,\n    number: 0,\n    date: 0,\n    string: 0,\n    array: 0,\n    object: 0,\n    bigint: 0,\n    buffer: 0,\n    defined: 0\n  };\n}\n\n// Caution: the order below matters! 🌶️ The first one that passes the ≥90% test\n// should be the one that we chose, and therefore these types should be listed\n// from most specific to least specific.\nconst types = [\n  \"boolean\",\n  \"integer\",\n  \"number\",\n  \"date\",\n  \"bigint\",\n  \"array\",\n  \"object\",\n  \"buffer\"\n  // Note: \"other\" and \"string\" are intentionally omitted; see below!\n];\n\n// We need to show *all* keys present in the array of Objects\nfunction getAllKeys(rows) {\n  const keys = new Set();\n  for (const row of rows) {\n    // avoid crash if row is null or undefined\n    if (row) {\n      // only enumerable properties\n      for (const key in row) {\n        // only own properties\n        if (Object.prototype.hasOwnProperty.call(row, key)) {\n          // unique properties, in the order they appear\n          keys.add(key);\n        }\n      }\n    }\n  }\n  return Array.from(keys);\n}\n\nexport function inferSchema(source, columns = getAllKeys(source)) {\n  const schema = [];\n  const sampleSize = 100;\n  const sample = source.slice(0, sampleSize);\n  const typeCounts = {};\n  for (const col of columns) {\n    const colCount = typeCounts[col] = createTypeCount();\n    for (const d of sample) {\n      let value = d[col];\n      if (value == null) continue;\n      const type = typeof value;\n      if (type !== \"string\") {\n        ++colCount.defined;\n        if (Array.isArray(value)) ++colCount.array;\n        else if (value instanceof Date) ++colCount.date;\n        else if (value instanceof ArrayBuffer) ++colCount.buffer;\n        else if (type === \"number\") {\n          ++colCount.number;\n          if (Number.isInteger(value)) ++colCount.integer;\n        }\n        // bigint, boolean, or object\n        else if (type in colCount) ++colCount[type];\n      } else {\n        value = value.trim();\n        if (!value) continue;\n        ++colCount.defined;\n        ++colCount.string;\n        if (/^(true|false)$/i.test(value)) {\n          ++colCount.boolean;\n        } else if (value && !isNaN(value)) {\n          ++colCount.number;\n          if (Number.isInteger(+value)) ++colCount.integer;\n        } else if (DATE_TEST.test(value)) ++colCount.date;\n      }\n    }\n    // Chose the non-string, non-other type with the greatest count that is also\n    // ≥90%; or if no such type meets that criterion, fallback to string if\n    // ≥90%; and lastly fallback to other.\n    const minCount = Math.max(1, colCount.defined * 0.9);\n    const type =\n      greatest(types, (type) =>\n        colCount[type] >= minCount ? colCount[type] : NaN\n      ) ?? (colCount.string >= minCount ? \"string\" : \"other\");\n    schema.push({\n      name: col,\n      type: type,\n      inferred: type\n    });\n  }\n  return schema;\n}\n", "export class Workbook {\n  constructor(workbook) {\n    Object.defineProperties(this, {\n      _: {value: workbook},\n      sheetNames: {\n        value: workbook.worksheets.map((s) => s.name),\n        enumerable: true\n      }\n    });\n  }\n  sheet(name, options) {\n    const sname =\n      typeof name === \"number\"\n        ? this.sheetNames[name]\n        : this.sheetNames.includes((name += \"\"))\n        ? name\n        : null;\n    if (sname == null) throw new Error(`Sheet not found: ${name}`);\n    const sheet = this._.getWorksheet(sname);\n    return extract(sheet, options);\n  }\n}\n\nfunction extract(sheet, {range, headers} = {}) {\n  let [[c0, r0], [c1, r1]] = parseRange(range, sheet);\n  const headerRow = headers ? sheet._rows[r0++] : null;\n  let names = new Set([\"#\"]);\n  for (let n = c0; n <= c1; n++) {\n    const value = headerRow ? valueOf(headerRow.findCell(n + 1)) : null;\n    let name = (value && value + \"\") || toColumn(n);\n    while (names.has(name)) name += \"_\";\n    names.add(name);\n  }\n  names = new Array(c0).concat(Array.from(names));\n\n  const output = new Array(r1 - r0 + 1);\n  for (let r = r0; r <= r1; r++) {\n    const row = (output[r - r0] = Object.create(null, {\"#\": {value: r + 1}}));\n    const _row = sheet.getRow(r + 1);\n    if (_row.hasValues)\n      for (let c = c0; c <= c1; c++) {\n        const value = valueOf(_row.findCell(c + 1));\n        if (value != null) row[names[c + 1]] = value;\n      }\n  }\n\n  output.columns = names.filter(() => true); // Filter sparse columns\n  return output;\n}\n\nfunction valueOf(cell) {\n  if (!cell) return;\n  const {value} = cell;\n  if (value && typeof value === \"object\" && !(value instanceof Date)) {\n    if (value.formula || value.sharedFormula) {\n      return value.result && value.result.error ? NaN : value.result;\n    }\n    if (value.richText) {\n      return richText(value);\n    }\n    if (value.text) {\n      let {text} = value;\n      if (text.richText) text = richText(text);\n      return value.hyperlink && value.hyperlink !== text\n        ? `${value.hyperlink} ${text}`\n        : text;\n    }\n    return value;\n  }\n  return value;\n}\n\nfunction richText(value) {\n  return value.richText.map((d) => d.text).join(\"\");\n}\n\nfunction parseRange(specifier = \":\", {columnCount, rowCount}) {\n  specifier += \"\";\n  if (!specifier.match(/^[A-Z]*\\d*:[A-Z]*\\d*$/))\n    throw new Error(\"Malformed range specifier\");\n  const [[c0 = 0, r0 = 0], [c1 = columnCount - 1, r1 = rowCount - 1]] =\n    specifier.split(\":\").map(fromCellReference);\n  return [\n    [c0, r0],\n    [c1, r1]\n  ];\n}\n\n// Returns the default column name for a zero-based column index.\n// For example: 0 -> \"A\", 1 -> \"B\", 25 -> \"Z\", 26 -> \"AA\", 27 -> \"AB\".\nfunction toColumn(c) {\n  let sc = \"\";\n  c++;\n  do {\n    sc = String.fromCharCode(64 + (c % 26 || 26)) + sc;\n  } while ((c = Math.floor((c - 1) / 26)));\n  return sc;\n}\n\n// Returns the zero-based indexes from a cell reference.\n// For example: \"A1\" -> [0, 0], \"B2\" -> [1, 1], \"AA10\" -> [26, 9].\nfunction fromCellReference(s) {\n  const [, sc, sr] = s.match(/^([A-Z]*)(\\d*)$/);\n  let c = 0;\n  if (sc)\n    for (let i = 0; i < sc.length; i++)\n      c += Math.pow(26, sc.length - i - 1) * (sc.charCodeAt(i) - 64);\n  return [c ? c - 1 : undefined, sr ? +sr - 1 : undefined];\n}\n", "import {autoType, csvParse, csvParseRows, tsvParse, tsvParseRows} from \"d3-dsv\";\nimport {arrow4, arrow9, arrow11, jszip, exceljs} from \"./dependencies.js\";\nimport {cdn, requireDefault} from \"./require.js\";\nimport {SQLiteDatabaseClient} from \"./sqlite.js\";\nimport {inferSchema, coerceRow} from \"./table.js\";\nimport {Workbook} from \"./xlsx.js\";\n\nasync function remote_fetch(file) {\n  const response = await fetch(await file.url());\n  if (!response.ok) throw new Error(`Unable to load file: ${file.name}`);\n  return response;\n}\n\nexport function enforceSchema(source, schema) {\n  const types = new Map(schema.map(({name, type}) => [name, type]));\n  return Object.assign(source.map(d => coerceRow(d, types, schema)), {schema});\n}\n\nasync function dsv(file, delimiter, {array = false, typed = false} = {}) {\n  const text = await file.text();\n  const parse = (delimiter === \"\\t\"\n    ? (array ? tsvParseRows : tsvParse)\n    : (array ? csvParseRows : csvParse));\n  if (typed === \"auto\" && !array) {\n    const source = parse(text);\n    return enforceSchema(source, inferSchema(source, source.columns));\n  }\n  return parse(text, typed && autoType);\n}\n\nexport class AbstractFile {\n  constructor(name, mimeType) {\n    Object.defineProperty(this, \"name\", {value: name, enumerable: true});\n    if (mimeType !== undefined) Object.defineProperty(this, \"mimeType\", {value: mimeType + \"\", enumerable: true});\n  }\n  async blob() {\n    return (await remote_fetch(this)).blob();\n  }\n  async arrayBuffer() {\n    return (await remote_fetch(this)).arrayBuffer();\n  }\n  async text() {\n    return (await remote_fetch(this)).text();\n  }\n  async json() {\n    return (await remote_fetch(this)).json();\n  }\n  async stream() {\n    return (await remote_fetch(this)).body;\n  }\n  async csv(options) {\n    return dsv(this, \",\", options);\n  }\n  async tsv(options) {\n    return dsv(this, \"\\t\", options);\n  }\n  async image(props) {\n    const url = await this.url();\n    return new Promise((resolve, reject) => {\n      const i = new Image();\n      if (new URL(url, document.baseURI).origin !== new URL(location).origin) {\n        i.crossOrigin = \"anonymous\";\n      }\n      Object.assign(i, props);\n      i.onload = () => resolve(i);\n      i.onerror = () => reject(new Error(`Unable to load file: ${this.name}`));\n      i.src = url;\n    });\n  }\n  async arrow({version = 4} = {}) {\n    switch (version) {\n      case 4: {\n        const [Arrow, response] = await Promise.all([requireDefault(arrow4.resolve()), remote_fetch(this)]);\n        return Arrow.Table.from(response);\n      }\n      case 9: {\n        const [Arrow, response] = await Promise.all([import(`${cdn}${arrow9.resolve()}`), remote_fetch(this)]);\n        return Arrow.tableFromIPC(response);\n      }\n      case 11: {\n        const [Arrow, response] = await Promise.all([import(`${cdn}${arrow11.resolve()}`), remote_fetch(this)]);\n        return Arrow.tableFromIPC(response);\n      }\n      default: throw new Error(`unsupported arrow version: ${version}`);\n    }\n  }\n  async sqlite() {\n    return SQLiteDatabaseClient.open(remote_fetch(this));\n  }\n  async zip() {\n    const [JSZip, buffer] = await Promise.all([requireDefault(jszip.resolve()), this.arrayBuffer()]);\n    return new ZipArchive(await JSZip.loadAsync(buffer));\n  }\n  async xml(mimeType = \"application/xml\") {\n    return (new DOMParser).parseFromString(await this.text(), mimeType);\n  }\n  async html() {\n    return this.xml(\"text/html\");\n  }\n  async xlsx() {\n    const [ExcelJS, buffer] = await Promise.all([requireDefault(exceljs.resolve()), this.arrayBuffer()]);\n    return new Workbook(await new ExcelJS.Workbook().xlsx.load(buffer));\n  }\n}\n\nexport class FileAttachment extends AbstractFile {\n  constructor(url, name, mimeType) {\n    super(name, mimeType);\n    Object.defineProperty(this, \"_url\", {value: url});\n  }\n  async url() {\n    return (await this._url) + \"\";\n  }\n}\n\nexport function NoFileAttachments(name) {\n  throw new Error(`File not found: ${name}`);\n}\n\nexport function FileAttachments(resolve) {\n  return Object.assign(\n    name => {\n      const result = resolve(name += \"\");\n      if (result == null) throw new Error(`File not found: ${name}`);\n      if (typeof result === \"object\" && \"url\" in result) {\n        const {url, mimeType} = result;\n        return new FileAttachment(url, name, mimeType);\n      }\n      return new FileAttachment(result, name);\n    },\n    {prototype: FileAttachment.prototype} // instanceof\n  );\n}\n\nexport class ZipArchive {\n  constructor(archive) {\n    Object.defineProperty(this, \"_\", {value: archive});\n    this.filenames = Object.keys(archive.files).filter(name => !archive.files[name].dir);\n  }\n  file(path) {\n    const object = this._.file(path += \"\");\n    if (!object || object.dir) throw new Error(`file not found: ${path}`);\n    return new ZipArchiveEntry(object);\n  }\n}\n\nclass ZipArchiveEntry extends AbstractFile {\n  constructor(object) {\n    super(object.name);\n    Object.defineProperty(this, \"_\", {value: object});\n    Object.defineProperty(this, \"_url\", {writable: true});\n  }\n  async url() {\n    return this._url || (this._url = this.blob().then(URL.createObjectURL));\n  }\n  async blob() {\n    return this._.async(\"blob\");\n  }\n  async arrayBuffer() {\n    return this._.async(\"arraybuffer\");\n  }\n  async text() {\n    return this._.async(\"text\");\n  }\n  async json() {\n    return JSON.parse(await this.text());\n  }\n}\n", "export {canvas} from \"./canvas.js\";\nexport {context2d} from \"./context2d.js\";\nexport {download} from \"./download.js\";\nexport {element} from \"./element.js\";\nexport {input} from \"./input.js\";\nexport {range} from \"./range.js\";\nexport {select} from \"./select.js\";\nexport {svg} from \"./svg.js\";\nexport {text} from \"./text.js\";\nexport {uid} from \"./uid.js\";\n", "export function canvas(width, height) {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\n", "export function context2d(width, height, dpi) {\n  if (dpi == null) dpi = devicePixelRatio;\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = width * dpi;\n  canvas.height = height * dpi;\n  canvas.style.width = width + \"px\";\n  var context = canvas.getContext(\"2d\");\n  context.scale(dpi, dpi);\n  return context;\n}\n", "export function download(value, name = \"untitled\", label = \"Save\") {\n  const a = document.createElement(\"a\");\n  const b = a.appendChild(document.createElement(\"button\"));\n  b.textContent = label;\n  a.download = name;\n\n  async function reset() {\n    await new Promise(requestAnimationFrame);\n    URL.revokeObjectURL(a.href);\n    a.removeAttribute(\"href\");\n    b.textContent = label;\n    b.disabled = false;\n  }\n\n  a.onclick = async event => {\n    b.disabled = true;\n    if (a.href) return reset(); // Already saved.\n    b.textContent = \"Saving…\";\n    try {\n      const object = await (typeof value === \"function\" ? value() : value);\n      b.textContent = \"Download\";\n      a.href = URL.createObjectURL(object); // eslint-disable-line require-atomic-updates\n    } catch (ignore) {\n      b.textContent = label;\n    }\n    if (event.eventPhase) return reset(); // Already downloaded.\n    b.disabled = false;\n  };\n\n  return a;\n}\n", "var namespaces = {\n  math: \"http://www.w3.org/1998/Math/MathML\",\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: \"http://www.w3.org/1999/xhtml\",\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nexport function element(name, attributes) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\"), value;\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  var element = namespaces.hasOwnProperty(prefix) // eslint-disable-line no-prototype-builtins\n      ? document.createElementNS(namespaces[prefix], name)\n      : document.createElement(name);\n  if (attributes) for (var key in attributes) {\n    prefix = key, i = prefix.indexOf(\":\"), value = attributes[key];\n    if (i >= 0 && (prefix = key.slice(0, i)) !== \"xmlns\") key = key.slice(i + 1);\n    if (namespaces.hasOwnProperty(prefix)) element.setAttributeNS(namespaces[prefix], key, value); // eslint-disable-line no-prototype-builtins\n    else element.setAttribute(key, value);\n  }\n  return element;\n}\n", "export function input(type) {\n  var input = document.createElement(\"input\");\n  if (type != null) input.type = type;\n  return input;\n}\n", "export function range(min, max, step) {\n  if (arguments.length === 1) max = min, min = null;\n  var input = document.createElement(\"input\");\n  input.min = min = min == null ? 0 : +min;\n  input.max = max = max == null ? 1 : +max;\n  input.step = step == null ? \"any\" : step = +step;\n  input.type = \"range\";\n  return input;\n}\n", "export function select(values) {\n  var select = document.createElement(\"select\");\n  Array.prototype.forEach.call(values, function(value) {\n    var option = document.createElement(\"option\");\n    option.value = option.textContent = value;\n    select.appendChild(option);\n  });\n  return select;\n}\n", "export function svg(width, height) {\n  var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.setAttribute(\"viewBox\", [0, 0, width, height]);\n  svg.setAttribute(\"width\", width);\n  svg.setAttribute(\"height\", height);\n  return svg;\n}\n", "export function text(value) {\n  return document.createTextNode(value);\n}\n", "var count = 0;\n\nexport function uid(name) {\n  return new Id(\"O-\" + (name == null ? \"\" : name + \"-\") + ++count);\n}\n\nfunction Id(id) {\n  this.id = id;\n  this.href = new URL(`#${id}`, location) + \"\";\n}\n\nId.prototype.toString = function() {\n  return \"url(\" + this.href + \")\";\n};\n", "export {buffer} from \"./buffer.js\";\nexport {text} from \"./text.js\";\nexport {url} from \"./url.js\";\n", "export function buffer(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader;\n    reader.onload = function() { resolve(reader.result); };\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n}\n", "export function text(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader;\n    reader.onload = function() { resolve(reader.result); };\n    reader.onerror = reject;\n    reader.readAsText(file);\n  });\n}\n", "export function url(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader;\n    reader.onload = function() { resolve(reader.result); };\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n", "export {disposable} from \"./disposable.js\";\nexport {filter} from \"./filter.js\";\nexport {input} from \"./input.js\";\nexport {map} from \"./map.js\";\nexport {observe} from \"./observe.js\";\nexport {queue} from \"./queue.js\";\nexport {range} from \"./range.js\";\nexport {valueAt} from \"./valueAt.js\";\nexport {worker} from \"./worker.js\";\n", "export function that() {\n  return this;\n}\n", "import {that} from \"../that.js\";\n\nexport function disposable(value, dispose) {\n  let done = false;\n  if (typeof dispose !== \"function\") {\n    throw new Error(\"dispose is not a function\");\n  }\n  return {\n    [Symbol.iterator]: that,\n    next: () => done ? {done: true} : (done = true, {done: false, value}),\n    return: () => (done = true, dispose(value), {done: true}),\n    throw: () => ({done: done = true})\n  };\n}\n", "export function* filter(iterator, test) {\n  var result, index = -1;\n  while (!(result = iterator.next()).done) {\n    if (test(result.value, ++index)) {\n      yield result.value;\n    }\n  }\n}\n", "import {that} from \"../that.js\";\n\nexport function observe(initialize) {\n  let stale = false;\n  let value;\n  let resolve;\n  const dispose = initialize(change);\n\n  if (dispose != null && typeof dispose !== \"function\") {\n    throw new Error(typeof dispose.then === \"function\"\n        ? \"async initializers are not supported\"\n        : \"initializer returned something, but not a dispose function\");\n  }\n\n  function change(x) {\n    if (resolve) resolve(x), resolve = null;\n    else stale = true;\n    return value = x;\n  }\n\n  function next() {\n    return {done: false, value: stale\n        ? (stale = false, Promise.resolve(value))\n        : new Promise(_ => (resolve = _))};\n  }\n\n  return {\n    [Symbol.iterator]: that,\n    throw: () => ({done: true}),\n    return: () => (dispose != null && dispose(), {done: true}),\n    next\n  };\n}\n", "import {observe} from \"./observe.js\";\n\nexport function input(input) {\n  return observe(function(change) {\n    var event = eventof(input), value = valueof(input);\n    function inputted() { change(valueof(input)); }\n    input.addEventListener(event, inputted);\n    if (value !== undefined) change(value);\n    return function() { input.removeEventListener(event, inputted); };\n  });\n}\n\nfunction valueof(input) {\n  switch (input.type) {\n    case \"range\":\n    case \"number\": return input.valueAsNumber;\n    case \"date\": return input.valueAsDate;\n    case \"checkbox\": return input.checked;\n    case \"file\": return input.multiple ? input.files : input.files[0];\n    case \"select-multiple\": return Array.from(input.selectedOptions, o => o.value);\n    default: return input.value;\n  }\n}\n\nfunction eventof(input) {\n  switch (input.type) {\n    case \"button\":\n    case \"submit\":\n    case \"checkbox\": return \"click\";\n    case \"file\": return \"change\";\n    default: return \"input\";\n  }\n}\n", "export function* map(iterator, transform) {\n  var result, index = -1;\n  while (!(result = iterator.next()).done) {\n    yield transform(result.value, ++index);\n  }\n}\n", "import {that} from \"../that.js\";\n\nexport function queue(initialize) {\n  let resolve;\n  const queue = [];\n  const dispose = initialize(push);\n\n  if (dispose != null && typeof dispose !== \"function\") {\n    throw new Error(typeof dispose.then === \"function\"\n        ? \"async initializers are not supported\"\n        : \"initializer returned something, but not a dispose function\");\n  }\n\n  function push(x) {\n    queue.push(x);\n    if (resolve) resolve(queue.shift()), resolve = null;\n    return x;\n  }\n\n  function next() {\n    return {done: false, value: queue.length\n        ? Promise.resolve(queue.shift())\n        : new Promise(_ => (resolve = _))};\n  }\n\n  return {\n    [Symbol.iterator]: that,\n    throw: () => ({done: true}),\n    return: () => (dispose != null && dispose(), {done: true}),\n    next\n  };\n}\n", "export function* range(start, stop, step) {\n  start = +start;\n  stop = +stop;\n  step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1, n = Math.max(0, Math.ceil((stop - start) / step)) | 0;\n  while (++i < n) {\n    yield start + i * step;\n  }\n}\n", "export function valueAt(iterator, i) {\n  if (!isFinite(i = +i) || i < 0 || i !== i | 0) return;\n  var result, index = -1;\n  while (!(result = iterator.next()).done) {\n    if (++index === i) {\n      return result.value;\n    }\n  }\n}\n", "import {disposable} from \"./disposable.js\";\n\nexport function worker(source) {\n  const url = URL.createObjectURL(new Blob([source], {type: \"text/javascript\"}));\n  const worker = new Worker(url);\n  return disposable(worker, () => {\n    worker.terminate();\n    URL.revokeObjectURL(url);\n  });\n}\n", "export function template(render, wrapper) {\n  return function(strings) {\n    var string = strings[0],\n        parts = [], part,\n        root = null,\n        node, nodes,\n        walker,\n        i, n, j, m, k = -1;\n\n    // Concatenate the text using comments as placeholders.\n    for (i = 1, n = arguments.length; i < n; ++i) {\n      part = arguments[i];\n      if (part instanceof Node) {\n        parts[++k] = part;\n        string += \"<!--o:\" + k + \"-->\";\n      } else if (Array.isArray(part)) {\n        for (j = 0, m = part.length; j < m; ++j) {\n          node = part[j];\n          if (node instanceof Node) {\n            if (root === null) {\n              parts[++k] = root = document.createDocumentFragment();\n              string += \"<!--o:\" + k + \"-->\";\n            }\n            root.appendChild(node);\n          } else {\n            root = null;\n            string += node;\n          }\n        }\n        root = null;\n      } else {\n        string += part;\n      }\n      string += strings[i];\n    }\n\n    // Render the text.\n    root = render(string);\n\n    // Walk the rendered content to replace comment placeholders.\n    if (++k > 0) {\n      nodes = new Array(k);\n      walker = document.createTreeWalker(root, NodeFilter.SHOW_COMMENT, null, false);\n      while (walker.nextNode()) {\n        node = walker.currentNode;\n        if (/^o:/.test(node.nodeValue)) {\n          nodes[+node.nodeValue.slice(2)] = node;\n        }\n      }\n      for (i = 0; i < k; ++i) {\n        if (node = nodes[i]) {\n          node.parentNode.replaceChild(parts[i], node);\n        }\n      }\n    }\n\n    // Is the rendered content\n    // … a parent of a single child? Detach and return the child.\n    // … a document fragment? Replace the fragment with an element.\n    // … some other node? Return it.\n    return root.childNodes.length === 1 ? root.removeChild(root.firstChild)\n        : root.nodeType === 11 ? ((node = wrapper()).appendChild(root), node)\n        : root;\n  };\n}\n", "import {template} from \"./template.js\";\n\nexport const html = template(function(string) {\n  var template = document.createElement(\"template\");\n  template.innerHTML = string.trim();\n  return document.importNode(template.content, true);\n}, function() {\n  return document.createElement(\"span\");\n});\n", "import {leaflet as ll} from \"./dependencies.js\";\n\nexport async function leaflet(require) {\n  const L = await require(ll.resolve());\n  if (!L._style) {\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = await require.resolve(ll.resolve(\"dist/leaflet.css\"));\n    L._style = document.head.appendChild(link);\n  }\n  return L;\n}\n", "import {highlight, marked} from \"./dependencies.js\";\nimport {template} from \"./template.js\";\n\nexport function md(require) {\n  return require(marked.resolve()).then(function(marked) {\n    return template(\n      function(string) {\n        var root = document.createElement(\"div\");\n        root.innerHTML = marked(string, {langPrefix: \"\"}).trim();\n        var code = root.querySelectorAll(\"pre code[class]\");\n        if (code.length > 0) {\n          require(highlight.resolve()).then(function(hl) {\n            code.forEach(function(block) {\n              function done() {\n                hl.highlightBlock(block);\n                block.parentNode.classList.add(\"observablehq--md-pre\");\n              }\n              if (hl.getLanguage(block.className)) {\n                done();\n              } else {\n                require(highlight.resolve(\"async-languages/index.js\"))\n                  .then(index => {\n                    if (index.has(block.className)) {\n                      return require(highlight.resolve(\"async-languages/\" + index.get(block.className))).then(language => {\n                        hl.registerLanguage(block.className, language);\n                      });\n                    }\n                  })\n                  .then(done, done);\n              }\n            });\n          });\n        }\n        return root;\n      },\n      function() {\n        return document.createElement(\"div\");\n      }\n    );\n  });\n}\n", "import {mermaid as merd} from \"./dependencies.js\";\nimport {uid} from \"./dom/uid.js\";\n\nexport async function mermaid(require) {\n  const mer = await require(merd.resolve());\n  mer.initialize({securityLevel: \"loose\", theme: \"neutral\"});\n  return function mermaid() {\n    const root = document.createElement(\"div\");\n    root.innerHTML = mer.render(uid().id, String.raw.apply(String, arguments));\n    return root.removeChild(root.firstChild);\n  };\n}\n", "import {observe} from \"./generators/observe.js\";\n\nexport function Mutable(value) {\n  let change;\n  Object.defineProperties(this, {\n    generator: {value: observe(_ => void (change = _))},\n    value: {get: () => value, set: x => change(value = x)} // eslint-disable-line no-setter-return\n  });\n  if (value !== undefined) change(value);\n}\n", "export function* now() {\n  while (true) {\n    yield Date.now();\n  }\n}\n", "export {delay} from \"./delay.js\";\nexport {tick} from \"./tick.js\";\nexport {when} from \"./when.js\";\n", "export function delay(duration, value) {\n  return new Promise(function(resolve) {\n    setTimeout(function() {\n      resolve(value);\n    }, duration);\n  });\n}\n", "var timeouts = new Map;\n\nfunction timeout(now, time) {\n  var t = new Promise(function(resolve) {\n    timeouts.delete(time);\n    var delay = time - now;\n    if (!(delay > 0)) throw new Error(\"invalid time\");\n    if (delay > 0x7fffffff) throw new Error(\"too long to wait\");\n    setTimeout(resolve, delay);\n  });\n  timeouts.set(time, t);\n  return t;\n}\n\nexport function when(time, value) {\n  var now;\n  return (now = timeouts.get(time = +time)) ? now.then(() => value)\n      : (now = Date.now()) >= time ? Promise.resolve(value)\n      : timeout(now, time).then(() => value);\n}\n", "import {when} from \"./when.js\";\n\nexport function tick(duration, value) {\n  return when(Math.ceil((Date.now() + 1) / duration) * duration, value);\n}\n", "export function resolve(name, base) {\n  if (/^(\\w+:)|\\/\\//i.test(name)) return name;\n  if (/^[.]{0,2}\\//i.test(name)) return new URL(name, base == null ? location : base).href;\n  if (!name.length || /^[\\s._]/.test(name) || /\\s$/.test(name)) throw new Error(\"illegal name\");\n  return \"https://unpkg.com/\" + name;\n}\n", "import {template} from \"./template.js\";\n\nexport const svg = template(function(string) {\n  var root = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  root.innerHTML = string.trim();\n  return root;\n}, function() {\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n});\n", "import {katex} from \"./dependencies.js\";\n\nvar raw = String.raw;\n\nfunction style(href) {\n  return new Promise(function(resolve, reject) {\n    var link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = href;\n    link.onerror = reject;\n    link.onload = resolve;\n    document.head.appendChild(link);\n  });\n}\n\nexport function tex(require) {\n  return Promise.all([\n    require(katex.resolve()),\n    require.resolve(katex.resolve(\"dist/katex.min.css\")).then(style)\n  ]).then(function(values) {\n    var katex = values[0], tex = renderer();\n\n    function renderer(options) {\n      return function() {\n        var root = document.createElement(\"div\");\n        katex.render(raw.apply(String, arguments), root, options);\n        return root.removeChild(root.firstChild);\n      };\n    }\n\n    tex.options = renderer;\n    tex.block = renderer({displayMode: true});\n    return tex;\n  });\n}\n", "import {vega, vegalite, vegaliteApi} from \"./dependencies.js\";\n\nexport async function vl(require) {\n  const [v, vl, api] = await Promise.all([vega, vegalite, vegaliteApi].map(d => require(d.resolve())));\n  return api.register(v, vl);\n}\n", "import {observe} from \"./generators/observe.js\";\n\nexport function width() {\n  return observe(function(change) {\n    var width = change(document.body.clientWidth);\n    function resized() {\n      var w = document.body.clientWidth;\n      if (w !== width) change(width = w);\n    }\n    window.addEventListener(\"resize\", resized);\n    return function() {\n      window.removeEventListener(\"resize\", resized);\n    };\n  });\n}\n", "import {requireFrom, resolveFrom} from \"d3-require\";\nimport * as DOM from \"./dom/index.js\";\nimport * as Files from \"./files/index.js\";\nimport {AbstractFile, FileAttachment, NoFileAttachments} from \"./fileAttachment.js\";\nimport * as Generators from \"./generators/index.js\";\nimport {DuckDBClient} from \"./duckdb.js\";\nimport {html} from \"./html.js\";\nimport {leaflet} from \"./leaflet.js\";\nimport {md} from \"./md.js\";\nimport {mermaid} from \"./mermaid.js\";\nimport {Mutable} from \"./mutable.js\";\nimport {now} from \"./now.js\";\nimport * as Promises from \"./promises/index.js\";\nimport {resolve} from \"./resolve.js\";\nimport {requirer, requireDefault, setDefaultRequire} from \"./require.js\";\nimport {SQLite, SQLiteDatabaseClient} from \"./sqlite.js\";\nimport {svg} from \"./svg.js\";\nimport {tex} from \"./tex.js\";\nimport {vl} from \"./vegalite.js\";\nimport {width} from \"./width.js\";\nimport {arquero, arrow4, d3, graphviz, htl, inputs, lodash, plot, topojson} from \"./dependencies.js\";\nimport {__query} from \"./table.js\";\n\nexport const Library = Object.assign(Object.defineProperties(function Library(resolver) {\n  const require = requirer(resolver);\n  Object.defineProperties(this, properties({\n    FileAttachment: () => NoFileAttachments,\n    Mutable: () => Mutable,\n    now,\n    width,\n\n    // Tagged template literals\n    dot: () => require(graphviz.resolve()),\n    htl: () => require(htl.resolve()),\n    html: () => html,\n    md: () => md(require),\n    svg: () => svg,\n    tex: () => tex(require),\n\n    // Recommended libraries\n    // https://observablehq.com/@observablehq/recommended-libraries\n    _: () => require(lodash.resolve()),\n    aq: () => require.alias({\"apache-arrow\": arrow4.resolve()})(arquero.resolve()), // TODO upgrade to apache-arrow@9\n    Arrow: () => require(arrow4.resolve()), // TODO upgrade to apache-arrow@9\n    d3: () => require(d3.resolve()),\n    DuckDBClient: () => DuckDBClient,\n    Inputs: () => require(inputs.resolve()).then(Inputs => ({...Inputs, file: Inputs.fileOf(AbstractFile)})),\n    L: () => leaflet(require),\n    mermaid: () => mermaid(require),\n    Plot: () => require(plot.resolve()),\n    __query: () => __query,\n    require: () => require,\n    resolve: () => resolve, // deprecated; use async require.resolve instead\n    SQLite: () => SQLite(require),\n    SQLiteDatabaseClient: () => SQLiteDatabaseClient,\n    topojson: () => require(topojson.resolve()),\n    vl: () => vl(require),\n\n    // Sample datasets\n    // https://observablehq.com/@observablehq/sample-datasets\n    aapl: () => new FileAttachment(\"https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9\").csv({typed: true}),\n    alphabet: () => new FileAttachment(\"https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d\").csv({typed: true}),\n    cars: () => new FileAttachment(\"https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6\").csv({typed: true}),\n    citywages: () => new FileAttachment(\"https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a\").csv({typed: true}),\n    diamonds: () => new FileAttachment(\"https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252\").csv({typed: true}),\n    flare: () => new FileAttachment(\"https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000\").csv({typed: true}),\n    industries: () => new FileAttachment(\"https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f\").csv({typed: true}),\n    miserables: () => new FileAttachment(\"https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052\").json(),\n    olympians: () => new FileAttachment(\"https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c\").csv({typed: true}),\n    penguins: () => new FileAttachment(\"https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a\").csv({typed: true}),\n    pizza: () => new FileAttachment(\"https://static.observableusercontent.com/files/c653108ab176088cacbb338eaf2344c4f5781681702bd6afb55697a3f91b511c6686ff469f3e3a27c75400001a2334dbd39a4499fe46b50a8b3c278b7d2f7fb5\").csv({typed: true}),\n    weather: () => new FileAttachment(\"https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f\").csv({typed: true}),\n\n    // Note: these are namespace objects, and thus exposed directly rather than\n    // being wrapped in a function. This allows library.Generators to resolve,\n    // rather than needing module.value.\n    DOM,\n    Files,\n    Generators,\n    Promises\n  }));\n}, {\n  resolve: {\n    get: () => requireDefault.resolve,\n    enumerable: true,\n    configurable: true\n  },\n  require: {\n    get: () => requireDefault,\n    set: setDefaultRequire,\n    enumerable: true,\n    configurable: true\n  }\n}), {\n  resolveFrom,\n  requireFrom\n});\n\nfunction properties(values) {\n  return Object.fromEntries(Object.entries(values).map(property));\n}\n\nfunction property([key, value]) {\n  return [key, ({value, writable: true, enumerable: true})];\n}\n", "export class RuntimeError extends Error {\n  constructor(message, input) {\n    super(message);\n    this.input = input;\n  }\n}\n\nRuntimeError.prototype.name = \"RuntimeError\";\n", "export function generatorish(value) {\n  return value\n      && typeof value.next === \"function\"\n      && typeof value.return === \"function\";\n}\n", "export function constant(x) {\n  return () => x;\n}\n", "export function identity(x) {\n  return x;\n}\n", "export function rethrow(error) {\n  return () => {\n    throw error;\n  };\n}\n", "const prototype = Array.prototype;\nexport const map = prototype.map;\nexport const forEach = prototype.forEach;\n", "export function noop() {}\n", "import {map} from \"./array.js\";\nimport {constant} from \"./constant.js\";\nimport {RuntimeError} from \"./errors.js\";\nimport {identity} from \"./identity.js\";\nimport {noop} from \"./noop.js\";\n\nexport const TYPE_NORMAL = 1; // a normal variable\nexport const TYPE_IMPLICIT = 2; // created on reference\nexport const TYPE_DUPLICATE = 3; // created on duplicate definition\n\nexport const no_observer = Symbol(\"no-observer\");\n\nexport function Variable(type, module, observer, options) {\n  if (!observer) observer = no_observer;\n  Object.defineProperties(this, {\n    _observer: {value: observer, writable: true},\n    _definition: {value: variable_undefined, writable: true},\n    _duplicate: {value: undefined, writable: true},\n    _duplicates: {value: undefined, writable: true},\n    _indegree: {value: NaN, writable: true}, // The number of computing inputs.\n    _inputs: {value: [], writable: true},\n    _invalidate: {value: noop, writable: true},\n    _module: {value: module},\n    _name: {value: null, writable: true},\n    _outputs: {value: new Set, writable: true},\n    _promise: {value: Promise.resolve(undefined), writable: true},\n    _reachable: {value: observer !== no_observer, writable: true}, // Is this variable transitively visible?\n    _rejector: {value: variable_rejector(this)},\n    _shadow: {value: initShadow(module, options)},\n    _type: {value: type},\n    _value: {value: undefined, writable: true},\n    _version: {value: 0, writable: true}\n  });\n}\n\nObject.defineProperties(Variable.prototype, {\n  _pending: {value: variable_pending, writable: true, configurable: true},\n  _fulfilled: {value: variable_fulfilled, writable: true, configurable: true},\n  _rejected: {value: variable_rejected, writable: true, configurable: true},\n  _resolve: {value: variable_resolve, writable: true, configurable: true},\n  define: {value: variable_define, writable: true, configurable: true},\n  delete: {value: variable_delete, writable: true, configurable: true},\n  import: {value: variable_import, writable: true, configurable: true}\n});\n\nfunction initShadow(module, options) {\n  if (!options?.shadow) return null;\n  return new Map(\n    Object.entries(options.shadow)\n      .map(([name, definition]) => [name, (new Variable(TYPE_IMPLICIT, module)).define([], definition)])\n  );\n}\n\nfunction variable_attach(variable) {\n  variable._module._runtime._dirty.add(variable);\n  variable._outputs.add(this);\n}\n\nfunction variable_detach(variable) {\n  variable._module._runtime._dirty.add(variable);\n  variable._outputs.delete(this);\n}\n\nfunction variable_undefined() {\n  throw variable_undefined;\n}\n\nexport function variable_stale() {\n  throw variable_stale;\n}\n\nfunction variable_rejector(variable) {\n  return (error) => {\n    if (error === variable_stale) throw error;\n    if (error === variable_undefined) throw new RuntimeError(`${variable._name} is not defined`, variable._name);\n    if (error instanceof Error && error.message) throw new RuntimeError(error.message, variable._name);\n    throw new RuntimeError(`${variable._name} could not be resolved`, variable._name);\n  };\n}\n\nfunction variable_duplicate(name) {\n  return () => {\n    throw new RuntimeError(`${name} is defined more than once`);\n  };\n}\n\nfunction variable_define(name, inputs, definition) {\n  switch (arguments.length) {\n    case 1: {\n      definition = name, name = inputs = null;\n      break;\n    }\n    case 2: {\n      definition = inputs;\n      if (typeof name === \"string\") inputs = null;\n      else inputs = name, name = null;\n      break;\n    }\n  }\n  return variable_defineImpl.call(this,\n    name == null ? null : String(name),\n    inputs == null ? [] : map.call(inputs, this._resolve, this),\n    typeof definition === \"function\" ? definition : constant(definition)\n  );\n}\n\nfunction variable_resolve(name) {\n  return this._shadow?.get(name) ?? this._module._resolve(name);\n}\n\nfunction variable_defineImpl(name, inputs, definition) {\n  const scope = this._module._scope, runtime = this._module._runtime;\n\n  this._inputs.forEach(variable_detach, this);\n  inputs.forEach(variable_attach, this);\n  this._inputs = inputs;\n  this._definition = definition;\n  this._value = undefined;\n\n  // Is this an active variable (that may require disposal)?\n  if (definition === noop) runtime._variables.delete(this);\n  else runtime._variables.add(this);\n\n  // Did the variable’s name change? Time to patch references!\n  if (name !== this._name || scope.get(name) !== this) {\n    let error, found;\n\n    if (this._name) { // Did this variable previously have a name?\n      if (this._outputs.size) { // And did other variables reference this variable?\n        scope.delete(this._name);\n        found = this._module._resolve(this._name);\n        found._outputs = this._outputs, this._outputs = new Set;\n        found._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(this)] = found; }, this);\n        found._outputs.forEach(runtime._updates.add, runtime._updates);\n        runtime._dirty.add(found).add(this);\n        scope.set(this._name, found);\n      } else if ((found = scope.get(this._name)) === this) { // Do no other variables reference this variable?\n        scope.delete(this._name); // It’s safe to delete!\n      } else if (found._type === TYPE_DUPLICATE) { // Do other variables assign this name?\n        found._duplicates.delete(this); // This variable no longer assigns this name.\n        this._duplicate = undefined;\n        if (found._duplicates.size === 1) { // Is there now only one variable assigning this name?\n          found = found._duplicates.keys().next().value; // Any references are now fixed!\n          error = scope.get(this._name);\n          found._outputs = error._outputs, error._outputs = new Set;\n          found._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(error)] = found; });\n          found._definition = found._duplicate, found._duplicate = undefined;\n          runtime._dirty.add(error).add(found);\n          runtime._updates.add(found);\n          scope.set(this._name, found);\n        }\n      } else {\n        throw new Error;\n      }\n    }\n\n    if (this._outputs.size) throw new Error;\n\n    if (name) { // Does this variable have a new name?\n      if (found = scope.get(name)) { // Do other variables reference or assign this name?\n        if (found._type === TYPE_DUPLICATE) { // Do multiple other variables already define this name?\n          this._definition = variable_duplicate(name), this._duplicate = definition;\n          found._duplicates.add(this);\n        } else if (found._type === TYPE_IMPLICIT) { // Are the variable references broken?\n          this._outputs = found._outputs, found._outputs = new Set; // Now they’re fixed!\n          this._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(found)] = this; }, this);\n          runtime._dirty.add(found).add(this);\n          scope.set(name, this);\n        } else { // Does another variable define this name?\n          found._duplicate = found._definition, this._duplicate = definition; // Now they’re duplicates.\n          error = new Variable(TYPE_DUPLICATE, this._module);\n          error._name = name;\n          error._definition = this._definition = found._definition = variable_duplicate(name);\n          error._outputs = found._outputs, found._outputs = new Set;\n          error._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(found)] = error; });\n          error._duplicates = new Set([this, found]);\n          runtime._dirty.add(found).add(error);\n          runtime._updates.add(found).add(error);\n          scope.set(name, error);\n        }\n      } else {\n        scope.set(name, this);\n      }\n    }\n\n    this._name = name;\n  }\n\n  // If this redefined variable was previously evaluated, invalidate it. (If the\n  // variable was never evaluated, then the invalidated value could never have\n  // been exposed and we can avoid this extra work.)\n  if (this._version > 0) ++this._version;\n\n  runtime._updates.add(this);\n  runtime._compute();\n  return this;\n}\n\nfunction variable_import(remote, name, module) {\n  if (arguments.length < 3) module = name, name = remote;\n  return variable_defineImpl.call(this, String(name), [module._resolve(String(remote))], identity);\n}\n\nfunction variable_delete() {\n  return variable_defineImpl.call(this, null, [], noop);\n}\n\nfunction variable_pending() {\n  if (this._observer.pending) this._observer.pending();\n}\n\nfunction variable_fulfilled(value) {\n  if (this._observer.fulfilled) this._observer.fulfilled(value, this._name);\n}\n\nfunction variable_rejected(error) {\n  if (this._observer.rejected) this._observer.rejected(error, this._name);\n}\n", "import {constant} from \"./constant.js\";\nimport {RuntimeError} from \"./errors.js\";\nimport {identity} from \"./identity.js\";\nimport {rethrow} from \"./rethrow.js\";\nimport {Variable, TYPE_DUPLICATE, TYPE_IMPLICIT, TYPE_NORMAL, no_observer, variable_stale} from \"./variable.js\";\n\nexport const variable_variable = Symbol(\"variable\");\nexport const variable_invalidation = Symbol(\"invalidation\");\nexport const variable_visibility = Symbol(\"visibility\");\n\nexport function Module(runtime, builtins = []) {\n  Object.defineProperties(this, {\n    _runtime: {value: runtime},\n    _scope: {value: new Map},\n    _builtins: {value: new Map([\n      [\"@variable\", variable_variable],\n      [\"invalidation\", variable_invalidation],\n      [\"visibility\", variable_visibility],\n      ...builtins\n    ])},\n    _source: {value: null, writable: true}\n  });\n}\n\nObject.defineProperties(Module.prototype, {\n  _resolve: {value: module_resolve, writable: true, configurable: true},\n  redefine: {value: module_redefine, writable: true, configurable: true},\n  define: {value: module_define, writable: true, configurable: true},\n  derive: {value: module_derive, writable: true, configurable: true},\n  import: {value: module_import, writable: true, configurable: true},\n  value: {value: module_value, writable: true, configurable: true},\n  variable: {value: module_variable, writable: true, configurable: true},\n  builtin: {value: module_builtin, writable: true, configurable: true}\n});\n\nfunction module_redefine(name) {\n  const v = this._scope.get(name);\n  if (!v) throw new RuntimeError(`${name} is not defined`);\n  if (v._type === TYPE_DUPLICATE) throw new RuntimeError(`${name} is defined more than once`);\n  return v.define.apply(v, arguments);\n}\n\nfunction module_define() {\n  const v = new Variable(TYPE_NORMAL, this);\n  return v.define.apply(v, arguments);\n}\n\nfunction module_import() {\n  const v = new Variable(TYPE_NORMAL, this);\n  return v.import.apply(v, arguments);\n}\n\nfunction module_variable(observer, options) {\n  return new Variable(TYPE_NORMAL, this, observer, options);\n}\n\nasync function module_value(name) {\n  let v = this._scope.get(name);\n  if (!v) throw new RuntimeError(`${name} is not defined`);\n  if (v._observer === no_observer) {\n    v = this.variable(true).define([name], identity);\n    try {\n      return await module_revalue(this._runtime, v);\n    } finally {\n      v.delete();\n    }\n  } else {\n    return module_revalue(this._runtime, v);\n  }\n}\n\n// If the variable is redefined before its value resolves, try again.\nasync function module_revalue(runtime, variable) {\n  await runtime._compute();\n  try {\n    return await variable._promise;\n  } catch (error) {\n    if (error === variable_stale) return module_revalue(runtime, variable);\n    throw error;\n  }\n}\n\nfunction module_derive(injects, injectModule) {\n  const map = new Map();\n  const modules = new Set();\n  const copies = [];\n\n  // Given a module, derives an alias of that module with an initially-empty\n  // definition. The variables will be copied later in a second pass below.\n  function alias(source) {\n    let target = map.get(source);\n    if (target) return target;\n    target = new Module(source._runtime, source._builtins);\n    target._source = source;\n    map.set(source, target);\n    copies.push([target, source]);\n    modules.add(source);\n    return target;\n  }\n\n  // Inject the given variables as reverse imports into the derived module.\n  const derive = alias(this);\n  for (const inject of injects) {\n    const {alias, name} = typeof inject === \"object\" ? inject : {name: inject};\n    derive.import(name, alias == null ? name : alias, injectModule);\n  }\n\n  // Iterate over all the variables (currently) in this module. If any\n  // represents an import-with (i.e., an import of a module with a _source), the\n  // transitive import-with must be copied, too, as direct injections may affect\n  // transitive injections. Note that an import-with can only be created with\n  // module.derive and hence it’s not possible for an import-with to be added\n  // later; therefore we only need to apply this check once, now.\n  for (const module of modules) {\n    for (const [name, variable] of module._scope) {\n      if (variable._definition === identity) { // import\n        if (module === this && derive._scope.has(name)) continue; // overridden by injection\n        const importedModule = variable._inputs[0]._module;\n        if (importedModule._source) alias(importedModule);\n      }\n    }\n  }\n\n  // Finally, with the modules resolved, copy the variable definitions.\n  for (const [target, source] of copies) {\n    for (const [name, sourceVariable] of source._scope) {\n      const targetVariable = target._scope.get(name);\n      if (targetVariable && targetVariable._type !== TYPE_IMPLICIT) continue; // preserve injection\n      if (sourceVariable._definition === identity) { // import\n        const sourceInput = sourceVariable._inputs[0];\n        const sourceModule = sourceInput._module;\n        target.import(sourceInput._name, name, map.get(sourceModule) || sourceModule);\n      } else { // non-import\n        target.define(name, sourceVariable._inputs.map(variable_name), sourceVariable._definition);\n      }\n    }\n  }\n\n  return derive;\n}\n\nfunction module_resolve(name) {\n  let variable = this._scope.get(name), value;\n  if (!variable) {\n    variable = new Variable(TYPE_IMPLICIT, this);\n    if (this._builtins.has(name)) {\n      variable.define(name, constant(this._builtins.get(name)));\n    } else if (this._runtime._builtin._scope.has(name)) {\n      variable.import(name, this._runtime._builtin);\n    } else {\n      try {\n        value = this._runtime._global(name);\n      } catch (error) {\n        return variable.define(name, rethrow(error));\n      }\n      if (value === undefined) {\n        this._scope.set(variable._name = name, variable);\n      } else {\n        variable.define(name, constant(value));\n      }\n    }\n  }\n  return variable;\n}\n\nfunction module_builtin(name, value) {\n  this._builtins.set(name, value);\n}\n\nfunction variable_name(variable) {\n  return variable._name;\n}\n", "import {Library, FileAttachments} from \"@observablehq/stdlib\";\nimport {RuntimeError} from \"./errors.js\";\nimport {generatorish} from \"./generatorish.js\";\nimport {Module, variable_variable, variable_invalidation, variable_visibility} from \"./module.js\";\nimport {noop} from \"./noop.js\";\nimport {Variable, TYPE_IMPLICIT, no_observer, variable_stale} from \"./variable.js\";\n\nconst frame = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame\n  : typeof setImmediate === \"function\" ? setImmediate\n  : f => setTimeout(f, 0);\n\nexport function Runtime(builtins = new Library, global = window_global) {\n  const builtin = this.module();\n  Object.defineProperties(this, {\n    _dirty: {value: new Set},\n    _updates: {value: new Set},\n    _precomputes: {value: [], writable: true},\n    _computing: {value: null, writable: true},\n    _init: {value: null, writable: true},\n    _modules: {value: new Map},\n    _variables: {value: new Set},\n    _disposed: {value: false, writable: true},\n    _builtin: {value: builtin},\n    _global: {value: global}\n  });\n  if (builtins) for (const name in builtins) {\n    (new Variable(TYPE_IMPLICIT, builtin)).define(name, [], builtins[name]);\n  }\n}\n\nObject.defineProperties(Runtime.prototype, {\n  _precompute: {value: runtime_precompute, writable: true, configurable: true},\n  _compute: {value: runtime_compute, writable: true, configurable: true},\n  _computeSoon: {value: runtime_computeSoon, writable: true, configurable: true},\n  _computeNow: {value: runtime_computeNow, writable: true, configurable: true},\n  dispose: {value: runtime_dispose, writable: true, configurable: true},\n  module: {value: runtime_module, writable: true, configurable: true},\n  fileAttachments: {value: FileAttachments, writable: true, configurable: true}\n});\n\nfunction runtime_dispose() {\n  this._computing = Promise.resolve();\n  this._disposed = true;\n  this._variables.forEach(v => {\n    v._invalidate();\n    v._version = NaN;\n  });\n}\n\nfunction runtime_module(define, observer = noop) {\n  let module;\n  if (define === undefined) {\n    if (module = this._init) {\n      this._init = null;\n      return module;\n    }\n    return new Module(this);\n  }\n  module = this._modules.get(define);\n  if (module) return module;\n  this._init = module = new Module(this);\n  this._modules.set(define, module);\n  try {\n    define(this, observer);\n  } finally {\n    this._init = null;\n  }\n  return module;\n}\n\nfunction runtime_precompute(callback) {\n  this._precomputes.push(callback);\n  this._compute();\n}\n\nfunction runtime_compute() {\n  return this._computing || (this._computing = this._computeSoon());\n}\n\nfunction runtime_computeSoon() {\n  return new Promise(frame).then(() => this._disposed ? undefined : this._computeNow());\n}\n\nasync function runtime_computeNow() {\n  let queue = [],\n      variables,\n      variable,\n      precomputes = this._precomputes;\n\n  // If there are any paused generators, resume them before computing so they\n  // can update (if synchronous) before computing downstream variables.\n  if (precomputes.length) {\n    this._precomputes = [];\n    for (const callback of precomputes) callback();\n    await runtime_defer(3);\n  }\n\n  // Compute the reachability of the transitive closure of dirty variables.\n  // Any newly-reachable variable must also be recomputed.\n  // Any no-longer-reachable variable must be terminated.\n  variables = new Set(this._dirty);\n  variables.forEach(function(variable) {\n    variable._inputs.forEach(variables.add, variables);\n    const reachable = variable_reachable(variable);\n    if (reachable > variable._reachable) {\n      this._updates.add(variable);\n    } else if (reachable < variable._reachable) {\n      variable._invalidate();\n    }\n    variable._reachable = reachable;\n  }, this);\n\n  // Compute the transitive closure of updating, reachable variables.\n  variables = new Set(this._updates);\n  variables.forEach(function(variable) {\n    if (variable._reachable) {\n      variable._indegree = 0;\n      variable._outputs.forEach(variables.add, variables);\n    } else {\n      variable._indegree = NaN;\n      variables.delete(variable);\n    }\n  });\n\n  this._computing = null;\n  this._updates.clear();\n  this._dirty.clear();\n\n  // Compute the indegree of updating variables.\n  variables.forEach(function(variable) {\n    variable._outputs.forEach(variable_increment);\n  });\n\n  do {\n    // Identify the root variables (those with no updating inputs).\n    variables.forEach(function(variable) {\n      if (variable._indegree === 0) {\n        queue.push(variable);\n      }\n    });\n\n    // Compute the variables in topological order.\n    while (variable = queue.pop()) {\n      variable_compute(variable);\n      variable._outputs.forEach(postqueue);\n      variables.delete(variable);\n    }\n\n    // Any remaining variables are circular, or depend on them.\n    variables.forEach(function(variable) {\n      if (variable_circular(variable)) {\n        variable_error(variable, new RuntimeError(\"circular definition\"));\n        variable._outputs.forEach(variable_decrement);\n        variables.delete(variable);\n      }\n    });\n  } while (variables.size);\n\n  function postqueue(variable) {\n    if (--variable._indegree === 0) {\n      queue.push(variable);\n    }\n  }\n}\n\n// We want to give generators, if they’re defined synchronously, a chance to\n// update before computing downstream variables. This creates a synchronous\n// promise chain of the given depth that we’ll await before recomputing\n// downstream variables.\nfunction runtime_defer(depth = 0) {\n  let p = Promise.resolve();\n  for (let i = 0; i < depth; ++i) p = p.then(() => {});\n  return p;\n}\n\nfunction variable_circular(variable) {\n  const inputs = new Set(variable._inputs);\n  for (const i of inputs) {\n    if (i === variable) return true;\n    i._inputs.forEach(inputs.add, inputs);\n  }\n  return false;\n}\n\nfunction variable_increment(variable) {\n  ++variable._indegree;\n}\n\nfunction variable_decrement(variable) {\n  --variable._indegree;\n}\n\nfunction variable_value(variable) {\n  return variable._promise.catch(variable._rejector);\n}\n\nfunction variable_invalidator(variable) {\n  return new Promise(function(resolve) {\n    variable._invalidate = resolve;\n  });\n}\n\nfunction variable_intersector(invalidation, variable) {\n  let node = typeof IntersectionObserver === \"function\" && variable._observer && variable._observer._node;\n  let visible = !node, resolve = noop, reject = noop, promise, observer;\n  if (node) {\n    observer = new IntersectionObserver(([entry]) => (visible = entry.isIntersecting) && (promise = null, resolve()));\n    observer.observe(node);\n    invalidation.then(() => (observer.disconnect(), observer = null, reject()));\n  }\n  return function(value) {\n    if (visible) return Promise.resolve(value);\n    if (!observer) return Promise.reject();\n    if (!promise) promise = new Promise((y, n) => (resolve = y, reject = n));\n    return promise.then(() => value);\n  };\n}\n\nfunction variable_compute(variable) {\n  variable._invalidate();\n  variable._invalidate = noop;\n  variable._pending();\n\n  const value0 = variable._value;\n  const version = ++variable._version;\n\n  // Lazily-constructed invalidation variable; only constructed if referenced as an input.\n  let invalidation = null;\n\n  // If the variable doesn’t have any inputs, we can optimize slightly.\n  const promise = variable._promise = (variable._inputs.length\n      ? Promise.all(variable._inputs.map(variable_value)).then(define)\n      : new Promise(resolve => resolve(variable._definition.call(value0))))\n    .then(generate);\n\n  // Compute the initial value of the variable.\n  function define(inputs) {\n    if (variable._version !== version) throw variable_stale;\n\n    // Replace any reference to invalidation with the promise, lazily.\n    for (let i = 0, n = inputs.length; i < n; ++i) {\n      switch (inputs[i]) {\n        case variable_invalidation: {\n          inputs[i] = invalidation = variable_invalidator(variable);\n          break;\n        }\n        case variable_visibility: {\n          if (!invalidation) invalidation = variable_invalidator(variable);\n          inputs[i] = variable_intersector(invalidation, variable);\n          break;\n        }\n        case variable_variable: {\n          inputs[i] = variable;\n          break;\n        }\n      }\n    }\n\n    return variable._definition.apply(value0, inputs);\n  }\n\n  // If the value is a generator, then retrieve its first value, and dispose of\n  // the generator if the variable is invalidated. Note that the cell may\n  // already have been invalidated here, in which case we need to terminate the\n  // generator immediately!\n  function generate(value) {\n    if (variable._version !== version) throw variable_stale;\n    if (generatorish(value)) {\n      (invalidation || variable_invalidator(variable)).then(variable_return(value));\n      return variable_generate(variable, version, value);\n    }\n    return value;\n  }\n\n  promise.then((value) => {\n    variable._value = value;\n    variable._fulfilled(value);\n  }, (error) => {\n    if (error === variable_stale || variable._version !== version) return;\n    variable._value = undefined;\n    variable._rejected(error);\n  });\n}\n\nfunction variable_generate(variable, version, generator) {\n  const runtime = variable._module._runtime;\n  let currentValue; // so that yield resolves to the yielded value\n\n  // Retrieve the next value from the generator; if successful, invoke the\n  // specified callback. The returned promise resolves to the yielded value, or\n  // to undefined if the generator is done.\n  function compute(onfulfilled) {\n    return new Promise(resolve => resolve(generator.next(currentValue))).then(({done, value}) => {\n      return done ? undefined : Promise.resolve(value).then(onfulfilled);\n    });\n  }\n\n  // Retrieve the next value from the generator; if successful, fulfill the\n  // variable, compute downstream variables, and schedule the next value to be\n  // pulled from the generator at the start of the next animation frame. If not\n  // successful, reject the variable, compute downstream variables, and return.\n  function recompute() {\n    const promise = compute((value) => {\n      if (variable._version !== version) throw variable_stale;\n      currentValue = value;\n      postcompute(value, promise).then(() => runtime._precompute(recompute));\n      variable._fulfilled(value);\n      return value;\n    });\n    promise.catch((error) => {\n      if (error === variable_stale || variable._version !== version) return;\n      postcompute(undefined, promise);\n      variable._rejected(error);\n    });\n  }\n\n  // After the generator fulfills or rejects, set its current value, promise,\n  // and schedule any downstream variables for update.\n  function postcompute(value, promise) {\n    variable._value = value;\n    variable._promise = promise;\n    variable._outputs.forEach(runtime._updates.add, runtime._updates);\n    return runtime._compute();\n  }\n\n  // When retrieving the first value from the generator, the promise graph is\n  // already established, so we only need to queue the next pull.\n  return compute((value) => {\n    if (variable._version !== version) throw variable_stale;\n    currentValue = value;\n    runtime._precompute(recompute);\n    return value;\n  });\n}\n\nfunction variable_error(variable, error) {\n  variable._invalidate();\n  variable._invalidate = noop;\n  variable._pending();\n  ++variable._version;\n  variable._indegree = NaN;\n  (variable._promise = Promise.reject(error)).catch(noop);\n  variable._value = undefined;\n  variable._rejected(error);\n}\n\nfunction variable_return(generator) {\n  return function() {\n    generator.return();\n  };\n}\n\nfunction variable_reachable(variable) {\n  if (variable._observer !== no_observer) return true; // Directly reachable.\n  const outputs = new Set(variable._outputs);\n  for (const output of outputs) {\n    if (output._observer !== no_observer) return true;\n    output._outputs.forEach(outputs.add, outputs);\n  }\n  return false;\n}\n\nfunction window_global(name) {\n  return globalThis[name];\n}\n"],
  "mappings": "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",
  "names": ["document", "a", "map", "array", "iterateMap", "iterateObject", "iterateSet", "iterateArray", "iterateImArray", "iterateImSet", "iterateImObject", "span", "map", "formatMapField", "array", "formatField", "width", "span", "textValue", "toString", "pad", "width", "formatYear", "formatDate", "parse", "text", "format", "number", "hasOwnProperty", "url", "resolve", "meta", "require", "name", "dependencies", "require", "require", "buffer", "element", "blur", "width", "sum", "map", "max", "defined", "element", "array", "url", "buffer", "array", "worker", "mode", "promise", "array", "select", "filter", "sort", "slice", "sql", "ascendingDefined", "input", "types", "index", "type", "range", "text", "types", "array", "text", "parse", "url", "resolve", "buffer", "element", "range", "text", "width", "canvas", "width", "canvas", "element", "input", "range", "min", "max", "input", "select", "width", "svg", "text", "count", "text", "resolve", "text", "resolve", "resolve", "filter", "input", "map", "queue", "range", "filter", "index", "resolve", "input", "valueof", "map", "index", "queue", "resolve", "range", "index", "url", "worker", "template", "leaflet", "require", "require", "marked", "index", "mermaid", "require", "resolve", "now", "resolve", "delay", "svg", "resolve", "require", "katex", "tex", "require", "vl", "width", "Library", "require", "svg", "leaflet", "mermaid", "input", "constant", "identity", "map", "inputs", "map", "constant", "identity", "identity", "map", "alias", "constant", "define", "queue", "variable", "inputs", "resolve", "promise"]
}
