import {
  L,
  wt
} from "./chunk-WBVHF7PY.js";
import "./chunk-LCCS23J3.js";
import "./chunk-6DTACY26.js";
import {
  sn
} from "./chunk-C4ZQG65I.js";
import "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/3dbca8eb.js
var import_react = __toESM(require_react(), 1);
function I(t, e) {
  for (var r = 0; r < e.length; r++) {
    const s = e[r];
    if (typeof s != "string" && !Array.isArray(s)) {
      for (const a in s)
        if (a !== "default" && !(a in t)) {
          const n = Object.getOwnPropertyDescriptor(s, a);
          n && Object.defineProperty(t, a, n.get ? n : {
            enumerable: true,
            get: () => s[a]
          });
        }
    }
  }
  return Object.freeze(Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }));
}
var S = Object.create;
var l = Object.defineProperty;
var j = Object.getOwnPropertyDescriptor;
var A = Object.getOwnPropertyNames;
var M = Object.getPrototypeOf;
var R = Object.prototype.hasOwnProperty;
var H = (t, e, r) => e in t ? l(t, e, { enumerable: true, configurable: true, writable: true, value: r }) : t[e] = r;
var x = (t, e) => {
  for (var r in e)
    l(t, r, { get: e[r], enumerable: true });
};
var _ = (t, e, r, s) => {
  if (e && typeof e == "object" || typeof e == "function")
    for (let a of A(e))
      !R.call(t, a) && a !== r && l(t, a, { get: () => e[a], enumerable: !(s = j(e, a)) || s.enumerable });
  return t;
};
var F = (t, e, r) => (r = t != null ? S(M(t)) : {}, _(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  e || !t || !t.__esModule ? l(r, "default", { value: t, enumerable: true }) : r,
  t
));
var U = (t) => _(l({}, "__esModule", { value: true }), t);
var o = (t, e, r) => (H(t, typeof e != "symbol" ? e + "" : e, r), r);
var f = {};
x(f, {
  default: () => h
});
var P = U(f);
var y = F(import_react.default);
var c = L;
var u = wt;
var K = "https://player.twitch.tv/js/embed/v1.js";
var V = "Twitch";
var $ = "twitch-player-";
var h = class extends y.Component {
  constructor() {
    super(...arguments), o(this, "callPlayer", c.callPlayer), o(this, "playerID", this.props.config.playerId || `${$}${(0, c.randomString)()}`), o(this, "mute", () => {
      this.callPlayer("setMuted", true);
    }), o(this, "unmute", () => {
      this.callPlayer("setMuted", false);
    });
  }
  componentDidMount() {
    this.props.onMount && this.props.onMount(this);
  }
  load(e, r) {
    const { playsinline: s, onError: a, config: n, controls: m } = this.props, i = u.MATCH_URL_TWITCH_CHANNEL.test(e), p = i ? e.match(u.MATCH_URL_TWITCH_CHANNEL)[1] : e.match(u.MATCH_URL_TWITCH_VIDEO)[1];
    if (r) {
      i ? this.player.setChannel(p) : this.player.setVideo("v" + p);
      return;
    }
    (0, c.getSDK)(K, V).then((d) => {
      this.player = new d.Player(this.playerID, {
        video: i ? "" : p,
        channel: i ? p : "",
        height: "100%",
        width: "100%",
        playsinline: s,
        autoplay: this.props.playing,
        muted: this.props.muted,
        // https://github.com/CookPete/react-player/issues/733#issuecomment-549085859
        controls: i ? true : m,
        time: (0, c.parseStartTime)(e),
        ...n.options
      });
      const { READY: v, PLAYING: g, PAUSE: E, ENDED: O, ONLINE: L2, OFFLINE: b, SEEK: T } = d.Player;
      this.player.addEventListener(v, this.props.onReady), this.player.addEventListener(g, this.props.onPlay), this.player.addEventListener(E, this.props.onPause), this.player.addEventListener(O, this.props.onEnded), this.player.addEventListener(T, this.props.onSeek), this.player.addEventListener(L2, this.props.onLoaded), this.player.addEventListener(b, this.props.onLoaded);
    }, a);
  }
  play() {
    this.callPlayer("play");
  }
  pause() {
    this.callPlayer("pause");
  }
  stop() {
    this.callPlayer("pause");
  }
  seekTo(e, r = true) {
    this.callPlayer("seek", e), r || this.pause();
  }
  setVolume(e) {
    this.callPlayer("setVolume", e);
  }
  getDuration() {
    return this.callPlayer("getDuration");
  }
  getCurrentTime() {
    return this.callPlayer("getCurrentTime");
  }
  getSecondsLoaded() {
    return null;
  }
  render() {
    const e = {
      width: "100%",
      height: "100%"
    };
    return y.default.createElement("div", { style: e, id: this.playerID });
  }
};
o(h, "displayName", "Twitch");
o(h, "canPlay", u.canPlay.twitch);
o(h, "loopOnEnded", true);
var W = sn(P);
var z = I({
  __proto__: null,
  default: W
}, [P]);
export {
  z as T
};
//# sourceMappingURL=3dbca8eb-HFSI6TUV.js.map
