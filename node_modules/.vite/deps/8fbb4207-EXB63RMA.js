import {
  h
} from "./chunk-DQ4LTPJW.js";
import {
  E
} from "./chunk-TXZY2D3Y.js";
import {
  $0,
  A8n,
  C6n,
  Pd,
  V8n,
  VJe,
  Vr,
  W8,
  d,
  jI,
  k2e
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/8fbb4207.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
function N(t, e, s, o, a, r) {
  switch (h(t, "global")) {
    case "toggleLeftPanel":
      o("left");
      break;
    case "toggleBottomPanel":
      o("bottom");
      break;
    case "toggleRightPanel":
      o("right");
      break;
    case "toggleAllPanels":
      o();
      break;
    case "preview":
      C6n(r);
      break;
    case "undo":
      s == null || s.undo();
      break;
    case "redo":
      s == null || s.redo();
      break;
    case "deleteComps":
      Pd.deleteComp(e, e.selectedComps());
      return;
    case "toggleShortcutList":
      a();
      return;
    case "executeQuery": {
      const n = e.selectedQueryComp();
      n == null || n.dispatch(W8({
        afterExecFunc: () => e.setShowResultCompName(n.children.name.getView())
      }));
      break;
    }
    default:
      return;
  }
  t.stopPropagation(), t.preventDefault();
}
function u(t, e) {
  t.setForceShowGrid(e ? k2e(e) : false), t.setDisableInteract(e ? VJe(e) : false);
}
function v(t, e, s) {
  if (!k2e(t))
    return;
  const o = t.target || t.srcElement;
  if (!o)
    return;
  if (o.className !== E) {
    const n = o.parentElement;
    if (!n || n.className !== E)
      return;
  }
  s();
  const a = o.innerText;
  if (e.getUICompByName(a)) {
    e.setSelectedCompNames(/* @__PURE__ */ new Set([a]));
    return;
  }
  const r = e.getBottomResComp(a);
  if (r) {
    e.setSelectedBottomRes(a, r.type());
    return;
  }
}
function B(t) {
  const e = (0, import_react.useContext)(Vr), {
    history: s
  } = (0, import_react.useContext)($0), {
    togglePanel: o,
    panelStatus: a,
    toggleShortcutList: r
  } = t, n = jI(), w = (0, import_react.useCallback)((c) => {
    u(e, c), N(c, e, s, o, r, n), e.getAppSettingsComp().children.customShortcuts.handleKeyEvent(c);
  }, [e, s, o, r, n]), d2 = (0, import_react.useCallback)((c) => u(e, c), [e]), K = (0, import_react.useCallback)((c) => {
    u(e, c), v(c, e, () => !a.left && o("left"));
  }, [e, a, o]);
  return d(A8n, {
    disabled: t.disabled,
    onKeyDownCapture: w,
    onKeyUpCapture: d2,
    onMouseMoveCapture: d2,
    onMouseDownCapture: K,
    children: t.children
  });
}
function A(t, e) {
  switch (h(t, "editor")) {
    case "selectAllComps":
      e.setSelectedCompNames(new Set(Object.values(e.getUIComp().getTopCompItems()).map((s) => s.children.name.getView()))), t.preventDefault(), t.stopPropagation();
      return;
    case "copyComps":
      Pd.copyComp(e, e.selectedComps());
      return;
    case "pasteComps":
      Pd.pasteComp(e);
      return;
    case "cutComps":
      Pd.cutComp(e, e.selectedComps());
      return;
    case "deselectComps":
      e.setSelectedCompNames(/* @__PURE__ */ new Set());
      return;
  }
}
function L(t) {
  const e = (0, import_react.useContext)(Vr), s = (0, import_react.useCallback)((o) => A(o, e), [e]);
  return d(V8n, {
    disabled: t.disabled,
    onKeyDown: s,
    style: {
      width: "100%",
      height: "100%"
    },
    children: t.children
  });
}
function F(t) {
  const e = (0, import_react.useContext)(Vr), s = (0, import_react.useCallback)((o) => {
    e.getAppSettingsComp().children.customShortcuts.handleKeyEvent(o);
  }, [e]);
  return d(A8n, {
    onKeyDownCapture: s,
    children: t.children
  });
}
export {
  F as CustomShortcutWrapper,
  B as EditorGlobalHotKeys,
  L as EditorHotKeys
};
//# sourceMappingURL=8fbb4207-EXB63RMA.js.map
