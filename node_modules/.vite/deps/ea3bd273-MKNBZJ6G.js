import {
  E2e,
  M2,
  PL,
  WI,
  d,
  g2,
  p1,
  vc
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/ea3bd273.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var c = new g2({
  v1: M2,
  v2: vc
}, (a) => a).setPropertyViewFn(() => d(p1, {})).build();
var r = {
  value: {
    v1: "v1: {{a + 1}}",
    v2: "{{a + 2}}"
  }
};
describe("withParams", () => {
  it("normal", () => {
    const a = E2e(c, ["a"]);
    let e = new a(r);
    e = PL(e);
    let t = e.getView();
    expect(t.v1).toEqual("v1: 1"), expect(t.v2).toEqual(2), e = e.reduce(a.setPartialParamDataAction({
      a: "10"
    })), e = PL(e), t = e.getView(), expect(t.v1).toEqual("v1: 101"), expect(t.v2).toEqual(102);
  }), it("normal with default", () => {
    const a = WI(c, {
      a: 10
    });
    let e = new a(r);
    e = PL(e);
    let t = e.getView();
    expect(t.v1).toEqual("v1: 11"), expect(t.v2).toEqual(12), e = e.reduce(a.setPartialParamDataAction({
      a: "10"
    })), e = PL(e), t = e.getView(), expect(t.v1).toEqual("v1: 101"), expect(t.v2).toEqual(102);
  }), it("keep node stable", () => {
    var p, l, i, n;
    const a = E2e(c, ["a"]);
    let e = new a(r);
    e = PL(e);
    const t = e.setParams({
      a: 0
    });
    expect(t.getComp().node() === e.getComp().node()).toBeTruthy(), expect(((p = t.node()) == null ? void 0 : p.children.comp.child) === ((l = e.node()) == null ? void 0 : l.children.comp.child)).toBeTruthy(), expect(t.extraNode() === e.extraNode()).toBeTruthy(), expect(((i = t.node()) == null ? void 0 : i.children.wrap) === ((n = e.node()) == null ? void 0 : n.children.wrap)).toBeTruthy();
  });
});
//# sourceMappingURL=ea3bd273-MKNBZJ6G.js.map
