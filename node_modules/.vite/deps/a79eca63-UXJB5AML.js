import {
  U,
  V
} from "./chunk-7JS2X7W5.js";
import {
  B6n,
  Jlr,
  N,
  R2t,
  Vr,
  ZXe,
  d,
  de,
  gs,
  p1,
  pee,
  q4,
  x0r
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/a79eca63.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var W = de.div`
  right: calc(313px + 4px); // FIXME: don't rely on the width of the right panel
  bottom: ${(t) => t.$bottom ? t.$bottom + 4 + "px" : 285 + 4 + "px"};
  position: fixed;
  z-index: ${gs.queryResultPanel};

  display: flex;
  flex-direction: column;
  width: 592px;
  height: fit-content;
  max-height: 250px;
  background: #ffffff;
  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  pointer-events: auto;
  padding-bottom: 16px;
`;
var j = (t) => {
  const {
    bottom: e
  } = t, a = (0, import_react.useContext)(Vr), o = a.showResultComp(), i = o == null ? void 0 : o.result(), l = (0, import_react.useRef)(null), [u, n] = (0, import_react.useState)(true), [f, x] = (0, import_react.useState)({
    left: 0,
    top: 0,
    bottom: 0,
    right: 0
  }), {
    header: w,
    body: y
  } = V({
    ...i ?? {
      data: "",
      dataType: "default",
      success: true
    },
    onClose: () => a.setShowResultCompName(void 0)
  });
  return i ? d(pee, {
    disabled: u,
    bounds: f,
    enableUserSelectHack: false,
    onStart: (G, d2) => {
      var p;
      const {
        clientWidth: v,
        clientHeight: S
      } = window.document.documentElement, s = (p = l.current) == null ? void 0 : p.getBoundingClientRect();
      s && x({
        left: -s.left + d2.x,
        right: v - (s.right - d2.x),
        top: -s.top + d2.y,
        bottom: S - (s.bottom - d2.y)
      });
    },
    children: N(W, {
      $bottom: e,
      ref: l,
      children: [d(U, {
        onMouseOver: () => n(false),
        onMouseOut: () => n(true),
        children: w
      }), y]
    })
  }) : null;
};
var k = de(x0r)`
  position: relative;
  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
  border-top: 1px solid #e1e3eb;
  z-index: ${gs.bottomPanel};

  .react-resizable-handle {
    position: absolute;
    border-top: transparent solid 3px;
    width: 100%;
    padding: 0 3px 3px 0;
    top: 0;
    cursor: row-resize;
  }
`;
var b = (t) => {
  t.preventDefault();
};
var D = () => {
  window.addEventListener("mousedown", b);
};
var T = () => {
  window.removeEventListener("mousedown", b);
};
function X(t) {
  const e = (0, import_react.useMemo)(() => ZXe(), []), a = document.documentElement.clientHeight, o = (u, n) => {
    B6n({
      ...e,
      bottom: {
        h: n.size.height
      }
    }), l(n.size.height), T();
  }, [i, l] = (0, import_react.useState)(e.bottom.h);
  return N(p1, {
    children: [d(j, {
      bottom: i
    }), d(k, {
      width: 1 / 0,
      height: e.bottom.h,
      resizeHandles: ["n"],
      minConstraints: [680, 285],
      maxConstraints: [1 / 0, a - 48 - 40],
      onResizeStart: D,
      onResizeStop: o,
      children: d(Jlr, {})
    })]
  });
}
var q = (t) => ({
  orgId: q4(t).currentOrgId,
  datasourceInfos: t.entities.datasource.data
});
var K = R2t(q, null)(X);
export {
  K as default
};
//# sourceMappingURL=a79eca63-UXJB5AML.js.map
