{
  "version": 3,
  "sources": ["../../lowcoder-sdk/dist/91f867d0.js"],
  "sourcesContent": ["import { av as y, Y as t, X as O, a5 as M, O as k, w as q, aA as _, S as C, cZ as j, Z as Q, lj as J, U, F as d, a8 as b, G as R, a9 as g, aa as x, en as Z, ah as S, ab as G, dE as I, ac as K, ae as T, ad as X, _ as Y, eA as L } from \"./c988e26e.js\";\nimport ee, { useRef as n, useCallback as w, useEffect as v, useContext as V, useState as H, Suspense as te } from \"react\";\nimport { formDataChildren as oe, FormDataPropertyView as re } from \"./85e61f03.js\";\nimport \"react-dom\";\nfunction ae(e, o) {\n  o === void 0 && (o = 0);\n  var r = n(!1), a = n(), l = n(e), h = w(function() {\n    return r.current;\n  }, []), c = w(function() {\n    r.current = !1, a.current && clearTimeout(a.current), a.current = setTimeout(function() {\n      r.current = !0, l.current();\n    }, o);\n  }, [o]), u = w(function() {\n    r.current = null, a.current && clearTimeout(a.current);\n  }, []);\n  return v(function() {\n    l.current = e;\n  }, [e]), v(function() {\n    return c(), u;\n  }, [o]), [h, u, c];\n}\nfunction ie(e, o, r) {\n  o === void 0 && (o = 0), r === void 0 && (r = []);\n  var a = ae(e, o), l = a[0], h = a[1], c = a[2];\n  return v(c, r), [l, h];\n}\nconst D = y`\n  & .ql-snow {\n    .ql-picker.ql-header {\n      .ql-picker-label::before,\n      .ql-picker-item::before {\n        content: \"${t(\"richTextEditor.content\")}\";\n      }\n\n      .ql-picker-label[data-value=\"1\"]::before,\n      .ql-picker-item[data-value=\"1\"]::before {\n        content: \"${t(\"richTextEditor.title\")} 1\";\n      }\n\n      .ql-picker-label[data-value=\"2\"]::before,\n      .ql-picker-item[data-value=\"2\"]::before {\n        content: \"${t(\"richTextEditor.title\")} 2\";\n      }\n\n      .ql-picker-label[data-value=\"3\"]::before,\n      .ql-picker-item[data-value=\"3\"]::before {\n        content: \"${t(\"richTextEditor.title\")} 3\";\n      }\n\n      .ql-picker-item[data-value=\"1\"]::before {\n        font-size: 26px;\n      }\n\n      .ql-picker-item[data-value=\"3\"]::before {\n        font-size: 19px;\n      }\n\n      .ql-picker-item[data-value=\"3\"]::before {\n        font-size: 15px;\n      }\n    }\n    & .ql-tooltip.ql-editing a.ql-action::after {\n      content: \"${t(\"richTextEditor.save\")}\";\n    }\n    & .ql-tooltip::before {\n      content: \"${t(\"richTextEditor.link\")}\";\n    }\n    & .ql-tooltip {\n      a.ql-action::after {\n        content: \"${t(\"richTextEditor.edit\")}\";\n      }\n      a.ql-remove::before {\n        content: \"${t(\"richTextEditor.remove\")}\";\n      }\n    }\n  }\n`, P = (e) => y`\n  height: 100%;\n\n  & .ql-editor {\n    min-height: 85px;\n  }\n  & .ql-snow .ql-tooltip.ql-editing {\n    input[type=\"text\"] {\n      width: 130px;\n    }\n  }\n  & .ql-snow {\n    &.ql-container,\n    &.ql-toolbar {\n      border-color: ${e.border};\n      background-color: ${e.background};\n      \n    }\n  }\n  & .ql-toolbar {\n    border-radius: ${e.radius} ${e.radius} 0 0;\n    border-width: ${e.borderWidth ? e.borderWidth : \"1px\"};\n  }\n  & .ql-container {\n    border-radius: 0 0 ${e.radius} ${e.radius};\n    background-color: ${e.background};\n    border-width: ${e.borderWidth ? e.borderWidth : \"1px\"};\n  }\n`, F = (e) => y`\n  .ql-snow.ql-toolbar {\n    height: 0;\n    overflow: hidden;\n    padding: 0;\n    border-bottom: 0;\n    border: none;\n  }\n  .quill .ql-snow.ql-container {\n    border-radius: ${e.radius};\n    border: 1px solid ${e.border};\n  }\n`, ne = O.div`\n  ${D}\n  ${(e) => P(e.$style)}\n  & .ql-container .ql-editor {\n    min-height: 125px;\n  }\n  ${(e) => e.$hideToolbar ? F(e.$style) : \"\"};\n`, le = O.div`\n  ${D}\n  ${(e) => P(e.$style)}\n  & .quill {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  & .ql-snow {\n    &.ql-container {\n      flex: 1;\n      overflow: auto;\n    }\n  }\n  ${(e) => e.$hideToolbar ? F(e.$style) : \"\"};\n`, ce = [[{\n  header: [1, 2, 3, !1]\n}], [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"], [{\n  list: \"ordered\"\n}, {\n  list: \"bullet\"\n}], [{\n  indent: \"-1\"\n}, {\n  indent: \"+1\"\n}], [{\n  color: []\n}, {\n  background: []\n}, {\n  align: []\n}], [\"link\", \"image\"], [\"clean\"]], de = {\n  value: M(\"value\"),\n  hideToolbar: k,\n  readOnly: k,\n  autoHeight: q(_, \"fixed\"),\n  placeholder: q(C, t(\"richTextEditor.placeholder\")),\n  toolbar: q(C, JSON.stringify(ce)),\n  onEvent: j,\n  style: Q(J, \"style\"),\n  ...oe\n}, ue = ee.lazy(() => import(\"./08fa5cf1.js\").then((e) => e.i));\nfunction se(e) {\n  const [o, r] = H(0), [a, l] = H(\"\"), h = n(null), c = n(null), u = n(0), f = n(e.onChange);\n  f.current = e.onChange;\n  const N = n(Y.debounce((i) => {\n    var s;\n    window.clearTimeout(u.current), u.current = window.setTimeout(() => u.current = 0, 100), (s = f.current) == null || s.call(f, i);\n  }));\n  ie(() => {\n    r(Math.random());\n  }, 500, [e.placeholder]);\n  const W = (i, s) => {\n    try {\n      s.parentNode;\n    } catch {\n      return !1;\n    }\n    return i.contains(s);\n  }, z = (i) => {\n    l(i), N.current(i);\n  };\n  v(() => {\n    let i = e.value;\n    /^<\\w+>.+<\\/\\w+>$/.test(e.value) || (i = `<p class=\"\">${e.value}</p>`), l(i);\n  }, [e.value]);\n  const A = (i) => {\n    var m, p;\n    (p = ((m = c.current) == null ? void 0 : m.editor).theme.pickers) == null || p.forEach((E) => {\n      W(E.container, i.nativeEvent.target) || E.close();\n    });\n  }, $ = \"rtf-editor\", B = e.autoHeight ? ne : le;\n  return /* @__PURE__ */ d(B, {\n    id: $,\n    onClick: A,\n    ref: h,\n    $hideToolbar: e.hideToolbar,\n    $style: e.$style,\n    children: /* @__PURE__ */ d(te, {\n      fallback: /* @__PURE__ */ d(L, {}),\n      children: /* @__PURE__ */ d(ue, {\n        ref: c,\n        bounds: `#${$}`,\n        modules: {\n          toolbar: JSON.parse(e.toolbar)\n        },\n        theme: \"snow\",\n        value: a,\n        placeholder: e.placeholder,\n        readOnly: e.readOnly,\n        onChange: z\n      }, o)\n    })\n  });\n}\nconst he = new U(de, (e) => {\n  const o = (r) => {\n    e.value.onChange(r), e.onEvent(\"change\");\n  };\n  return /* @__PURE__ */ d(se, {\n    autoHeight: e.autoHeight,\n    hideToolbar: e.hideToolbar,\n    toolbar: e.toolbar,\n    readOnly: e.readOnly,\n    value: e.value.value,\n    placeholder: e.placeholder,\n    onChange: o,\n    $style: e.style\n  });\n}).setPropertyViewFn((e) => /* @__PURE__ */ b(R, {\n  children: [/* @__PURE__ */ b(g, {\n    name: x.basic,\n    children: [e.value.propertyView({\n      label: t(\"richTextEditor.defaultValue\")\n    }), Z(e)]\n  }), /* @__PURE__ */ d(re, {\n    ...e\n  }), [\"logic\", \"both\"].includes(V(S).editorModeStatus) && /* @__PURE__ */ b(g, {\n    name: x.interaction,\n    children: [e.onEvent.getPropertyView(), G(e), I(e)]\n  }), [\"layout\", \"both\"].includes(V(S).editorModeStatus) && /* @__PURE__ */ b(R, {\n    children: [/* @__PURE__ */ b(g, {\n      name: x.layout,\n      children: [e.autoHeight.getPropertyView(), e.toolbar.propertyView({\n        label: t(\"richTextEditor.toolbar\"),\n        tooltip: t(\"richTextEditor.toolbarDescription\")\n      }), e.hideToolbar.propertyView({\n        label: t(\"richTextEditor.hideToolbar\")\n      })]\n    }), /* @__PURE__ */ d(g, {\n      name: x.style,\n      children: e.style.getPropertyView()\n    })]\n  })]\n})).build();\nclass be extends he {\n  autoHeight() {\n    return this.children.autoHeight.getView();\n  }\n}\nconst me = K(be, [new T(\"value\", t(\"export.richTextEditorValueDesc\")), new T(\"readOnly\", t(\"export.richTextEditorReadOnlyDesc\")), new T(\"hideToolbar\", t(\"export.richTextEditorHideToolBarDesc\")), X]);\nexport {\n  me as RichTextEditorComp\n};\n"],
  "mappings": "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",
  "names": ["n", "h", "w", "c", "v", "de", "ee", "H", "N", "te", "V"]
}
