import {
  $te,
  Eor,
  Fs,
  KPe,
  Mmn,
  N,
  RI,
  SXe,
  V3r,
  Xe1,
  Y9,
  _,
  a2,
  alr,
  c7,
  d,
  de,
  emn,
  ft1,
  ht1,
  jI,
  m3r,
  mc,
  p1,
  q3r,
  q4,
  tx,
  v7,
  w21,
  zr
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/a759a2f6.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var z = de.div`
  font-weight: 500;
  font-size: 14px;
  color: ${(s) => mc(s.$bgColor) ? "#ffffff" : "#000000"};
  font-style: normal;
  line-height: 24px;
  margin-right: 8px;
  margin-left: 20px;
  max-width: 264px;
  ${c7};
`;
var N2 = de.a`
  display: flex;
  align-items: center;
`;
var O = de(w21)`
  height: 28px;
  width: 28px;
`;
var G = de(zr)`
  min-width: 60px;
  padding: 0;
  height: 28px;
  margin-right: 4px;
`;
var X = de(zr)`
  min-width: 60px;
  height: 28px;
`;
var Y = de(zr)`
  &&& {
    color: #ffffff;
    background: #8b8fa34c;
    border: none;
    height: 28px;
    margin-right: 8px;
    min-width: 60px;
    padding: 0;
    cursor: pointer;
  
    &:hover {
      background: #666666;
      color: #ffffff;
      border: none;
    }
  
    &:focus {
      background: #666666;
      color: #ffffff;
      border: none;
    }
  }
`;
var Z = de(KPe)`
  margin-right: 4px;

  g g {
    fill: #ffffff;
  }
`;
var q = de(zr)`
  min-width: 60px;
  height: 28px;
  margin-right: 24px;
  padding: 0;
`;
var J = de.div`
  display: inherit;
  @media screen and (max-width: 500px) {
    > div:nth-of-type(1),
    > button {
      display: none;
    }
  }
`;
function K(s) {
  const {
    user: n
  } = s, t = a2(emn), a = a2(alr);
  return t ? d(Fs.Avatar, {
    shape: "circle",
    size: 28
  }) : d("div", {
    children: n.isAnonymous ? a ? null : d(G, {
      buttonType: "primary",
      onClick: () => v7.push($te),
      children: _("userAuth.login")
    }) : d(V3r, {
      user: n,
      profileSide: 28,
      fontSize: 12
    })
  });
}
var ne = () => {
  const s = tx(), n = a2(q4), t = a2(Xe1), a = jI(), h = a2(alr), o = a2(Mmn), [x, f] = (0, import_react.useState)(false), p = s.viewMode === "view_marketplace", w = N(p1, {
    children: [d(N2, {
      onClick: () => v7.push(RI),
      children: d(O, {
        branding: true
      })
    }), p && d(q3r, {
      setEdit: () => {
      },
      isViewMarketplaceMode: p
    }), !p && d(z, {
      $bgColor: (o == null ? void 0 : o.headerColor) ?? "#2c2c2c",
      children: t && t.name
    })]
  }), y = N(J, {
    children: [ft1(n, t) && d(Eor, {
      applicationId: a,
      visible: x,
      onVisibleChange: (A) => !A && f(false)
    }), ft1(n, t) && d(Y, {
      onClick: () => f(true),
      children: SXe
    }), ht1(n, t) && N(q, {
      buttonType: "primary",
      onClick: () => (
        // redirection to app by JS will cause the problem that queries don't execute on initialization
        // so just open a new window.
        window.open(Y9(a, "edit"))
      ),
      children: [d(Z, {}), _("edit")]
    }), !!h && d(X, {
      style: {
        marginRight: n.isAnonymous ? "" : "24px"
      },
      buttonType: "primary",
      onClick: () => {
        window.open(_("template.cloneUrl") + h);
      },
      children: _("header.clone")
    }), d(K, {
      user: n
    })]
  });
  return d(m3r, {
    headerStart: w,
    headerEnd: y,
    style: {
      backgroundColor: o == null ? void 0 : o.headerColor
    }
  });
};
export {
  K as HeaderProfile,
  ne as PreviewHeader
};
//# sourceMappingURL=a759a2f6-TWUZWJDS.js.map
