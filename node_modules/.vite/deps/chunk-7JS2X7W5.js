import {
  G3,
  Mee,
  N,
  N9,
  Q0r,
  _,
  cH,
  d,
  de,
  e0r,
  lS,
  o2,
  oC,
  p1
} from "./chunk-C4ZQG65I.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/1443d5c6.js
var import_react = __toESM(require_react(), 1);
var U = de.div`
  display: flex;
  align-items: center;
  padding: 12px 16px 20px 16px;
  cursor: move;
  background-color: #ffffff;
  border-radius: inherit;
`;
var E = de.div`
  margin-right: 8px;
  height: 16px;

  svg {
    width: 16px;
    height: 16px;
  }
`;
var I = de.div`
  display: flex;
  align-items: center;
  flex-grow: 1;

  height: 24px;
  font-size: 13px;
  line-height: 13px;
  color: #222222;
  border-radius: 4px;
  border: none;
  word-break: break-all;
`;
var z = de.div`
  display: flex;
  flex-shrink: 0;
  align-items: center;
  margin-right: 24px;
  color: #8b8fa3;
  line-height: 13px;
  margin-left: auto;
`;
var G = de.div`
  margin-left: auto;
  width: 16px;
  height: 16px;
  cursor: pointer;

  color: ${G3};

  &:hover {
    color: ${Q0r};
  }
`;
var M = de.div`
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
  scrollbar-gutter: stable;
  padding-left: 16px;
  background-color: #ffffff;

  &::-webkit-scrollbar {
    width: 16px;
  }

  &::-webkit-scrollbar-thumb {
    border: 4px solid transparent;
    background-clip: content-box;
    border-radius: 9999px;
    background-color: rgba(139, 143, 163, 0.2);
    min-height: 50px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: rgba(139, 143, 163, 0.36);
  }
`;
var X = de(oC)`
  .ant-table {
    font-size: 13px;
    border: none;
  }

  .ant-table-thead {
    margin-bottom: 4px;
  }

  .ant-table-thead > tr > th {
    color: #8b8fa3;
    background: #ffffff;
    line-height: 13px;
    padding-bottom: 9px;
    // border-bottom: 1px solid #8b8fa3;
  }

  .ant-table-thead > tr > th::before {
    display: none;
  }

  .ant-table-tbody > tr > td {
    border: none;
  }

  .ant-table-row {
    margin-top: 4px;
  }

  .ant-table-cell {
    height: 22px;
    padding: 0 24px 0 0;
    margin-left: 24px;
    max-width: 184px; // actual width + padding right
  }

  // two-side shadow with scrollbar
  .ant-table-ping-left:not(.ant-table-has-fix-left) .ant-table-container::before {
    box-shadow: none;
  }

  .ant-table-ping-right:not(.ant-table-has-fix-right) .ant-table-container::after {
    box-shadow: none;
  }
`;
var m = de.pre`
  word-break: break-word;
  white-space: pre-wrap;
`;
var T = de.span`
  color: #b8b9bf;
  margin-left: 8px;
`;
var Y = T;
function V(n) {
  const {
    success: s,
    errorMessage: f,
    dataType: a,
    data: e,
    title: j,
    runTime: w
  } = n, [b, y] = (0, import_react.useState)(false);
  (0, import_react.useEffect)(() => y(false), [n.data]);
  const [k, O] = (0, import_react.useMemo)(() => {
    if (a !== "default")
      return [false, []];
    if (Array.isArray(e)) {
      let o = true;
      const p = e.reduce((h, i) => (i && o2.isPlainObject(i) ? Object.keys(i).forEach((c) => h.add(c)) : o = false, h), /* @__PURE__ */ new Set());
      if (o)
        return [true, Array.from(p).reduce((h, i) => [...h, {
          title: i,
          dataIndex: i,
          ellipsis: true,
          render: (c) => typeof c == "string" ? c : JSON.stringify(c)
        }], [])];
    }
    return [false, []];
  }, [e, a]), A = (0, import_react.useMemo)(() => {
    if (f)
      return f;
    if (b)
      return d(e0r, {
        name: false,
        src: e
      });
    switch (a) {
      case "function":
        return d(m, {
          children: _("resultPanel.returnFunction")
        });
      case "json":
        return o2.isObjectLike(e) ? d(e0r, {
          name: false,
          src: e
        }) : d(m, {
          children: String(e)
        });
      default:
        return k ? d(X, {
          tableLayout: "auto",
          scroll: {
            x: "100%"
          },
          columns: O,
          dataSource: e.map((o, p) => ({
            ...o,
            key: p
          })),
          pagination: false
        }) : o2.isObjectLike(e) ? d(e0r, {
          name: false,
          src: e
        }) : d(m, {
          children: e
        });
    }
  }, [n, b]);
  let l = null;
  return a !== "function" && (o2.isArray(e) ? l = `Array(${e.length})` : o2.isObject(e) ? l = `Object(${Object.keys(e).length} keys)` : l = typeof e), {
    header: N(p1, {
      children: [N(I, {
        children: [d(E, {
          children: s ? d(Mee, {}) : d(cH, {})
        }), j, w ? d(T, {
          children: _("resultPanel.consume", {
            time: B(w) || ""
          })
        }) : null, l && d(Y, {
          children: l
        }), k && N(z, {
          children: [d(lS, {
            value: b,
            onChange: (o) => y(o)
          }), _("resultPanel.JSON")]
        })]
      }), d(G, {
        onClick: n.onClose,
        children: d(N9, {})
      })]
    }),
    body: d(M, {
      children: A
    })
  };
}
function B(n) {
  let s = n;
  const f = ["ms", "s", "min", "h"], a = [1, 1e3, 60, 60];
  for (let e = 0; e < 4; e++) {
    if (s / a[e] < 1)
      return s + f[e - 1];
    s /= a[e];
  }
}

export {
  U,
  V
};
//# sourceMappingURL=chunk-7JS2X7W5.js.map
