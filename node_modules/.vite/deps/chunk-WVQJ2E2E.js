import {
  f,
  u
} from "./chunk-KGKG6FTU.js";
import {
  $sn,
  E7,
  Fj1,
  GW1,
  H0,
  JU1,
  N,
  Osn,
  VS,
  Vr,
  YU1,
  _,
  ao,
  b0,
  d,
  de,
  ka,
  nc,
  p1,
  pQe,
  s2e,
  t2,
  vo,
  ya
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/3e5c99b7.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var U = [{
  label: _("video.play"),
  value: "play",
  description: _("video.playDesc")
}, {
  label: _("video.pause"),
  value: "pause",
  description: _("video.pauseDesc")
}, {
  label: _("video.load"),
  value: "load",
  description: _("video.loadDesc")
}, {
  label: _("video.ended"),
  value: "ended",
  description: _("video.endedDesc")
}];
var B = de.div`
${(e) => e.$style};
rotate:${(e) => e.$style.rotation};
${(e) => e.$animationStyle};
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;

  div > video {
    object-fit: contain;
    pointer-events: auto;
    height: 100%;
    width: 100%;
    :focus-visible {
      outline: 0px;
    }
  }
`;
var F = (e) => {
  const o = (0, import_react.useRef)(null);
  let [C, w] = (0, import_react.useState)(false);
  return d(B, {
    ref: e.containerRef,
    $style: e.style,
    $animationStyle: e.animationStyle,
    children: d(Osn, {
      config: {
        file: {
          forceVideo: true
        }
      },
      light: e.autoPlay ? "" : e.poster.value,
      ref: (c) => {
        e.viewRef(c), o.current = c;
      },
      url: e.src.value,
      onPlay: () => e.onEvent("play"),
      onReady: () => {
        o.current != null && e.duration.onChange(o.current.getDuration()), e.onEvent("load");
      },
      onPause: () => e.onEvent("pause"),
      onEnded: () => e.onEvent("ended"),
      loop: e.loop,
      controls: !e.controls,
      volume: e.volume,
      style: e.style,
      playbackRate: e.playbackRate,
      onClickPreview: () => {
        w(true);
      },
      draggable: false,
      playIcon: $sn(),
      playing: e.autoPlay || C,
      onProgress: () => {
        o.current != null && e.currentTimeStamp.onChange(o.current.getCurrentTime());
      }
    })
  });
};
var H = {
  src: t2(YU1, _("video.defaultSrcUrl")),
  poster: t2(YU1, _("video.defaultPosterUrl")),
  onEvent: ya(U),
  style: nc(GW1, "style"),
  animationStyle: nc(Fj1, "animationStyle"),
  autoPlay: ao,
  loop: ao,
  controls: ao,
  volume: pQe.closed(0, 1, 1),
  playbackRate: pQe.closed(1, 2, 1),
  currentTimeStamp: JU1("currentTimeStamp", 0),
  duration: JU1("duration"),
  ...f
};
var d2 = function() {
  return new VS(H, (e) => d(F, {
    ...e
  })).setPropertyViewFn((e) => N(p1, {
    children: [d(ka, {
      name: b0.basic,
      children: e.src.propertyView({
        label: _("video.src"),
        tooltip: _("video.srcDesc")
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "logic" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && N(p1, {
      children: [N(ka, {
        name: b0.interaction,
        children: [e.onEvent.getPropertyView(), E7(e)]
      }), N(ka, {
        name: b0.advanced,
        children: [e.poster.propertyView({
          label: _("video.poster"),
          tooltip: _("video.posterTooltip")
        }), e.volume.propertyView({
          label: _("video.volume"),
          tooltip: _("video.volumeTooltip")
        }), e.playbackRate.propertyView({
          label: _("video.playbackRate"),
          tooltip: _("video.playbackRateTooltip")
        }), e.autoPlay.propertyView({
          label: _("video.autoPlay"),
          tooltip: _("video.autoPlayTooltip")
        }), e.loop.propertyView({
          label: _("video.loop")
        }), e.controls.propertyView({
          label: _("video.controls"),
          tooltip: _("video.controlsTooltip")
        })]
      }), d(ka, {
        name: b0.style,
        children: e.style.getPropertyView()
      })]
    })]
  })).setExposeMethodConfigs(u()).build();
}();
d2 = class extends d2 {
  autoHeight() {
    return false;
  }
};
var G = H0(d2, [new vo("src", _("video.srcDesc")), new vo("currentTimeStamp", _("video.currentTimeStamp")), new vo("duration", _("video.duration")), s2e]);

export {
  G
};
//# sourceMappingURL=chunk-WVQJ2E2E.js.map
