import {
  E7,
  Fj1,
  Gse,
  H0,
  M2,
  N,
  T2,
  UW1,
  VS,
  Vr,
  Vwt,
  Y6n,
  YU1,
  _,
  ao,
  b0,
  d,
  de,
  eu,
  gM,
  h1,
  hWe,
  ka,
  nc,
  p1,
  qse,
  s2e,
  t2,
  vo,
  ya
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/82dff944.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var Y = de.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  .ant-image,
  img {
    width: 100%;
    height: 100%;
  }

  img {
    object-fit: contain;
    pointer-events: auto;
    ${(e) => e.$animationStyle}
  }

  ${(e) => e.$style && Z(e.$style)}
`;
var Z = (e) => T2`
    img {
      border: ${(s) => e.borderWidth ? e.borderWidth : "1px"} solid ${e.border};
      border-radius: ${e.radius};
      margin: ${e.margin};
      padding: ${e.padding};
      max-width: ${qse(e.margin)};
      max-height: ${Gse(e.margin)};
      rotate: ${e.rotation};
    }

    .ant-image-mask {
      border-radius: ${e.radius};
    }
  `;
var q = [eu];
var Q = (e) => {
  const s = (0, import_react.useRef)(null), h = (0, import_react.useRef)(null), [l, V] = (0, import_react.useState)(0), [d2, N2] = (0, import_react.useState)(0), y = (t) => {
    t.onload = function() {
      V(t.naturalWidth), N2(t.naturalHeight);
    };
  };
  (0, import_react.useEffect)(() => {
    const t = new Image(0, 0);
    t.src = e.src.value, y(t), t.onerror = function(i) {
      t.src = Y6n, y(t);
    };
  }, [e.src.value]), (0, import_react.useEffect)(() => {
    d2 && l && f();
  }, [d2, l]);
  const w = (t, i) => {
    const n = s.current, p = n == null ? void 0 : n.getElementsByTagName("div")[0], v = n == null ? void 0 : n.getElementsByTagName("img")[0];
    n.style.height = t, n.style.width = i, p.style.height = t, p.style.width = i, v.style.height = t, v.style.width = i;
  }, f = () => {
    const t = s.current, i = h.current;
    !(t != null && t.clientWidth) || !(t != null && t.clientHeight) || e.autoHeight || !l || ((h1.divide(i == null ? void 0 : i.clientWidth, i == null ? void 0 : i.clientHeight) || 0) > (h1.divide(Number(l), Number(d2)) || 0) ? w("100%", "auto") : w("auto", "100%"));
  };
  return d(hWe, {
    onResize: f,
    render: () => d(Y, {
      ref: h,
      $style: e.style,
      $animationStyle: e.animationStyle,
      children: d("div", {
        ref: s,
        style: e.autoHeight ? {
          width: "100%",
          height: "100%"
        } : void 0,
        children: d(Vwt, {
          src: e.src.value,
          referrerPolicy: "same-origin",
          draggable: false,
          preview: e.supportPreview,
          fallback: Y6n,
          onClick: () => e.onEvent("click")
        })
      })
    })
  });
};
var ee = {
  src: t2(YU1, "https://temp.im/350x400"),
  onEvent: ya(q),
  style: nc(UW1, "style"),
  animationStyle: nc(Fj1, "animationStyle"),
  autoHeight: t2(gM, "fixed"),
  supportPreview: ao,
  restrictPaddingOnRotation: t2(M2, "image")
};
var m = new VS(ee, (e) => d(Q, {
  ...e
})).setPropertyViewFn((e) => N(p1, {
  children: [d(ka, {
    name: b0.basic,
    children: e.src.propertyView({
      label: _("image.src")
    })
  }), ["logic", "both"].includes((0, import_react.useContext)(Vr).editorModeStatus) && N(ka, {
    name: b0.interaction,
    children: [e.onEvent.getPropertyView(), E7(e), e.supportPreview.propertyView({
      label: _("image.supportPreview"),
      tooltip: _("image.supportPreviewTip")
    })]
  }), ["layout", "both"].includes((0, import_react.useContext)(Vr).editorModeStatus) && N(p1, {
    children: [d(ka, {
      name: b0.layout,
      children: e.autoHeight.getPropertyView()
    }), d(ka, {
      name: b0.style,
      children: e.style.getPropertyView()
    }), d(ka, {
      name: b0.animationStyle,
      hasTooltip: true,
      children: e.animationStyle.getPropertyView()
    })]
  })]
})).build();
m = class extends m {
  autoHeight() {
    return this.children.autoHeight.getView();
  }
};
var ne = H0(m, [new vo("src", _("image.srcDesc")), s2e]);

export {
  ne
};
//# sourceMappingURL=chunk-JLUQ2J2P.js.map
