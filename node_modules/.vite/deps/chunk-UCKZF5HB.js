import {
  HQe,
  N,
  SQe,
  TQe,
  _,
  ao,
  b0,
  et1,
  ka,
  o2,
  tt1,
  vB1
} from "./chunk-C4ZQG65I.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/d3b0afba.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var L = {
  required: ao,
  customRule: SQe
};
var h = (e) => {
  if (e.customRule)
    return {
      validateStatus: "error",
      help: e.customRule
    };
  const t = e.value.value;
  return e.required && o2.isEmpty(t) ? {
    validateStatus: "error",
    help: _("prop.required")
  } : {
    validateStatus: "success"
  };
};
var O = (e) => {
  var r;
  const [t, l] = (0, import_react.useState)({}), n = (0, import_react.useRef)(false), u = (0, import_react.useRef)(e);
  u.current = e;
  const d = e.value.value, i = (r = e.defaultValue) == null ? void 0 : r.value, S = (a) => {
    l(h({
      ...u.current,
      value: {
        value: a
      }
    }));
  };
  return (0, import_react.useEffect)(() => {
    var a, s;
    (s = (a = e.value).onChange) == null || s.call(a, i);
  }, [i]), (0, import_react.useEffect)(() => {
    var a;
    n.current && (S(d), (a = e.onEvent) == null || a.call(e, "change"), n.current = false);
  }, [d]), [
    t,
    (a) => {
      var s, v;
      (v = (s = e.value).onChange) == null || v.call(s, a), n.current = true;
    }
  ];
};
var j = HQe({
  name: "invalid",
  desc: _("export.invalidDesc"),
  depKeys: ["value", "required", "customRule"],
  func: (e) => h({
    ...e,
    value: {
      value: e.value
    }
  }).validateStatus !== "success"
});
var k = (e) => N(ka, {
  name: b0.validation,
  children: [vB1(e), e.customRule.propertyView({})]
});
var B = [HQe({
  name: "selectedIndex",
  desc: _("selectInput.selectedIndexDesc"),
  depKeys: ["value", "options"],
  func: (e) => {
    var t, l;
    return (l = (t = e.options).findIndex) == null ? void 0 : l.call(t, (n) => n.value === e.value);
  }
}), HQe({
  name: "selectedLabel",
  desc: _("selectInput.selectedLabelDesc"),
  depKeys: ["value", "options"],
  func: (e) => {
    var t, l, n;
    return (n = (l = (t = e.options).find) == null ? void 0 : l.call(t, (u) => u.value === e.value)) == null ? void 0 : n.label;
  }
})];
var N2 = TQe([et1, tt1]);

export {
  L,
  h,
  O,
  j,
  k,
  B,
  N2 as N
};
//# sourceMappingURL=chunk-UCKZF5HB.js.map
