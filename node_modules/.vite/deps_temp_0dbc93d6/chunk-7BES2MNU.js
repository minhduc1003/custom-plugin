import {
  gn
} from "./chunk-ZT6JYGF3.js";
import {
  X
} from "./chunk-V26E4E3O.js";
import {
  f
} from "./chunk-FRVWTJX4.js";
import {
  Bdn,
  C3,
  Cr,
  Ct,
  E6e,
  E7,
  El,
  Fj1,
  H0,
  H3,
  HQe,
  IXe,
  N,
  N0,
  RQe,
  St,
  TC,
  Vr,
  W9,
  WL,
  Yh,
  _,
  _n,
  a5,
  ao,
  b0,
  b2e,
  d,
  de,
  ene,
  f2,
  fB1,
  g0r,
  h1,
  h2,
  h7,
  hg,
  il,
  jo,
  ka,
  le1,
  nK,
  nc,
  og,
  p1,
  pe1,
  pqe,
  qC,
  qh,
  s4,
  u4,
  vo,
  x9,
  ya
} from "./chunk-2ZELARZW.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/44c19c99.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var Q = {};
var mt = a5(g0r);
var U = {};
var J = {};
var Y = {};
var de2 = Cr.default;
var ut = jo.default;
Object.defineProperty(Y, "__esModule", {
  value: true
});
Y.default = ft;
var T = ut(import_react.default);
var oe = de2(x9);
var pt = de2(og);
function ft(e) {
  let {
    percent: t,
    prefixCls: r
  } = e;
  const a = `${r}-dot`, i = `${a}-holder`, o = `${i}-hidden`, [n, s] = T.useState(false);
  (0, pt.default)(() => {
    t !== 0 && s(true);
  }, [t !== 0]);
  const l = Math.max(Math.min(t, 100), 0), u = 100, h = u / 5, C = u / 2 - h / 2, p = C * 2 * Math.PI, v = (N2, I) => T.createElement("circle", {
    className: (0, oe.default)(N2, `${a}-circle`),
    r: C,
    cx: "50",
    cy: "50",
    strokeWidth: h,
    style: I
  });
  return n ? T.createElement("span", {
    className: (0, oe.default)(i, `${a}-progress`, l <= 0 && o)
  }, T.createElement("svg", {
    viewBox: `0 0 ${u} ${u}`,
    // biome-ignore lint/a11y/noNoninteractiveElementToInteractiveRole: progressbar could be readonly
    role: "progressbar",
    "aria-valuemin": 0,
    "aria-valuemax": 100,
    "aria-valuenow": l
  }, v(`${a}-circle-bg`), v("", {
    strokeDasharray: `${p * l / 100} ${p * (100 - l) / 100}`,
    strokeDashoffset: `${p / 4}`
  }))) : null;
}
var me = Cr.default;
var ht = jo.default;
Object.defineProperty(J, "__esModule", {
  value: true
});
J.default = vt;
var x = ht(import_react.default);
var ne = me(x9);
var yt = me(Y);
function vt(e) {
  const {
    prefixCls: t,
    percent: r = 0
  } = e, a = `${t}-dot`, i = `${a}-holder`, o = `${i}-hidden`;
  return x.createElement(x.Fragment, null, x.createElement("span", {
    className: (0, ne.default)(i, r > 0 && o)
  }, x.createElement("span", {
    className: (0, ne.default)(a, `${t}-dot-spin`)
  }, [1, 2, 3, 4].map((n) => x.createElement("i", {
    className: `${t}-dot-item`,
    key: n
  })))), x.createElement(yt.default, {
    prefixCls: t,
    percent: r
  }));
}
var ue = Cr.default;
var gt = jo.default;
Object.defineProperty(U, "__esModule", {
  value: true
});
U.default = wt;
var se = gt(import_react.default);
var bt = ue(x9);
var St2 = qh;
var Ct2 = ue(J);
function wt(e) {
  const {
    prefixCls: t,
    indicator: r,
    percent: a
  } = e, i = `${t}-dot`;
  return r && se.isValidElement(r) ? (0, St2.cloneElement)(r, {
    className: (0, bt.default)(r.props.className, i),
    percent: a
  }) : se.createElement(Ct2.default, {
    prefixCls: t,
    percent: a
  });
}
var P = {};
Object.defineProperty(P, "__esModule", {
  value: true
});
P.prepareComponentToken = P.default = void 0;
var pe = El;
var $t = TC;
var le = h7;
var Dt = new pe.Keyframes("antSpinMove", {
  to: {
    opacity: 1
  }
});
var xt = new pe.Keyframes("antRotate", {
  to: {
    transform: "rotate(405deg)"
  }
});
var Pt = (e) => {
  const {
    componentCls: t,
    calc: r
  } = e;
  return {
    [`${t}`]: Object.assign(Object.assign({}, (0, $t.resetComponent)(e)), {
      position: "absolute",
      display: "none",
      color: e.colorPrimary,
      fontSize: 0,
      textAlign: "center",
      verticalAlign: "middle",
      opacity: 0,
      transition: `transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,
      "&-spinning": {
        position: "relative",
        display: "inline-block",
        opacity: 1
      },
      [`${t}-text`]: {
        fontSize: e.fontSize,
        paddingTop: r(r(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()
      },
      "&-fullscreen": {
        position: "fixed",
        width: "100vw",
        height: "100vh",
        backgroundColor: e.colorBgMask,
        zIndex: e.zIndexPopupBase,
        inset: 0,
        display: "flex",
        alignItems: "center",
        flexDirection: "column",
        justifyContent: "center",
        opacity: 0,
        visibility: "hidden",
        transition: `all ${e.motionDurationMid}`,
        "&-show": {
          opacity: 1,
          visibility: "visible"
        },
        [t]: {
          [`${t}-dot-holder`]: {
            color: e.colorWhite
          },
          [`${t}-text`]: {
            color: e.colorTextLightSolid
          }
        }
      },
      "&-nested-loading": {
        position: "relative",
        [`> div > ${t}`]: {
          position: "absolute",
          top: 0,
          insetInlineStart: 0,
          zIndex: 4,
          display: "block",
          width: "100%",
          height: "100%",
          maxHeight: e.contentHeight,
          [`${t}-dot`]: {
            position: "absolute",
            top: "50%",
            insetInlineStart: "50%",
            margin: r(e.dotSize).mul(-1).div(2).equal()
          },
          [`${t}-text`]: {
            position: "absolute",
            top: "50%",
            width: "100%",
            textShadow: `0 1px 2px ${e.colorBgContainer}`
            // FIXME: shadow
          },
          [`&${t}-show-text ${t}-dot`]: {
            marginTop: r(e.dotSize).div(2).mul(-1).sub(10).equal()
          },
          "&-sm": {
            [`${t}-dot`]: {
              margin: r(e.dotSizeSM).mul(-1).div(2).equal()
            },
            [`${t}-text`]: {
              paddingTop: r(r(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()
            },
            [`&${t}-show-text ${t}-dot`]: {
              marginTop: r(e.dotSizeSM).div(2).mul(-1).sub(10).equal()
            }
          },
          "&-lg": {
            [`${t}-dot`]: {
              margin: r(e.dotSizeLG).mul(-1).div(2).equal()
            },
            [`${t}-text`]: {
              paddingTop: r(r(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()
            },
            [`&${t}-show-text ${t}-dot`]: {
              marginTop: r(e.dotSizeLG).div(2).mul(-1).sub(10).equal()
            }
          }
        },
        [`${t}-container`]: {
          position: "relative",
          transition: `opacity ${e.motionDurationSlow}`,
          "&::after": {
            position: "absolute",
            top: 0,
            insetInlineEnd: 0,
            bottom: 0,
            insetInlineStart: 0,
            zIndex: 10,
            width: "100%",
            height: "100%",
            background: e.colorBgContainer,
            opacity: 0,
            transition: `all ${e.motionDurationSlow}`,
            content: '""',
            pointerEvents: "none"
          }
        },
        [`${t}-blur`]: {
          clear: "both",
          opacity: 0.5,
          userSelect: "none",
          pointerEvents: "none",
          "&::after": {
            opacity: 0.4,
            pointerEvents: "auto"
          }
        }
      },
      // tip
      // ------------------------------
      "&-tip": {
        color: e.spinDotDefault
      },
      // holder
      // ------------------------------
      [`${t}-dot-holder`]: {
        width: "1em",
        height: "1em",
        fontSize: e.dotSize,
        display: "inline-block",
        transition: `transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,
        transformOrigin: "50% 50%",
        lineHeight: 1,
        color: e.colorPrimary,
        "&-hidden": {
          transform: "scale(0.3)",
          opacity: 0
        }
      },
      // progress
      // ------------------------------
      [`${t}-dot-progress`]: {
        position: "absolute",
        top: "50%",
        transform: "translateY(-50%)",
        insetInlineStart: 0
      },
      // dots
      // ------------------------------
      [`${t}-dot`]: {
        position: "relative",
        display: "inline-block",
        fontSize: e.dotSize,
        width: "1em",
        height: "1em",
        "&-item": {
          position: "absolute",
          display: "block",
          width: r(e.dotSize).sub(r(e.marginXXS).div(2)).div(2).equal(),
          height: r(e.dotSize).sub(r(e.marginXXS).div(2)).div(2).equal(),
          background: "currentColor",
          borderRadius: "100%",
          transform: "scale(0.75)",
          transformOrigin: "50% 50%",
          opacity: 0.3,
          animationName: Dt,
          animationDuration: "1s",
          animationIterationCount: "infinite",
          animationTimingFunction: "linear",
          animationDirection: "alternate",
          "&:nth-child(1)": {
            top: 0,
            insetInlineStart: 0,
            animationDelay: "0s"
          },
          "&:nth-child(2)": {
            top: 0,
            insetInlineEnd: 0,
            animationDelay: "0.4s"
          },
          "&:nth-child(3)": {
            insetInlineEnd: 0,
            bottom: 0,
            animationDelay: "0.8s"
          },
          "&:nth-child(4)": {
            bottom: 0,
            insetInlineStart: 0,
            animationDelay: "1.2s"
          }
        },
        "&-spin": {
          transform: "rotate(45deg)",
          animationName: xt,
          animationDuration: "1.2s",
          animationIterationCount: "infinite",
          animationTimingFunction: "linear"
        },
        "&-circle": {
          strokeLinecap: "round",
          transition: ["stroke-dashoffset", "stroke-dasharray", "stroke", "stroke-width", "opacity"].map((a) => `${a} ${e.motionDurationSlow} ease`).join(","),
          fillOpacity: 0,
          stroke: "currentcolor"
        },
        "&-circle-bg": {
          stroke: e.colorFillSecondary
        }
      },
      // small
      [`&-sm ${t}-dot`]: {
        "&, &-holder": {
          fontSize: e.dotSizeSM
        }
      },
      [`&-sm ${t}-dot-holder`]: {
        i: {
          width: r(r(e.dotSizeSM).sub(r(e.marginXXS).div(2))).div(2).equal(),
          height: r(r(e.dotSizeSM).sub(r(e.marginXXS).div(2))).div(2).equal()
        }
      },
      // large
      [`&-lg ${t}-dot`]: {
        "&, &-holder": {
          fontSize: e.dotSizeLG
        }
      },
      [`&-lg ${t}-dot-holder`]: {
        i: {
          width: r(r(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),
          height: r(r(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()
        }
      },
      [`&${t}-show-text ${t}-text`]: {
        display: "block"
      }
    })
  };
};
var fe = (e) => {
  const {
    controlHeightLG: t,
    controlHeight: r
  } = e;
  return {
    contentHeight: 400,
    dotSize: t / 2,
    dotSizeSM: t * 0.35,
    dotSizeLG: r
  };
};
P.prepareComponentToken = fe;
P.default = (0, le.genStyleHooks)("Spin", (e) => {
  const t = (0, le.mergeToken)(e, {
    spinDotDefault: e.colorTextDescription
  });
  return [Pt(t)];
}, fe);
var Z = {};
var Nt = jo.default;
Object.defineProperty(Z, "__esModule", {
  value: true
});
Z.default = _t;
var G = Nt(import_react.default);
var Et = 200;
var ce = [[30, 0.05], [70, 0.03], [96, 0.01]];
function _t(e, t) {
  const [r, a] = G.useState(0), i = G.useRef(), o = t === "auto";
  return G.useEffect(() => (o && e && (a(0), i.current = setInterval(() => {
    a((n) => {
      const s = 100 - n;
      for (let l = 0; l < ce.length; l += 1) {
        const [u, h] = ce[l];
        if (n <= u)
          return n + s * h;
      }
      return n;
    });
  }, Et)), () => {
    clearInterval(i.current);
  }), [o, e]), o ? r : t;
}
var j = Cr.default;
var It = jo.default;
Object.defineProperty(Q, "__esModule", {
  value: true
});
var he = Q.default = void 0;
var f3 = It(import_react.default);
var z = j(x9);
var Ot = mt;
var Tt = u4;
var zt = W9;
var Vt = j(U);
var Mt = j(P);
var qt = j(Z);
var jt = function(e, t) {
  var r = {};
  for (var a in e)
    Object.prototype.hasOwnProperty.call(e, a) && t.indexOf(a) < 0 && (r[a] = e[a]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var i = 0, a = Object.getOwnPropertySymbols(e); i < a.length; i++)
      t.indexOf(a[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, a[i]) && (r[a[i]] = e[a[i]]);
  return r;
};
var ye;
function At(e, t) {
  return !!e && !!t && !isNaN(Number(t));
}
var k = (e) => {
  var t;
  const {
    prefixCls: r,
    spinning: a = true,
    delay: i = 0,
    className: o,
    rootClassName: n,
    size: s = "default",
    tip: l,
    wrapperClassName: u,
    style: h,
    children: C,
    fullscreen: p = false,
    indicator: v,
    percent: N2
  } = e, I = jt(e, ["prefixCls", "spinning", "delay", "className", "rootClassName", "size", "tip", "wrapperClassName", "style", "children", "fullscreen", "indicator", "percent"]), {
    getPrefixCls: ve,
    direction: ge,
    spin: g
  } = f3.useContext(zt.ConfigContext), m = ve("spin", r), [A, R, F] = (0, Mt.default)(m), [$, ee] = f3.useState(() => a && !At(a, i)), be = (0, qt.default)($, N2);
  f3.useEffect(() => {
    if (a) {
      const w = (0, Ot.debounce)(i, () => {
        ee(true);
      });
      return w(), () => {
        var X2;
        (X2 = w == null ? void 0 : w.cancel) === null || X2 === void 0 || X2.call(w);
      };
    }
    ee(false);
  }, [i, a]);
  const L = f3.useMemo(() => typeof C < "u" && !p, [C, p]);
  if (true) {
    const w = (0, Tt.devUseWarning)("Spin");
    w(!l || L || p, "usage", "`tip` only work in nest or fullscreen pattern.");
  }
  const Se = (0, z.default)(m, g == null ? void 0 : g.className, {
    [`${m}-sm`]: s === "small",
    [`${m}-lg`]: s === "large",
    [`${m}-spinning`]: $,
    [`${m}-show-text`]: !!l,
    [`${m}-rtl`]: ge === "rtl"
  }, o, !p && n, R, F), Ce = (0, z.default)(`${m}-container`, {
    [`${m}-blur`]: $
  }), we = (t = v ?? (g == null ? void 0 : g.indicator)) !== null && t !== void 0 ? t : ye, $e = Object.assign(Object.assign({}, g == null ? void 0 : g.style), h), B = f3.createElement("div", Object.assign({}, I, {
    style: $e,
    className: Se,
    "aria-live": "polite",
    "aria-busy": $
  }), f3.createElement(Vt.default, {
    prefixCls: m,
    indicator: we,
    percent: be
  }), l && (L || p) ? f3.createElement("div", {
    className: `${m}-text`
  }, l) : null);
  return A(L ? f3.createElement("div", Object.assign({}, I, {
    className: (0, z.default)(`${m}-nested-loading`, u, R, F)
  }), $ && f3.createElement("div", {
    key: "loading"
  }, B), f3.createElement("div", {
    className: Ce,
    key: "container"
  }, C)) : p ? f3.createElement("div", {
    className: (0, z.default)(`${m}-fullscreen`, {
      [`${m}-fullscreen-show`]: $
    }, n, R, F)
  }, B) : B);
};
k.setDefaultIndicator = (e) => {
  ye = e;
};
k.displayName = "Spin";
he = Q.default = k;
var Rt = de.div`
  height: 100%;
  .ant-spin-nested-loading {
    height: 100%;
    .ant-spin-container {
      height: 100%;
    }
  }
`;
var Ft = [ene];
var Lt = {
  initialData: hg,
  resetAfterSubmit: ao,
  disabled: H3,
  disableSubmit: H3,
  loading: H3,
  onEvent: ya(Ft),
  animationStyle: nc(Fj1)
};
function Bt(e, t) {
  const {
    dispatch: r,
    layout: a,
    positionParams: i
  } = e.container.body[0].children.view.getView();
  let o = 0;
  const n = t.map(({
    column: s,
    compName: l
  }) => {
    const u = {
      i: "",
      h: nK(s.comp.type).h,
      w: i.cols,
      x: 0,
      y: o
    };
    return o = o + u.h, {
      item: {
        compType: s.comp.type,
        name: l,
        comp: {
          ...s.comp.compInitData,
          formDataKey: s.name,
          label: {
            text: s.label
          },
          required: s.required
        }
      },
      layoutItem: u
    };
  });
  r(il(Bdn(a, n)));
}
function Xt(e) {
  return {
    name: "submit",
    handler: {
      compType: "executeQuery",
      comp: {
        queryName: e
      }
    }
  };
}
function Kt(e, t, r, a) {
  const {
    dispatch: i
  } = t, o = r.getNameGenerator(), n = e.columns.map((v) => {
    const N2 = o.genItemName("form" + h1.upperFirst(v.comp.type));
    return {
      column: v,
      compName: N2
    };
  });
  Bt(t, n);
  const s = e.tableName, l = s.substring(s.lastIndexOf(".") + 1), u = a + "SubmitTo" + l.split("_").map(h1.upperFirst).join(""), h = o.genItemName(u);
  i(il(s4("onEvent", pe1(Xt(h)))));
  const C = e.dataSourceTypeConfig.getQueryInitData(a, s, n), p = r.getQueriesComp();
  return p.dispatch(il(p.pushAction({
    ...C,
    id: WL(),
    name: h,
    datasourceId: e.dataSourceId,
    triggerType: "manual",
    notification: {
      showSuccess: true,
      showFail: true
    }
  }))), r.setSelectedBottomRes(h, f2.Query), "";
}
var Gt = (e) => {
  const t = (0, import_react.useContext)(Vr), r = (0, import_react.useContext)(Yh);
  return N(pqe, {
    children: [_("formComp.containerPlaceholder"), d("br", {}), d(gn, {
      onCreate: (a) => Promise.resolve(Kt(a, e, t, r))
    })]
  });
};
var Wt = d(E6e, {
  spin: true
});
var Ht = function() {
  return new f(Lt, (e, t) => d(b2e.Provider, {
    value: e.disabled,
    children: d(Rt, {
      children: d(he, {
        indicator: Wt,
        spinning: e.loading,
        style: {
          height: "100%"
        },
        children: d(X, {
          ...e,
          hintPlaceholder: d(Gt, {
            ...e,
            dispatch: t
          })
        })
      })
    })
  })).setPropertyViewFn((e) => N(p1, {
    children: [d(ka, {
      name: b0.basic,
      children: e.resetAfterSubmit.propertyView({
        label: _("formComp.resetAfterSubmit")
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "logic" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && d(p1, {
      children: N(ka, {
        name: b0.interaction,
        children: [e.onEvent.getPropertyView(), qC(e), e.disableSubmit.propertyView({
          label: _("formComp.disableSubmit")
        }), E7(e), fB1(e)]
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "layout" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && d(p1, {
      children: d(ka, {
        name: b0.layout,
        children: e.container.getPropertyView()
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "logic" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && d(ka, {
      name: b0.advanced,
      children: e.initialData.propertyView({
        label: _("formComp.initialData")
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "layout" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && N(p1, {
      children: [d(ka, {
        name: b0.style,
        children: e.container.stylePropertyView()
      }), d(ka, {
        name: b0.animationStyle,
        hasTooltip: true,
        children: e.animationStyle.getPropertyView()
      }), e.container.children.showHeader.getView() && d(ka, {
        name: "Header Style",
        children: e.container.headerStylePropertyView()
      }), e.container.children.showBody.getView() && d(ka, {
        name: "Body Style",
        children: e.container.bodyStylePropertyView()
      }), e.container.children.showFooter.getView() && d(ka, {
        name: "Footer Style",
        children: e.container.footerStylePropertyView()
      })]
    })]
  })).build();
}();
var H = class extends Ht {
  onEventPropertyView(e) {
    return this.children.onEvent.propertyView({
      title: e
    });
  }
  traverseFormItems(e) {
    return IXe(this.getCompTree(), (t) => t.children.comp.children.formDataKey ? e(t) : true);
  }
  validateFormItems() {
    return this.traverseFormItems((e) => {
      var r;
      return !((r = e.children.comp.exposingValues) != null && r.invalid);
    });
  }
  runMethodOfItems(...e) {
    const t = [];
    return this.traverseFormItems((r) => {
      var o;
      const a = r.children.comp.exposingMethods();
      for (const n of e) {
        const s = (o = a[n.name]) == null ? void 0 : o.func;
        if (s) {
          const l = n.getParams ? n.getParams(r) : [];
          if (l !== void 0)
            return t.push(Promise.resolve(s(...l))), true;
        }
      }
      const i = r.children.compType.getView();
      return St.warn(_("form") + i + _("formComp.notSupportMethod") + e.map((n) => n.name)), true;
    }), Promise.all(t).then(() => {
    });
  }
  setData(e, t) {
    const r = {
      ...t ?? this.children.initialData.getView(),
      ...e
    };
    return this.runMethodOfItems({
      name: "setValue",
      getParams: (a) => {
        var n;
        const i = ((n = a.children.comp.children.formDataKey) == null ? void 0 : n.getView()) || a.children.name.getView(), o = r[i];
        return o !== void 0 ? [o] : void 0;
      }
    }, {
      name: "setRange",
      getParams: (a) => {
        var n;
        const i = ((n = a.children.comp.children.formDataKey) == null ? void 0 : n.getView()) || a.children.name.getView(), o = r[i] ? r[i] : void 0;
        return o !== void 0 ? [o] : void 0;
      }
    }, {
      name: "resetValue"
    }, {
      name: "resetAll"
    }, {
      name: "clearValue"
    }, {
      name: "clearAll"
    });
  }
  reset() {
    return this.setData({});
  }
  submit() {
    return this.disableSubmit() ? Promise.reject("disableSubmit") : this.validateFormItems() ? this.children.onEvent.getView()("submit").then(() => this.children.resetAfterSubmit.getView() ? this.reset() : Promise.resolve()) : (Ct.error(_("formComp.notValidForm")), Promise.reject("formComp.notValidForm"));
  }
  disableSubmit() {
    return this.children.disabled.getView() || this.children.disableSubmit.getView();
  }
  reduce(e) {
    switch (e.type) {
      case h2.UPDATE_NODES_V2: {
        const t = super.reduce(e);
        return t.children.initialData !== this.children.initialData && setTimeout(() => {
          this.dispatch(_n({
            type: "setData",
            initialData: e.value.initialData.value || {}
          }, false));
        }), t;
      }
      case h2.CUSTOM:
        if (C3(e, "setData"))
          return this.setData({}, e.value.initialData), this;
    }
    return super.reduce(e);
  }
};
H = N0(H, [{
  method: {
    name: "submit",
    description: _("export.submitDesc"),
    params: []
  },
  execute: (e, t) => e.submit()
}, {
  method: {
    name: "reset",
    description: _("formComp.resetDesc"),
    params: []
  },
  execute: (e, t) => e.reset()
}, {
  method: {
    name: "clear",
    description: _("formComp.clearDesc"),
    params: []
  },
  execute: (e, t) => e.runMethodOfItems({
    name: "clearValue"
  })
}, {
  method: {
    name: "setData",
    description: _("formComp.setDataDesc"),
    params: [{
      name: "data",
      type: "JSON"
    }]
  },
  execute: (e, t) => {
    if (t.length !== 1)
      return Promise.reject(_("formComp.valuesLengthError"));
    const r = t[0];
    return typeof r != "object" || r === null || Array.isArray(r) ? Promise.reject(_("formComp.valueTypeError")) : e.setData(r);
  }
}]);
var cr = H0(H, [...RQe, new vo("loading", _("formComp.loadingDesc")), HQe({
  name: "data",
  desc: _("formComp.dataDesc"),
  depKeys: ["container"],
  func: (e) => {
    const t = {};
    return Object.entries(e.container).forEach(([r, a]) => {
      const i = a;
      if (i != null && i.hasOwnProperty("formDataKey")) {
        let o = i.value;
        !o && (i != null && i.hasOwnProperty("start")) && (i != null && i.hasOwnProperty("end")) && (o = {
          start: i.start,
          end: i.end
        }), t[i.formDataKey || r] = o;
      }
    }), t;
  }
}), HQe({
  name: "invalid",
  desc: _("export.invalidDesc"),
  depKeys: ["container"],
  func: (e) => {
    for (const [, t] of Object.entries(e.container)) {
      const r = t;
      if (r != null && r.hasOwnProperty("formDataKey") && r.invalid)
        return true;
    }
    return false;
  }
})]);
function dr(e, t) {
  return {
    container: {
      header: le1([{
        item: {
          compType: "text",
          name: t.genItemName("formTitle"),
          comp: {
            text: "### " + _("formComp.formTitle")
          }
        },
        layoutItem: {
          i: "",
          h: 5,
          w: 24,
          x: 0,
          y: 0
        }
      }]),
      footer: le1([{
        item: {
          compType: "button",
          name: t.genItemName("formButton"),
          comp: {
            text: _("button.submit"),
            type: "submit",
            form: e
          }
        },
        layoutItem: {
          i: "",
          h: 5,
          w: 10,
          x: 14,
          y: 0
        }
      }]),
      showHeader: true,
      showFooter: true
    }
  };
}

export {
  cr,
  dr
};
//# sourceMappingURL=chunk-7BES2MNU.js.map
