import {
  Bn,
  PL,
  To,
  jL,
  jS,
  mC
} from "./chunk-2ZELARZW.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/a259353b.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
test("action handler always get latest data", async () => {
  const o = jest.fn();
  window.someFunc = o, jL({
    orgCommonSettings: {
      runJavaScriptInHost: true
    }
  });
  const s = To({
    a: jS,
    b: Bn(false)
  }), a = {
    a: {
      compType: "runScript",
      comp: {
        script: "someFunc()"
      },
      condition: "{{b}}"
    },
    b: false
  };
  let t;
  const c = (n) => {
    const i = t.reduce(n);
    t = PL(i, { b: mC(true) });
  };
  t = new s({ value: a, dispatch: c });
  const e = t.children.a.getView();
  expect(typeof e).toBe("function"), e == null || e(), expect(o).toBeCalledTimes(0), t.children.b.dispatchChangeValueAction(true), e == null || e(), expect(o).toBeCalledTimes(1);
});
//# sourceMappingURL=a259353b-27PLLDD6.js.map
