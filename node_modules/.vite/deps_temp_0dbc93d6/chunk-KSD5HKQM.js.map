{
  "version": 3,
  "sources": ["../../lowcoder-sdk/dist/8a01f194.js"],
  "sourcesContent": ["import { X as S, cY as U, w as y, Y as a, S as q, O as v, ez as I, bI as F, Z as T, bQ as z, N as J, U as W, a8 as o, F as t, eA as Y, aj as _, al as A, bV as G, G as x, a9 as d, aa as u, ah as h, bJ as H, ab as Q, ac as X, ae as D, bL as Z, eB as $ } from \"./c988e26e.js\";\nimport { ButtonCompWrapper as K, Button100 as ee, buttonRefMethods as te } from \"./975a080d.js\";\nimport ne, { useState as s, useEffect as ae, useRef as oe, Suspense as se, useContext as m } from \"react\";\nimport \"react-dom\";\nconst ie = S.div`\n  color: #f5222d;\n  height: 100px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`, re = S.div`\n  video,\n  .ant-skeleton {\n    height: 400px;\n    max-height: 70vh;\n    position: relative;\n    object-fit: cover;\n    background-color: #000;\n  }\n  .ant-skeleton {\n    h3,\n    li {\n      background-color: transparent;\n    }\n  }\n`, le = S($)`\n  top: 10vh;\n  .react-draggable {\n    max-width: 100%;\n    width: 500px;\n  }\n`, ce = ne.lazy(() => import(\"./06c7e1f4.js\").then((f) => f.i)), de = function() {\n  const f = {\n    data: U(\"data\"),\n    text: y(q, a(\"scanner.text\")),\n    continuous: v,\n    uniqueData: y(v, !0),\n    maskClosable: y(v, !0),\n    onEvent: I,\n    disabled: F,\n    style: T(z, \"style\"),\n    viewRef: J\n  };\n  return new W(f, (e) => {\n    const [r, g] = s(!1), [k, C] = s(\"\"), [b, V] = s({\n      facingMode: \"environment\"\n    }), [B, R] = s([]), [P, M] = s(!1), [E, p] = s(!1);\n    ae(() => {\n      !r && E && e.onEvent(\"success\");\n    }, [E, r]);\n    const i = oe([]), j = (n, l) => {\n      if (l)\n        if (e.continuous) {\n          i.current = [...i.current, l.text];\n          const w = e.uniqueData ? [...new Set(i.current)] : i.current;\n          e.data.onChange(w), e.onEvent(\"success\");\n        } else\n          e.data.onChange([l.text]), g(!1), p(!0);\n      else\n        p(!1);\n    }, L = (n) => {\n      typeof n == \"string\" ? C(n) : n.message === \"getUserMedia is not implemented in this browser\" ? C(a(\"scanner.errTip\")) : C(n.message), p(!1);\n    }, N = () => {\n      navigator.mediaDevices.enumerateDevices().then((n) => {\n        const w = n.filter((c) => c.kind === \"videoinput\").map((c, O) => ({\n          label: c.label || a(\"scanner.camera\", {\n            index: O + 1\n          }),\n          key: c.deviceId\n        }));\n        R(w);\n      });\n    };\n    return /* @__PURE__ */ o(K, {\n      disabled: e.disabled,\n      children: [/* @__PURE__ */ t(ee, {\n        ref: e.viewRef,\n        $buttonStyle: e.style,\n        disabled: e.disabled,\n        onClick: () => {\n          e.onEvent(\"click\"), g(!0), i.current = [];\n        },\n        children: /* @__PURE__ */ t(\"span\", {\n          children: e.text\n        })\n      }), /* @__PURE__ */ t(le, {\n        showOkButton: !1,\n        showCancelButton: !1,\n        open: r,\n        maskClosable: e.maskClosable,\n        destroyOnClose: !0,\n        onCancel: () => {\n          g(!1), e.onEvent(\"close\");\n        },\n        children: k ? /* @__PURE__ */ t(ie, {\n          children: k\n        }) : r && /* @__PURE__ */ o(re, {\n          children: [/* @__PURE__ */ t(se, {\n            fallback: /* @__PURE__ */ t(Y, {}),\n            children: /* @__PURE__ */ t(ce, {\n              delay: 1e3,\n              onUpdate: j,\n              onError: L,\n              videoConstraints: b\n            }, JSON.stringify(b))\n          }), /* @__PURE__ */ t(\"div\", {\n            style: {\n              height: \"42px\"\n            },\n            onClick: () => {\n              M(!1);\n            },\n            children: /* @__PURE__ */ t(_, {\n              placement: \"bottomRight\",\n              trigger: [\"click\"],\n              open: P,\n              onOpenChange: (n) => M(n),\n              dropdownRender: () => /* @__PURE__ */ t(A, {\n                items: B,\n                onClick: (n) => V({\n                  ...b,\n                  deviceId: n.key\n                })\n              }),\n              children: /* @__PURE__ */ t(G, {\n                style: {\n                  float: \"right\",\n                  marginTop: \"10px\"\n                },\n                onClick: (n) => {\n                  n.stopPropagation(), N();\n                },\n                children: a(\"scanner.changeCamera\")\n              })\n            })\n          })]\n        })\n      })]\n    });\n  }).setPropertyViewFn((e) => /* @__PURE__ */ o(x, {\n    children: [/* @__PURE__ */ t(d, {\n      name: u.basic,\n      children: e.text.propertyView({\n        label: a(\"text\")\n      })\n    }), (m(h).editorModeStatus === \"logic\" || m(h).editorModeStatus === \"both\") && /* @__PURE__ */ o(x, {\n      children: [/* @__PURE__ */ o(d, {\n        name: u.interaction,\n        children: [e.onEvent.getPropertyView(), H(e), Q(e)]\n      }), /* @__PURE__ */ o(d, {\n        name: u.advanced,\n        children: [e.continuous.propertyView({\n          label: a(\"scanner.continuous\")\n        }), e.continuous.getView() && e.uniqueData.propertyView({\n          label: a(\"scanner.uniqueData\")\n        }), e.maskClosable.propertyView({\n          label: a(\"scanner.maskClosable\")\n        })]\n      })]\n    }), (m(h).editorModeStatus === \"layout\" || m(h).editorModeStatus === \"both\") && /* @__PURE__ */ t(x, {\n      children: /* @__PURE__ */ t(d, {\n        name: u.style,\n        children: e.style.getPropertyView()\n      })\n    })]\n  })).setExposeMethodConfigs(te).build();\n}(), ge = X(de, [new D(\"data\", a(\"data\")), new D(\"text\", a(\"button.textDesc\")), ...Z]);\nexport {\n  ge as ScannerComp\n};\n"],
  "mappings": "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",
  "names": ["ne", "de", "s", "B", "ae", "oe", "w", "N", "se", "m"]
}
