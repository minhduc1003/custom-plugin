import {
  L,
  wt
} from "./chunk-23U5Z6RF.js";
import "./chunk-WTQX2DSK.js";
import "./chunk-SPXRW662.js";
import {
  sn
} from "./chunk-2ZELARZW.js";
import "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/84a3032f.js
var import_react = __toESM(require_react(), 1);
function P(t, e) {
  for (var r = 0; r < e.length; r++) {
    const s = e[r];
    if (typeof s != "string" && !Array.isArray(s)) {
      for (const a in s)
        if (a !== "default" && !(a in t)) {
          const i = Object.getOwnPropertyDescriptor(s, a);
          i && Object.defineProperty(t, a, i.get ? i : {
            enumerable: true,
            get: () => s[a]
          });
        }
    }
  }
  return Object.freeze(Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }));
}
var g = Object.create;
var l = Object.defineProperty;
var v = Object.getOwnPropertyDescriptor;
var O = Object.getOwnPropertyNames;
var S = Object.getPrototypeOf;
var j = Object.prototype.hasOwnProperty;
var L2 = (t, e, r) => e in t ? l(t, e, { enumerable: true, configurable: true, writable: true, value: r }) : t[e] = r;
var w = (t, e) => {
  for (var r in e)
    l(t, r, { get: e[r], enumerable: true });
};
var c = (t, e, r, s) => {
  if (e && typeof e == "object" || typeof e == "function")
    for (let a of O(e))
      !j.call(t, a) && a !== r && l(t, a, { get: () => e[a], enumerable: !(s = v(e, a)) || s.enumerable });
  return t;
};
var D = (t, e, r) => (r = t != null ? g(S(t)) : {}, c(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  e || !t || !t.__esModule ? l(r, "default", { value: t, enumerable: true }) : r,
  t
));
var M = (t) => c(l({}, "__esModule", { value: true }), t);
var o = (t, e, r) => (L2(t, typeof e != "symbol" ? e + "" : e, r), r);
var h = {};
w(h, {
  default: () => n
});
var y = M(h);
var p = D(import_react.default);
var u = L;
var m = wt;
var T = "https://cdn.embed.ly/player-0.1.0.min.js";
var E = "playerjs";
var n = class extends p.Component {
  constructor() {
    super(...arguments), o(this, "callPlayer", u.callPlayer), o(this, "duration", null), o(this, "currentTime", null), o(this, "secondsLoaded", null), o(this, "mute", () => {
      this.callPlayer("mute");
    }), o(this, "unmute", () => {
      this.callPlayer("unmute");
    }), o(this, "ref", (e) => {
      this.iframe = e;
    });
  }
  componentDidMount() {
    this.props.onMount && this.props.onMount(this);
  }
  load(e) {
    (0, u.getSDK)(T, E).then((r) => {
      this.iframe && (this.player = new r.Player(this.iframe), this.player.setLoop(this.props.loop), this.player.on("ready", this.props.onReady), this.player.on("play", this.props.onPlay), this.player.on("pause", this.props.onPause), this.player.on("seeked", this.props.onSeek), this.player.on("ended", this.props.onEnded), this.player.on("error", this.props.onError), this.player.on("timeupdate", ({ duration: s, seconds: a }) => {
        this.duration = s, this.currentTime = a;
      }), this.player.on("buffered", ({ percent: s }) => {
        this.duration && (this.secondsLoaded = this.duration * s);
      }), this.props.muted && this.player.mute());
    }, this.props.onError);
  }
  play() {
    this.callPlayer("play");
  }
  pause() {
    this.callPlayer("pause");
  }
  stop() {
  }
  seekTo(e, r = true) {
    this.callPlayer("setCurrentTime", e), r || this.pause();
  }
  setVolume(e) {
    this.callPlayer("setVolume", e * 100);
  }
  setLoop(e) {
    this.callPlayer("setLoop", e);
  }
  getDuration() {
    return this.duration;
  }
  getCurrentTime() {
    return this.currentTime;
  }
  getSecondsLoaded() {
    return this.secondsLoaded;
  }
  render() {
    const e = this.props.url.match(m.MATCH_URL_STREAMABLE)[1], r = {
      width: "100%",
      height: "100%"
    };
    return p.default.createElement(
      "iframe",
      {
        ref: this.ref,
        src: `https://streamable.com/o/${e}`,
        frameBorder: "0",
        scrolling: "no",
        style: r,
        allow: "encrypted-media; autoplay; fullscreen;"
      }
    );
  }
};
o(n, "displayName", "Streamable");
o(n, "canPlay", m.canPlay.streamable);
var A = sn(y);
var R = P({
  __proto__: null,
  default: A
}, [y]);
export {
  R as S
};
//# sourceMappingURL=84a3032f-IMFL6DF5.js.map
