import {
  L,
  wt
} from "./chunk-23U5Z6RF.js";
import "./chunk-WTQX2DSK.js";
import "./chunk-SPXRW662.js";
import {
  sn
} from "./chunk-2ZELARZW.js";
import "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/2134be45.js
var import_react = __toESM(require_react(), 1);
function P(r, e) {
  for (var t = 0; t < e.length; t++) {
    const o = e[t];
    if (typeof o != "string" && !Array.isArray(o)) {
      for (const a in o)
        if (a !== "default" && !(a in r)) {
          const l = Object.getOwnPropertyDescriptor(o, a);
          l && Object.defineProperty(r, a, l.get ? l : {
            enumerable: true,
            get: () => o[a]
          });
        }
    }
  }
  return Object.freeze(Object.defineProperty(r, Symbol.toStringTag, { value: "Module" }));
}
var g = Object.create;
var n = Object.defineProperty;
var b = Object.getOwnPropertyDescriptor;
var v = Object.getOwnPropertyNames;
var O = Object.getPrototypeOf;
var w = Object.prototype.hasOwnProperty;
var j = (r, e, t) => e in r ? n(r, e, { enumerable: true, configurable: true, writable: true, value: t }) : r[e] = t;
var L2 = (r, e) => {
  for (var t in e)
    n(r, t, { get: e[t], enumerable: true });
};
var c = (r, e, t, o) => {
  if (e && typeof e == "object" || typeof e == "function")
    for (let a of v(e))
      !w.call(r, a) && a !== t && n(r, a, { get: () => e[a], enumerable: !(o = b(e, a)) || o.enumerable });
  return r;
};
var K = (r, e, t) => (t = r != null ? g(O(r)) : {}, c(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  e || !r || !r.__esModule ? n(t, "default", { value: r, enumerable: true }) : t,
  r
));
var D = (r) => c(n({}, "__esModule", { value: true }), r);
var s = (r, e, t) => (j(r, typeof e != "symbol" ? e + "" : e, t), t);
var h = {};
L2(h, {
  default: () => i
});
var d = D(h);
var u = K(import_react.default);
var p = L;
var S = wt;
var T = "https://cdn.embed.ly/player-0.1.0.min.js";
var M = "playerjs";
var i = class extends u.Component {
  constructor() {
    super(...arguments), s(this, "callPlayer", p.callPlayer), s(this, "duration", null), s(this, "currentTime", null), s(this, "secondsLoaded", null), s(this, "mute", () => {
      this.callPlayer("mute");
    }), s(this, "unmute", () => {
      this.callPlayer("unmute");
    }), s(this, "ref", (e) => {
      this.iframe = e;
    });
  }
  componentDidMount() {
    this.props.onMount && this.props.onMount(this);
  }
  load(e) {
    (0, p.getSDK)(T, M).then((t) => {
      this.iframe && (this.player = new t.Player(this.iframe), this.player.on("ready", () => {
        setTimeout(() => {
          this.player.isReady = true, this.player.setLoop(this.props.loop), this.props.muted && this.player.mute(), this.addListeners(this.player, this.props), this.props.onReady();
        }, 500);
      }));
    }, this.props.onError);
  }
  addListeners(e, t) {
    e.on("play", t.onPlay), e.on("pause", t.onPause), e.on("ended", t.onEnded), e.on("error", t.onError), e.on("timeupdate", ({ duration: o, seconds: a }) => {
      this.duration = o, this.currentTime = a;
    });
  }
  play() {
    this.callPlayer("play");
  }
  pause() {
    this.callPlayer("pause");
  }
  stop() {
  }
  seekTo(e, t = true) {
    this.callPlayer("setCurrentTime", e), t || this.pause();
  }
  setVolume(e) {
    this.callPlayer("setVolume", e);
  }
  setLoop(e) {
    this.callPlayer("setLoop", e);
  }
  getDuration() {
    return this.duration;
  }
  getCurrentTime() {
    return this.currentTime;
  }
  getSecondsLoaded() {
    return this.secondsLoaded;
  }
  render() {
    const e = {
      width: "100%",
      height: "100%"
    };
    return u.default.createElement(
      "iframe",
      {
        ref: this.ref,
        src: this.props.url,
        frameBorder: "0",
        scrolling: "no",
        style: e,
        allow: "encrypted-media; autoplay; fullscreen;",
        referrerPolicy: "no-referrer-when-downgrade"
      }
    );
  }
};
s(i, "displayName", "Kaltura");
s(i, "canPlay", S.canPlay.kaltura);
var E = sn(d);
var R = P({
  __proto__: null,
  default: E
}, [d]);
export {
  R as K
};
//# sourceMappingURL=2134be45-HDBZB3N6.js.map
