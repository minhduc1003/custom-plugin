import {
  A6e,
  V6e,
  h1,
  h2,
  ho
} from "./chunk-2ZELARZW.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/e3896ea4.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
it("test action handler", (c) => {
  const [r] = V6e();
  let t = 0;
  const a = ho(0, true), e = {
    action: a,
    reduceFn: () => {
      t += 1;
    }
  }, s = {
    ...e,
    action: {
      ...a,
      priority: "defer"
    }
  }, d = {
    ...e,
    action: void 0
  };
  h1.range(3).forEach(() => {
    r(e);
  }), expect(t).toBe(3), h1.range(3).forEach(() => {
    r(s);
  }), expect(t).toBe(3), r(e), expect(t).toBe(7);
  let o = 0;
  h1.range(3).forEach(() => {
    o = r(s);
  }), expect(o).toBe(3), expect(t).toBe(7), setTimeout(() => {
    o = r(d), expect(t).toBe(11), expect(o).toBe(0), c();
  }), r(s);
});
test("nestDispatchHandler", () => {
  const c = A6e(), r = [], t = (a) => {
    c(a, (e) => {
      e.type === h2.CHANGE_VALUE && (r.push("start" + e.value), e.value === 1 && (t(ho(2, true)), t(ho(4, true))), e.value === 2 && t(ho(3, true)), e.value === 4 && t(ho(5, true)), e.value === 6 && t(ho(7, true)), r.push("end" + e.value));
    });
  };
  t(ho(1, true)), t(ho(6, true)), expect(r).toStrictEqual(["start1", "end1", "start2", "end2", "start3", "end3", "start4", "end4", "start5", "end5", "start6", "end6", "start7", "end7"]);
});
//# sourceMappingURL=e3896ea4-JQ3NT6AI.js.map
