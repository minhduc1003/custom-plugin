{
  "version": 3,
  "sources": ["../../lowcoder-sdk/dist/820c7816.js"],
  "sourcesContent": ["import { TableComp as I } from \"./e830a3ab.js\";\nimport { l as y } from \"./f915fcd2.js\";\nimport { J as l, _ as C, dW as g, dU as E } from \"./c988e26e.js\";\nimport \"./911053df.js\";\nimport \"react\";\nimport \"react-dom\";\nimport \"./6a2c46a1.js\";\nimport \"./22fa10de.js\";\nimport \"./8c51b61b.js\";\nimport \"./5230605f.js\";\nimport \"./be799735.js\";\nimport \"./0417d842.js\";\nimport \"./975a080d.js\";\nimport \"./82a4bca8.js\";\nimport \"./71bdd49a.js\";\nimport \"./2088ebd5.js\";\nimport \"./d3b0afba.js\";\nimport \"./85e61f03.js\";\nimport \"./36c2248f.js\";\nimport \"./70f9cad3.js\";\nimport \"./80c67fbe.js\";\nimport \"./094988fd.js\";\nimport \"./734fbd0f.js\";\nimport \"./80229ccd.js\";\nimport \"./16b77c22.js\";\nimport \"./b25be8d9.js\";\nimport \"./0c3664e6.js\";\nimport \"./c504e788.js\";\nimport \"./ad2208e2.js\";\nimport \"./e5bcb9b0.js\";\nimport \"./51dea655.js\";\nimport \"./fcc9e192.js\";\nimport \"./325a473d.js\";\nimport \"./33706f61.js\";\nimport \"./765e17fb.js\";\nimport \"./98885dce.js\";\nimport \"./9ee13d0e.js\";\nimport \"./9f467dd0.js\";\nimport \"./765a8ca5.js\";\nimport \"./3e9c3444.js\";\nimport \"./464239f7.js\";\nimport \"./608865ad.js\";\nimport \"./b0ddbdcf.js\";\nimport \"./ada1f35c.js\";\nimport \"./68ba86a3.js\";\nconst c = (a, r) => {\n  const t = a.children.columns.getView().map((i) => i.getView());\n  expect(r.length).toEqual(t.length), r.forEach((i) => {\n    const e = t.find((o) => o.dataIndex === i.dataIndex);\n    if (!e)\n      throw new Error(`expect column: ${JSON.stringify(i)}, but not found.`);\n    Object.keys(i).forEach((o) => {\n      const s = e[o], n = i[o];\n      if (n !== void 0 && !C.isEqual(s, n))\n        throw new Error(`ColumnKey:${o}, expect: \"${n}\", but found: \"${s}\"`);\n    });\n  });\n  const d = a.children.dynamicColumnConfig.getView();\n  if ((d == null ? void 0 : d.length) > 0) {\n    const i = (o) => {\n    }, e = y(t, a.children.sort.getView(), a.children.toolbar.getView().columnSetting, a.children.size.getView(), a.children.dynamicColumn.getView(), d, a.columnAggrData, a.children.editModeClicks.getView(), i);\n    expect(t.length).toBeGreaterThanOrEqual(e.length), e.forEach((o) => {\n      const s = o.dataIndex, n = t.find((f) => f.dataIndex === s);\n      if (!n)\n        throw new Error(`Error, column should not be undefined, column: ${JSON.stringify(o)}`);\n      const m = n.isCustom ? n.title : n.dataIndex;\n      if (!d.includes(m))\n        throw new Error(`dynamic config test fail: unexpect column: ${m}`);\n    });\n  }\n};\nfunction q() {\n  const a = {\n    query1: g({\n      data: [{\n        q1: 1\n      }]\n    }),\n    query2: g({\n      data: [{\n        q2: 2\n      }]\n    })\n  };\n  return {\n    tableData: {\n      data: JSON.stringify([{\n        a: 1\n      }]),\n      columns: [{\n        dataIndex: \"a\",\n        title: \"a\",\n        hide: !0\n      }, {\n        title: \"custom\",\n        dataIndex: \"custom1\",\n        isCustom: !0\n      }]\n    },\n    exposingInfo: a,\n    initColumns: [{\n      dataIndex: \"a\",\n      hide: !0,\n      title: \"a\"\n    }, {\n      dataIndex: \"custom1\",\n      hide: !1,\n      title: \"custom\",\n      isCustom: !0\n    }]\n  };\n}\nasync function x() {\n  await new Promise((a) => setTimeout(a, 20));\n}\ntest(\"test table dynamic columns: Change unEvalValue\", async () => {\n  const {\n    initColumns: a,\n    tableData: r,\n    exposingInfo: p\n  } = q();\n  let t = new I({\n    dispatch: (i) => {\n      t = l(t.reduce(i), p);\n    },\n    value: r\n  });\n  t = l(t), c(t, a), t = l(t.reduce(t.changeChildAction(\"data\", JSON.stringify([{\n    a: 1,\n    c: 2,\n    d: 3\n  }])))), await x();\n  const d = [...a, {\n    dataIndex: \"c\",\n    hide: !1,\n    title: \"c\"\n  }, {\n    dataIndex: \"d\",\n    title: \"d\"\n  }];\n  c(t, d), t = l(t.reduce(t.changeChildAction(\"data\", JSON.stringify([{\n    c: 2,\n    d: 3\n  }])))), await x(), c(t, d.filter((i) => i.dataIndex !== \"a\"));\n}, 1e3);\nasync function u(a, r, p) {\n  const {\n    initColumns: t,\n    tableData: d,\n    exposingInfo: i\n  } = q();\n  let e = new I({\n    dispatch: (h) => {\n      let w;\n      r ? w = E({\n        readOnly: r\n      }, () => e.reduce(h)) : w = e.reduce(h), e = l(w, i);\n    },\n    value: {\n      ...d,\n      dynamicColumn: a,\n      ...a && p && {\n        dynamicColumnConfig: JSON.stringify(p)\n      }\n    }\n  });\n  e = l(e);\n  const o = async () => {\n    e = l(e.reduce(e.changeChildAction(\"data\", \"{{query1.data}}\")), i), await x();\n  }, s = [{\n    dataIndex: \"q1\",\n    title: \"q1\"\n  }, {\n    dataIndex: \"custom1\",\n    title: \"custom\",\n    isCustom: !0\n  }];\n  await o(), !a && r ? c(e, t) : c(e, s);\n  const n = [{\n    q1: 1,\n    a: 2\n  }];\n  i.query1 = g({\n    data: n\n  }), await o();\n  const m = [...s, {\n    dataIndex: \"a\",\n    title: \"a\"\n  }];\n  expect(e.children.data.getView()).toEqual(n), !a && r ? c(e, t) : c(e, m);\n  const f = [{\n    a: 2\n  }];\n  i.query1 = g({\n    data: f\n  }), await o(), expect(e.children.data.getView()).toEqual(f), a ? c(e, m.filter((h) => h.dataIndex !== \"q1\")) : r ? c(e, t) : c(e, m);\n}\ntest(\"test table dynamic columns\", async () => {\n  await u(!1, !1), await u(!1, !0), await u(!0, !1), await u(!0, !0), await u(!0, !1, [\"custom\", \"q1\"]), await u(!0, !0, [\"custom\", \"q1\"]);\n}, 2e3);\n"],
  "mappings": "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",
  "names": ["dt"]
}
