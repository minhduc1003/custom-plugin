import {
  C,
  x
} from "./chunk-ABM3Y7E2.js";
import {
  C5,
  E7,
  Gse,
  H0,
  H3,
  M2,
  N,
  One,
  RQe,
  Rc,
  T2,
  VN2,
  VS,
  Vr,
  Yh,
  ZK1,
  _,
  b0,
  ca,
  d,
  da,
  de,
  fB1,
  gM,
  hWe,
  ka,
  p1,
  qC,
  qse,
  t2,
  u3,
  vo
} from "./chunk-2ZELARZW.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/55bdce46.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var _2 = de.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  ${(t) => t.$style && tt(t.$style)}
`;
var tt = (t) => T2`
    button {
      border: ${t.borderWidth} ${t.borderStyle} ${t.border};
      border-radius: ${t.radius};
      margin: ${t.margin};
      rotate: ${t.rotation};
      padding: ${t.padding};
      max-width: ${qse(t.margin)};
      max-height: ${Gse(t.margin)};
    }
  `;
var et = de(VN2)`
  font-size: 13px;
  margin-right: 4px;
`;
var nt = de.div`
  display: flex;

  ${(t) => t.$style && ot(t.$style)}
`;
function ot(t) {
  return T2`
    svg {
      width: ${t.size} !important;
      height: ${t.size} !important;
    }
  `;
}
function it(t) {
  return t.uiCompInfoList().filter((e) => e.type === "form").map((e) => ({
    label: e.name,
    value: e.name
  }));
}
function p(t, e) {
  const n = t == null ? void 0 : t.getUICompByName(e);
  if (n && n.children.compType.getView() === "form")
    return n.children.comp;
}
function at(t, e) {
  const n = p(t, e);
  if (n)
    return d(Yh.Provider, {
      value: e,
      children: n.onEventPropertyView(N(p1, {
        children: [d(et, {
          onClick: () => t.setSelectedCompNames(/* @__PURE__ */ new Set([e]), "rightPanel"),
          children: e
        }), _("button.formButtonEvent")]
      }))
    });
}
var rt = class extends Rc {
  getPropertyView() {
    const e = _("button.formToSubmit");
    return u3({
      filterText: e
    }, d(Vr.Consumer, {
      children: (n) => N(p1, {
        children: [d(da, {
          label: e,
          value: this.value,
          options: it(n),
          onChange: (u) => this.dispatchChangeValueAction(u),
          allowClear: true
        }), at(n, this.value)]
      })
    }));
  }
};
var lt = [{
  label: _("button.default"),
  value: ""
}, {
  label: _("button.submit"),
  value: "submit"
}];
function H(t) {
  return !t;
}
function st(t, e) {
  const n = p(t, e);
  n && n.submit();
}
var ct = {
  iconSize: t2(M2, "20px"),
  type: ca(lt, ""),
  autoHeight: t2(gM, "fixed"),
  aspectRatio: t2(M2, "1 / 1"),
  onEvent: One,
  disabled: H3,
  loading: H3,
  form: rt,
  prefixIcon: C5,
  style: x,
  viewRef: ZK1,
  restrictPaddingOnRotation: t2(M2, "controlButton")
};
var C2 = function() {
  return new VS(ct, (t) => {
    const [e, n] = (0, import_react.useState)(120), [u, ut] = (0, import_react.useState)(0), f = (0, import_react.useRef)(null), v = (0, import_react.useRef)(null);
    (0, import_react.useEffect)(() => {
      u && e && x2();
    }, [u, e]);
    const B = (o, i) => {
      const c = f.current, $ = c == null ? void 0 : c.getElementsByTagName("button")[0];
      c.style.height = o, c.style.width = i, $.style.height = o, $.style.width = i;
    }, x2 = () => {
      const o = f.current, i = v.current;
      !(o != null && o.clientWidth) || !(o != null && o.clientHeight) || t.autoHeight || !e || B((i == null ? void 0 : i.clientHeight) + "px", (i == null ? void 0 : i.clientWidth) + "px");
    };
    return d(Vr.Consumer, {
      children: (o) => d(hWe, {
        onResize: x2,
        render: () => {
          var i;
          return d(_2, {
            ref: v,
            $style: t.style,
            children: d("div", {
              ref: f,
              style: t.autoHeight ? {
                width: "100%",
                height: "100%"
              } : void 0,
              children: d(C, {
                ref: t.viewRef,
                $buttonStyle: t.style,
                loading: t.loading,
                style: t.autoHeight ? {
                  width: "100%",
                  height: "100%",
                  aspectRatio: t.aspectRatio,
                  borderRadius: t.style.radius
                } : {
                  aspectRatio: t.aspectRatio,
                  borderRadius: t.style.radius
                },
                disabled: t.disabled || !H(t.type) && ((i = p(o, t.form)) == null ? void 0 : i.disableSubmit()),
                onClick: () => H(t.type) ? t.onEvent("click") : st(o, t.form),
                children: t.prefixIcon && d(nt, {
                  $style: {
                    ...t.style,
                    size: t.iconSize
                  },
                  children: t.prefixIcon
                })
              })
            })
          });
        }
      })
    });
  }).setPropertyViewFn((t) => N(p1, {
    children: [d(ka, {
      name: b0.basic,
      children: t.prefixIcon.propertyView({
        label: _("button.icon")
      })
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "logic" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && N(ka, {
      name: b0.interaction,
      children: [t.onEvent.getPropertyView(), qC(t), E7(t), fB1(t)]
    }), ((0, import_react.useContext)(Vr).editorModeStatus === "layout" || (0, import_react.useContext)(Vr).editorModeStatus === "both") && N(p1, {
      children: [N(ka, {
        name: b0.layout,
        children: [t.autoHeight.getPropertyView(), t.iconSize.propertyView({
          label: _("button.iconSize")
        })]
      }), N(ka, {
        name: b0.style,
        children: [t.style.getPropertyView(), t.aspectRatio.propertyView({
          label: _("style.aspectRatio")
        })]
      })]
    })]
  })).build();
}();
C2 = class extends C2 {
  autoHeight() {
    return this.children.autoHeight.getView();
  }
};
var bt = H0(C2, [new vo("loading", _("button.loadingDesc")), ...RQe]);

export {
  bt
};
//# sourceMappingURL=chunk-OBM2GGGS.js.map
