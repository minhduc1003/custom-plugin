import {
  w
} from "./chunk-NCDKRTSH.js";
import {
  U8,
  _,
  ca,
  mer,
  z3
} from "./chunk-2ZELARZW.js";
import {
  require_react_dom
} from "./chunk-VGGCA2L5.js";
import {
  require_react
} from "./chunk-73THXJN7.js";
import {
  __toESM
} from "./chunk-2TUXWMP5.js";

// node_modules/lowcoder-sdk/dist/6a2c46a1.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var y = [{
  label: _("selectionControl.single"),
  value: "single"
}, {
  label: _("selectionControl.multiple"),
  value: "multiple"
}, {
  label: _("selectionControl.close"),
  value: "close"
}];
function i(r) {
  return r[w];
}
function te(r) {
  switch (r.children.mode.getView()) {
    case "single":
      return [r.children.selectedRowKey.getView()];
    case "multiple":
      return r.children.selectedRowKeys.getView();
  }
  return [];
}
var re = function() {
  const r = {
    mode: ca(y, "single"),
    selectedRowKey: z3("0"),
    selectedRowKeys: z3([])
  };
  return new mer(r, (e, m) => {
    const n = (t) => {
      i(t) !== e.selectedRowKey && m(U8("selectedRowKey", i(t), false));
    };
    return (t) => {
      if (e.mode === "single" || e.mode === "close")
        return {
          rowKey: i,
          rowClassName: (o, d, C) => e.mode === "close" ? "" : i(o) === e.selectedRowKey ? "ant-table-row-selected" : "",
          onRow: (o, d) => ({
            onClick: () => {
              n(o), t("rowClick"), i(o) !== e.selectedRowKey && t("rowSelectChange");
            }
          })
        };
      const p = {
        type: "checkbox",
        selectedRowKeys: e.selectedRowKeys,
        preserveSelectedRowKeys: true,
        onChange: (o) => {
          m(U8("selectedRowKeys", o, false)), t("rowSelectChange");
        },
        // click checkbox also trigger row click event
        onSelect: (o) => {
          n(o), t("rowClick");
        }
      };
      return {
        rowKey: i,
        rowSelection: p,
        onRow: (o) => ({
          onClick: () => {
            n(o), t("rowClick");
          }
        })
      };
    };
  }).setPropertyViewFn((e) => e.mode.propertyView({
    label: _("selectionControl.mode"),
    radioButton: true
  })).build();
}();

export {
  te,
  re
};
//# sourceMappingURL=chunk-WX2SP7KE.js.map
